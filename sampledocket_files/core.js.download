// $Header: /usr/local/cvsroot/bankruptcy/web/lib/core.js,v 6.27 2012/04/04 21:34:13 jpd Exp $

// RPM Packages: ao-bkecf-web-*
// RPM Permissions: 666
// RPM Owner: nobody
// RPM Group: nobody
// RPM Flags: configure

// Do not edit this file directly.  Built it by running recreate_core.
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
if(typeof YAHOO=="undefined"||!YAHOO){var YAHOO={};}YAHOO.namespace=function(){var A=arguments,E=null,C,B,D;for(C=0;C<A.length;C=C+1){D=(""+A[C]).split(".");E=YAHOO;for(B=(D[0]=="YAHOO")?1:0;B<D.length;B=B+1){E[D[B]]=E[D[B]]||{};E=E[D[B]];}}return E;};YAHOO.log=function(D,A,C){var B=YAHOO.widget.Logger;if(B&&B.log){return B.log(D,A,C);}else{return false;}};YAHOO.register=function(A,E,D){var I=YAHOO.env.modules,B,H,G,F,C;if(!I[A]){I[A]={versions:[],builds:[]};}B=I[A];H=D.version;G=D.build;F=YAHOO.env.listeners;B.name=A;B.version=H;B.build=G;B.versions.push(H);B.builds.push(G);B.mainClass=E;for(C=0;C<F.length;C=C+1){F[C](B);}if(E){E.VERSION=H;E.BUILD=G;}else{YAHOO.log("mainClass is undefined for module "+A,"warn");}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(A){return YAHOO.env.modules[A]||null;};YAHOO.env.ua=function(){var C={ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0,caja:0},B=navigator.userAgent,A;if((/KHTML/).test(B)){C.webkit=1;}A=B.match(/AppleWebKit\/([^\s]*)/);if(A&&A[1]){C.webkit=parseFloat(A[1]);if(/ Mobile\//.test(B)){C.mobile="Apple";}else{A=B.match(/NokiaN[^\/]*/);if(A){C.mobile=A[0];}}A=B.match(/AdobeAIR\/([^\s]*)/);if(A){C.air=A[0];}}if(!C.webkit){A=B.match(/Opera[\s\/]([^\s]*)/);if(A&&A[1]){C.opera=parseFloat(A[1]);A=B.match(/Opera Mini[^;]*/);if(A){C.mobile=A[0];}}else{A=B.match(/MSIE\s([^;]*)/);if(A&&A[1]){C.ie=parseFloat(A[1]);}else{A=B.match(/Gecko\/([^\s]*)/);if(A){C.gecko=1;A=B.match(/rv:([^\s\)]*)/);if(A&&A[1]){C.gecko=parseFloat(A[1]);}}}}}A=B.match(/Caja\/([^\s]*)/);if(A&&A[1]){C.caja=parseFloat(A[1]);}return C;}();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var B=YAHOO_config.listener,A=YAHOO.env.listeners,D=true,C;if(B){for(C=0;C<A.length;C=C+1){if(A[C]==B){D=false;break;}}if(D){A.push(B);}}}})();YAHOO.lang=YAHOO.lang||{};(function(){var B=YAHOO.lang,F="[object Array]",C="[object Function]",A=Object.prototype,E=["toString","valueOf"],D={isArray:function(G){return A.toString.apply(G)===F;},isBoolean:function(G){return typeof G==="boolean";},isFunction:function(G){return A.toString.apply(G)===C;},isNull:function(G){return G===null;},isNumber:function(G){return typeof G==="number"&&isFinite(G);},isObject:function(G){return(G&&(typeof G==="object"||B.isFunction(G)))||false;},isString:function(G){return typeof G==="string";},isUndefined:function(G){return typeof G==="undefined";},_IEEnumFix:(YAHOO.env.ua.ie)?function(I,H){var G,K,J;for(G=0;G<E.length;G=G+1){K=E[G];J=H[K];if(B.isFunction(J)&&J!=A[K]){I[K]=J;}}}:function(){},extend:function(J,K,I){if(!K||!J){throw new Error("extend failed, please check that "+"all dependencies are included.");}var H=function(){},G;H.prototype=K.prototype;J.prototype=new H();J.prototype.constructor=J;J.superclass=K.prototype;if(K.prototype.constructor==A.constructor){K.prototype.constructor=K;}if(I){for(G in I){if(B.hasOwnProperty(I,G)){J.prototype[G]=I[G];}}B._IEEnumFix(J.prototype,I);}},augmentObject:function(K,J){if(!J||!K){throw new Error("Absorb failed, verify dependencies.");}var G=arguments,I,L,H=G[2];if(H&&H!==true){for(I=2;I<G.length;I=I+1){K[G[I]]=J[G[I]];}}else{for(L in J){if(H||!(L in K)){K[L]=J[L];}}B._IEEnumFix(K,J);}},augmentProto:function(J,I){if(!I||!J){throw new Error("Augment failed, verify dependencies.");}var G=[J.prototype,I.prototype],H;for(H=2;H<arguments.length;H=H+1){G.push(arguments[H]);}B.augmentObject.apply(this,G);},dump:function(G,L){var I,K,N=[],O="{...}",H="f(){...}",M=", ",J=" => ";if(!B.isObject(G)){return G+"";}else{if(G instanceof Date||("nodeType" in G&&"tagName" in G)){return G;}else{if(B.isFunction(G)){return H;}}}L=(B.isNumber(L))?L:3;if(B.isArray(G)){N.push("[");for(I=0,K=G.length;I<K;I=I+1){if(B.isObject(G[I])){N.push((L>0)?B.dump(G[I],L-1):O);}else{N.push(G[I]);}N.push(M);}if(N.length>1){N.pop();}N.push("]");}else{N.push("{");for(I in G){if(B.hasOwnProperty(G,I)){N.push(I+J);if(B.isObject(G[I])){N.push((L>0)?B.dump(G[I],L-1):O);}else{N.push(G[I]);}N.push(M);}}if(N.length>1){N.pop();}N.push("}");}return N.join("");},substitute:function(V,H,O){var L,K,J,R,S,U,Q=[],I,M="dump",P=" ",G="{",T="}",N;for(;;){L=V.lastIndexOf(G);if(L<0){break;}K=V.indexOf(T,L);if(L+1>=K){break;}I=V.substring(L+1,K);R=I;U=null;J=R.indexOf(P);if(J>-1){U=R.substring(J+1);R=R.substring(0,J);}S=H[R];if(O){S=O(R,S,U);}if(B.isObject(S)){if(B.isArray(S)){S=B.dump(S,parseInt(U,10));}else{U=U||"";N=U.indexOf(M);if(N>-1){U=U.substring(4);}if(S.toString===A.toString||N>-1){S=B.dump(S,parseInt(U,10));}else{S=S.toString();}}}else{if(!B.isString(S)&&!B.isNumber(S)){S="~-"+Q.length+"-~";Q[Q.length]=I;}}V=V.substring(0,L)+S+V.substring(K+1);}for(L=Q.length-1;L>=0;L=L-1){V=V.replace(new RegExp("~-"+L+"-~"),"{"+Q[L]+"}","g");}return V;},trim:function(G){try{return G.replace(/^\s+|\s+$/g,"");}catch(H){return G;}},merge:function(){var J={},H=arguments,G=H.length,I;for(I=0;I<G;I=I+1){B.augmentObject(J,H[I],true);}return J;},later:function(N,H,O,J,K){N=N||0;H=H||{};var I=O,M=J,L,G;if(B.isString(O)){I=H[O];}if(!I){throw new TypeError("method undefined");}if(!B.isArray(M)){M=[J];}L=function(){I.apply(H,M);};G=(K)?setInterval(L,N):setTimeout(L,N);return{interval:K,cancel:function(){if(this.interval){clearInterval(G);}else{clearTimeout(G);}}};},isValue:function(G){return(B.isObject(G)||B.isString(G)||B.isNumber(G)||B.isBoolean(G));}};B.hasOwnProperty=(A.hasOwnProperty)?function(G,H){return G&&G.hasOwnProperty(H);}:function(G,H){return !B.isUndefined(G[H])&&G.constructor.prototype[H]!==G[H];};D.augmentObject(B,D,true);YAHOO.util.Lang=B;B.augment=B.augmentProto;YAHOO.augment=B.augmentProto;YAHOO.extend=B.extend;})();YAHOO.register("yahoo",YAHOO,{version:"2.7.0",build:"1799"});YAHOO.util.Get=function(){var M={},L=0,R=0,E=false,N=YAHOO.env.ua,S=YAHOO.lang;var J=function(W,T,X){var U=X||window,Y=U.document,Z=Y.createElement(W);for(var V in T){if(T[V]&&YAHOO.lang.hasOwnProperty(T,V)){Z.setAttribute(V,T[V]);}}return Z;};var I=function(T,U,W){var V=W||"utf-8";return J("link",{"id":"yui__dyn_"+(R++),"type":"text/css","charset":V,"rel":"stylesheet","href":T},U);
};var P=function(T,U,W){var V=W||"utf-8";return J("script",{"id":"yui__dyn_"+(R++),"type":"text/javascript","charset":V,"src":T},U);};var A=function(T,U){return{tId:T.tId,win:T.win,data:T.data,nodes:T.nodes,msg:U,purge:function(){D(this.tId);}};};var B=function(T,W){var U=M[W],V=(S.isString(T))?U.win.document.getElementById(T):T;if(!V){Q(W,"target node not found: "+T);}return V;};var Q=function(W,V){var T=M[W];if(T.onFailure){var U=T.scope||T.win;T.onFailure.call(U,A(T,V));}};var C=function(W){var T=M[W];T.finished=true;if(T.aborted){var V="transaction "+W+" was aborted";Q(W,V);return;}if(T.onSuccess){var U=T.scope||T.win;T.onSuccess.call(U,A(T));}};var O=function(V){var T=M[V];if(T.onTimeout){var U=T.scope||T;T.onTimeout.call(U,A(T));}};var G=function(V,Z){var U=M[V];if(U.timer){U.timer.cancel();}if(U.aborted){var X="transaction "+V+" was aborted";Q(V,X);return;}if(Z){U.url.shift();if(U.varName){U.varName.shift();}}else{U.url=(S.isString(U.url))?[U.url]:U.url;if(U.varName){U.varName=(S.isString(U.varName))?[U.varName]:U.varName;}}var c=U.win,b=c.document,a=b.getElementsByTagName("head")[0],W;if(U.url.length===0){if(U.type==="script"&&N.webkit&&N.webkit<420&&!U.finalpass&&!U.varName){var Y=P(null,U.win,U.charset);Y.innerHTML='YAHOO.util.Get._finalize("'+V+'");';U.nodes.push(Y);a.appendChild(Y);}else{C(V);}return;}var T=U.url[0];if(!T){U.url.shift();return G(V);}if(U.timeout){U.timer=S.later(U.timeout,U,O,V);}if(U.type==="script"){W=P(T,c,U.charset);}else{W=I(T,c,U.charset);}F(U.type,W,V,T,c,U.url.length);U.nodes.push(W);if(U.insertBefore){var e=B(U.insertBefore,V);if(e){e.parentNode.insertBefore(W,e);}}else{a.appendChild(W);}if((N.webkit||N.gecko)&&U.type==="css"){G(V,T);}};var K=function(){if(E){return;}E=true;for(var T in M){var U=M[T];if(U.autopurge&&U.finished){D(U.tId);delete M[T];}}E=false;};var D=function(a){var X=M[a];if(X){var Z=X.nodes,T=Z.length,Y=X.win.document,W=Y.getElementsByTagName("head")[0];if(X.insertBefore){var V=B(X.insertBefore,a);if(V){W=V.parentNode;}}for(var U=0;U<T;U=U+1){W.removeChild(Z[U]);}X.nodes=[];}};var H=function(U,T,V){var X="q"+(L++);V=V||{};if(L%YAHOO.util.Get.PURGE_THRESH===0){K();}M[X]=S.merge(V,{tId:X,type:U,url:T,finished:false,aborted:false,nodes:[]});var W=M[X];W.win=W.win||window;W.scope=W.scope||W.win;W.autopurge=("autopurge" in W)?W.autopurge:(U==="script")?true:false;S.later(0,W,G,X);return{tId:X};};var F=function(c,X,W,U,Y,Z,b){var a=b||G;if(N.ie){X.onreadystatechange=function(){var d=this.readyState;if("loaded"===d||"complete"===d){X.onreadystatechange=null;a(W,U);}};}else{if(N.webkit){if(c==="script"){if(N.webkit>=420){X.addEventListener("load",function(){a(W,U);});}else{var T=M[W];if(T.varName){var V=YAHOO.util.Get.POLL_FREQ;T.maxattempts=YAHOO.util.Get.TIMEOUT/V;T.attempts=0;T._cache=T.varName[0].split(".");T.timer=S.later(V,T,function(j){var f=this._cache,e=f.length,d=this.win,g;for(g=0;g<e;g=g+1){d=d[f[g]];if(!d){this.attempts++;if(this.attempts++>this.maxattempts){var h="Over retry limit, giving up";T.timer.cancel();Q(W,h);}else{}return;}}T.timer.cancel();a(W,U);},null,true);}else{S.later(YAHOO.util.Get.POLL_FREQ,null,a,[W,U]);}}}}else{X.onload=function(){a(W,U);};}}};return{POLL_FREQ:10,PURGE_THRESH:20,TIMEOUT:2000,_finalize:function(T){S.later(0,null,C,T);},abort:function(U){var V=(S.isString(U))?U:U.tId;var T=M[V];if(T){T.aborted=true;}},script:function(T,U){return H("script",T,U);},css:function(T,U){return H("css",T,U);}};}();YAHOO.register("get",YAHOO.util.Get,{version:"2.7.0",build:"1799"});(function(){var Y=YAHOO,util=Y.util,lang=Y.lang,env=Y.env,PROV="_provides",SUPER="_supersedes",REQ="expanded",AFTER="_after";var YUI={dupsAllowed:{"yahoo":true,"get":true},info:{"root":"2.7.0/build/","base":"http://yui.yahooapis.com/2.7.0/build/","comboBase":"http://yui.yahooapis.com/combo?","skin":{"defaultSkin":"sam","base":"assets/skins/","path":"skin.css","after":["reset","fonts","grids","base"],"rollup":3},dupsAllowed:["yahoo","get"],"moduleInfo":{"animation":{"type":"js","path":"animation/animation-min.js","requires":["dom","event"]},"autocomplete":{"type":"js","path":"autocomplete/autocomplete-min.js","requires":["dom","event","datasource"],"optional":["connection","animation"],"skinnable":true},"base":{"type":"css","path":"base/base-min.css","after":["reset","fonts","grids"]},"button":{"type":"js","path":"button/button-min.js","requires":["element"],"optional":["menu"],"skinnable":true},"calendar":{"type":"js","path":"calendar/calendar-min.js","requires":["event","dom"],"skinnable":true},"carousel":{"type":"js","path":"carousel/carousel-min.js","requires":["element"],"optional":["animation"],"skinnable":true},"charts":{"type":"js","path":"charts/charts-min.js","requires":["element","json","datasource"]},"colorpicker":{"type":"js","path":"colorpicker/colorpicker-min.js","requires":["slider","element"],"optional":["animation"],"skinnable":true},"connection":{"type":"js","path":"connection/connection-min.js","requires":["event"]},"container":{"type":"js","path":"container/container-min.js","requires":["dom","event"],"optional":["dragdrop","animation","connection"],"supersedes":["containercore"],"skinnable":true},"containercore":{"type":"js","path":"container/container_core-min.js","requires":["dom","event"],"pkg":"container"},"cookie":{"type":"js","path":"cookie/cookie-min.js","requires":["yahoo"]},"datasource":{"type":"js","path":"datasource/datasource-min.js","requires":["event"],"optional":["connection"]},"datatable":{"type":"js","path":"datatable/datatable-min.js","requires":["element","datasource"],"optional":["calendar","dragdrop","paginator"],"skinnable":true},"dom":{"type":"js","path":"dom/dom-min.js","requires":["yahoo"]},"dragdrop":{"type":"js","path":"dragdrop/dragdrop-min.js","requires":["dom","event"]},"editor":{"type":"js","path":"editor/editor-min.js","requires":["menu","element","button"],"optional":["animation","dragdrop"],"supersedes":["simpleeditor"],"skinnable":true},"element":{"type":"js","path":"element/element-min.js","requires":["dom","event"]},"event":{"type":"js","path":"event/event-min.js","requires":["yahoo"]},"fonts":{"type":"css","path":"fonts/fonts-min.css"},"get":{"type":"js","path":"get/get-min.js","requires":["yahoo"]},"grids":{"type":"css","path":"grids/grids-min.css","requires":["fonts"],"optional":["reset"]},"history":{"type":"js","path":"history/history-min.js","requires":["event"]},"imagecropper":{"type":"js","path":"imagecropper/imagecropper-min.js","requires":["dom","event","dragdrop","element","resize"],"skinnable":true},"imageloader":{"type":"js","path":"imageloader/imageloader-min.js","requires":["event","dom"]},"json":{"type":"js","path":"json/json-min.js","requires":["yahoo"]},"layout":{"type":"js","path":"layout/layout-min.js","requires":["dom","event","element"],"optional":["animation","dragdrop","resize","selector"],"skinnable":true},"logger":{"type":"js","path":"logger/logger-min.js","requires":["event","dom"],"optional":["dragdrop"],"skinnable":true},"menu":{"type":"js","path":"menu/menu-min.js","requires":["containercore"],"skinnable":true},"paginator":{"type":"js","path":"paginator/paginator-min.js","requires":["element"],"skinnable":true},"profiler":{"type":"js","path":"profiler/profiler-min.js","requires":["yahoo"]},"profilerviewer":{"type":"js","path":"profilerviewer/profilerviewer-min.js","requires":["profiler","yuiloader","element"],"skinnable":true},"reset":{"type":"css","path":"reset/reset-min.css"},"reset-fonts-grids":{"type":"css","path":"reset-fonts-grids/reset-fonts-grids.css","supersedes":["reset","fonts","grids","reset-fonts"],"rollup":4},"reset-fonts":{"type":"css","path":"reset-fonts/reset-fonts.css","supersedes":["reset","fonts"],"rollup":2},"resize":{"type":"js","path":"resize/resize-min.js","requires":["dom","event","dragdrop","element"],"optional":["animation"],"skinnable":true},"selector":{"type":"js","path":"selector/selector-min.js","requires":["yahoo","dom"]},"simpleeditor":{"type":"js","path":"editor/simpleeditor-min.js","requires":["element"],"optional":["containercore","menu","button","animation","dragdrop"],"skinnable":true,"pkg":"editor"},"slider":{"type":"js","path":"slider/slider-min.js","requires":["dragdrop"],"optional":["animation"],"skinnable":true},"stylesheet":{"type":"js","path":"stylesheet/stylesheet-min.js","requires":["yahoo"]},"tabview":{"type":"js","path":"tabview/tabview-min.js","requires":["element"],"optional":["connection"],"skinnable":true},"treeview":{"type":"js","path":"treeview/treeview-min.js","requires":["event","dom"],"optional":["json"],"skinnable":true},"uploader":{"type":"js","path":"uploader/uploader.js","requires":["element"]},"utilities":{"type":"js","path":"utilities/utilities.js","supersedes":["yahoo","event","dragdrop","animation","dom","connection","element","yahoo-dom-event","get","yuiloader","yuiloader-dom-event"],"rollup":8},"yahoo":{"type":"js","path":"yahoo/yahoo-min.js"},"yahoo-dom-event":{"type":"js","path":"yahoo-dom-event/yahoo-dom-event.js","supersedes":["yahoo","event","dom"],"rollup":3},"yuiloader":{"type":"js","path":"yuiloader/yuiloader-min.js","supersedes":["yahoo","get"]},"yuiloader-dom-event":{"type":"js","path":"yuiloader-dom-event/yuiloader-dom-event.js","supersedes":["yahoo","dom","event","get","yuiloader","yahoo-dom-event"],"rollup":5},"yuitest":{"type":"js","path":"yuitest/yuitest-min.js","requires":["logger"],"skinnable":true}}},ObjectUtil:{appendArray:function(o,a){if(a){for(var i=0;
i<a.length;i=i+1){o[a[i]]=true;}}},keys:function(o,ordered){var a=[],i;for(i in o){if(lang.hasOwnProperty(o,i)){a.push(i);}}return a;}},ArrayUtil:{appendArray:function(a1,a2){Array.prototype.push.apply(a1,a2);},indexOf:function(a,val){for(var i=0;i<a.length;i=i+1){if(a[i]===val){return i;}}return -1;},toObject:function(a){var o={};for(var i=0;i<a.length;i=i+1){o[a[i]]=true;}return o;},uniq:function(a){return YUI.ObjectUtil.keys(YUI.ArrayUtil.toObject(a));}}};YAHOO.util.YUILoader=function(o){this._internalCallback=null;this._useYahooListener=false;this.onSuccess=null;this.onFailure=Y.log;this.onProgress=null;this.onTimeout=null;this.scope=this;this.data=null;this.insertBefore=null;this.charset=null;this.varName=null;this.base=YUI.info.base;this.comboBase=YUI.info.comboBase;this.combine=false;this.root=YUI.info.root;this.timeout=0;this.ignore=null;this.force=null;this.allowRollup=true;this.filter=null;this.required={};this.moduleInfo=lang.merge(YUI.info.moduleInfo);this.rollups=null;this.loadOptional=false;this.sorted=[];this.loaded={};this.dirty=true;this.inserted={};var self=this;env.listeners.push(function(m){if(self._useYahooListener){self.loadNext(m.name);}});this.skin=lang.merge(YUI.info.skin);this._config(o);};Y.util.YUILoader.prototype={FILTERS:{RAW:{"searchExp":"-min\\.js","replaceStr":".js"},DEBUG:{"searchExp":"-min\\.js","replaceStr":"-debug.js"}},SKIN_PREFIX:"skin-",_config:function(o){if(o){for(var i in o){if(lang.hasOwnProperty(o,i)){if(i=="require"){this.require(o[i]);}else{this[i]=o[i];}}}}var f=this.filter;if(lang.isString(f)){f=f.toUpperCase();if(f==="DEBUG"){this.require("logger");}if(!Y.widget.LogWriter){Y.widget.LogWriter=function(){return Y;};}this.filter=this.FILTERS[f];}},addModule:function(o){if(!o||!o.name||!o.type||(!o.path&&!o.fullpath)){return false;}o.ext=("ext" in o)?o.ext:true;o.requires=o.requires||[];this.moduleInfo[o.name]=o;this.dirty=true;return true;},require:function(what){var a=(typeof what==="string")?arguments:what;this.dirty=true;YUI.ObjectUtil.appendArray(this.required,a);},_addSkin:function(skin,mod){var name=this.formatSkin(skin),info=this.moduleInfo,sinf=this.skin,ext=info[mod]&&info[mod].ext;if(!info[name]){this.addModule({"name":name,"type":"css","path":sinf.base+skin+"/"+sinf.path,"after":sinf.after,"rollup":sinf.rollup,"ext":ext});}if(mod){name=this.formatSkin(skin,mod);if(!info[name]){var mdef=info[mod],pkg=mdef.pkg||mod;this.addModule({"name":name,"type":"css","after":sinf.after,"path":pkg+"/"+sinf.base+skin+"/"+mod+".css","ext":ext});}}return name;},getRequires:function(mod){if(!mod){return[];}if(!this.dirty&&mod.expanded){return mod.expanded;}mod.requires=mod.requires||[];var i,d=[],r=mod.requires,o=mod.optional,info=this.moduleInfo,m;for(i=0;i<r.length;i=i+1){d.push(r[i]);m=info[r[i]];YUI.ArrayUtil.appendArray(d,this.getRequires(m));}if(o&&this.loadOptional){for(i=0;i<o.length;i=i+1){d.push(o[i]);YUI.ArrayUtil.appendArray(d,this.getRequires(info[o[i]]));}}mod.expanded=YUI.ArrayUtil.uniq(d);return mod.expanded;},getProvides:function(name,notMe){var addMe=!(notMe),ckey=(addMe)?PROV:SUPER,m=this.moduleInfo[name],o={};if(!m){return o;}if(m[ckey]){return m[ckey];}var s=m.supersedes,done={},me=this;var add=function(mm){if(!done[mm]){done[mm]=true;lang.augmentObject(o,me.getProvides(mm));}};if(s){for(var i=0;i<s.length;i=i+1){add(s[i]);}}m[SUPER]=o;m[PROV]=lang.merge(o);m[PROV][name]=true;return m[ckey];},calculate:function(o){if(o||this.dirty){this._config(o);this._setup();this._explode();if(this.allowRollup){this._rollup();}this._reduce();this._sort();this.dirty=false;}},_setup:function(){var info=this.moduleInfo,name,i,j;for(name in info){if(lang.hasOwnProperty(info,name)){var m=info[name];if(m&&m.skinnable){var o=this.skin.overrides,smod;if(o&&o[name]){for(i=0;i<o[name].length;i=i+1){smod=this._addSkin(o[name][i],name);}}else{smod=this._addSkin(this.skin.defaultSkin,name);}m.requires.push(smod);}}}var l=lang.merge(this.inserted);if(!this._sandbox){l=lang.merge(l,env.modules);}if(this.ignore){YUI.ObjectUtil.appendArray(l,this.ignore);}if(this.force){for(i=0;i<this.force.length;i=i+1){if(this.force[i] in l){delete l[this.force[i]];}}}for(j in l){if(lang.hasOwnProperty(l,j)){lang.augmentObject(l,this.getProvides(j));}}this.loaded=l;},_explode:function(){var r=this.required,i,mod;for(i in r){if(lang.hasOwnProperty(r,i)){mod=this.moduleInfo[i];if(mod){var req=this.getRequires(mod);if(req){YUI.ObjectUtil.appendArray(r,req);}}}}},_skin:function(){},formatSkin:function(skin,mod){var s=this.SKIN_PREFIX+skin;if(mod){s=s+"-"+mod;}return s;},parseSkin:function(mod){if(mod.indexOf(this.SKIN_PREFIX)===0){var a=mod.split("-");return{skin:a[1],module:a[2]};}return null;},_rollup:function(){var i,j,m,s,rollups={},r=this.required,roll,info=this.moduleInfo;if(this.dirty||!this.rollups){for(i in info){if(lang.hasOwnProperty(info,i)){m=info[i];if(m&&m.rollup){rollups[i]=m;}}}this.rollups=rollups;}for(;;){var rolled=false;for(i in rollups){if(!r[i]&&!this.loaded[i]){m=info[i];s=m.supersedes;roll=false;if(!m.rollup){continue;}var skin=(m.ext)?false:this.parseSkin(i),c=0;if(skin){for(j in r){if(lang.hasOwnProperty(r,j)){if(i!==j&&this.parseSkin(j)){c++;roll=(c>=m.rollup);if(roll){break;}}}}}else{for(j=0;j<s.length;j=j+1){if(this.loaded[s[j]]&&(!YUI.dupsAllowed[s[j]])){roll=false;break;}else{if(r[s[j]]){c++;roll=(c>=m.rollup);if(roll){break;}}}}}if(roll){r[i]=true;rolled=true;this.getRequires(m);}}}if(!rolled){break;}}},_reduce:function(){var i,j,s,m,r=this.required;for(i in r){if(i in this.loaded){delete r[i];}else{var skinDef=this.parseSkin(i);if(skinDef){if(!skinDef.module){var skin_pre=this.SKIN_PREFIX+skinDef.skin;for(j in r){if(lang.hasOwnProperty(r,j)){m=this.moduleInfo[j];var ext=m&&m.ext;if(!ext&&j!==i&&j.indexOf(skin_pre)>-1){delete r[j];}}}}}else{m=this.moduleInfo[i];s=m&&m.supersedes;if(s){for(j=0;j<s.length;j=j+1){if(s[j] in r){delete r[s[j]];}}}}}}},_onFailure:function(msg){YAHOO.log("Failure","info","loader");var f=this.onFailure;if(f){f.call(this.scope,{msg:"failure: "+msg,data:this.data,success:false});
}},_onTimeout:function(){YAHOO.log("Timeout","info","loader");var f=this.onTimeout;if(f){f.call(this.scope,{msg:"timeout",data:this.data,success:false});}},_sort:function(){var s=[],info=this.moduleInfo,loaded=this.loaded,checkOptional=!this.loadOptional,me=this;var requires=function(aa,bb){var mm=info[aa];if(loaded[bb]||!mm){return false;}var ii,rr=mm.expanded,after=mm.after,other=info[bb],optional=mm.optional;if(rr&&YUI.ArrayUtil.indexOf(rr,bb)>-1){return true;}if(after&&YUI.ArrayUtil.indexOf(after,bb)>-1){return true;}if(checkOptional&&optional&&YUI.ArrayUtil.indexOf(optional,bb)>-1){return true;}var ss=info[bb]&&info[bb].supersedes;if(ss){for(ii=0;ii<ss.length;ii=ii+1){if(requires(aa,ss[ii])){return true;}}}if(mm.ext&&mm.type=="css"&&!other.ext&&other.type=="css"){return true;}return false;};for(var i in this.required){if(lang.hasOwnProperty(this.required,i)){s.push(i);}}var p=0;for(;;){var l=s.length,a,b,j,k,moved=false;for(j=p;j<l;j=j+1){a=s[j];for(k=j+1;k<l;k=k+1){if(requires(a,s[k])){b=s.splice(k,1);s.splice(j,0,b[0]);moved=true;break;}}if(moved){break;}else{p=p+1;}}if(!moved){break;}}this.sorted=s;},toString:function(){var o={type:"YUILoader",base:this.base,filter:this.filter,required:this.required,loaded:this.loaded,inserted:this.inserted};lang.dump(o,1);},_combine:function(){this._combining=[];var self=this,s=this.sorted,len=s.length,js=this.comboBase,css=this.comboBase,target,startLen=js.length,i,m,type=this.loadType;YAHOO.log("type "+type);for(i=0;i<len;i=i+1){m=this.moduleInfo[s[i]];if(m&&!m.ext&&(!type||type===m.type)){target=this.root+m.path;target+="&";if(m.type=="js"){js+=target;}else{css+=target;}this._combining.push(s[i]);}}if(this._combining.length){YAHOO.log("Attempting to combine: "+this._combining,"info","loader");var callback=function(o){var c=this._combining,len=c.length,i,m;for(i=0;i<len;i=i+1){this.inserted[c[i]]=true;}this.loadNext(o.data);},loadScript=function(){if(js.length>startLen){YAHOO.util.Get.script(self._filter(js),{data:self._loading,onSuccess:callback,onFailure:self._onFailure,onTimeout:self._onTimeout,insertBefore:self.insertBefore,charset:self.charset,timeout:self.timeout,scope:self});}};if(css.length>startLen){YAHOO.util.Get.css(this._filter(css),{data:this._loading,onSuccess:loadScript,onFailure:this._onFailure,onTimeout:this._onTimeout,insertBefore:this.insertBefore,charset:this.charset,timeout:this.timeout,scope:self});}else{loadScript();}return;}else{this.loadNext(this._loading);}},insert:function(o,type){this.calculate(o);this._loading=true;this.loadType=type;if(this.combine){return this._combine();}if(!type){var self=this;this._internalCallback=function(){self._internalCallback=null;self.insert(null,"js");};this.insert(null,"css");return;}this.loadNext();},sandbox:function(o,type){this._config(o);if(!this.onSuccess){throw new Error("You must supply an onSuccess handler for your sandbox");}this._sandbox=true;var self=this;if(!type||type!=="js"){this._internalCallback=function(){self._internalCallback=null;self.sandbox(null,"js");};this.insert(null,"css");return;}if(!util.Connect){var ld=new YAHOO.util.YUILoader();ld.insert({base:this.base,filter:this.filter,require:"connection",insertBefore:this.insertBefore,charset:this.charset,onSuccess:function(){this.sandbox(null,"js");},scope:this},"js");return;}this._scriptText=[];this._loadCount=0;this._stopCount=this.sorted.length;this._xhr=[];this.calculate();var s=this.sorted,l=s.length,i,m,url;for(i=0;i<l;i=i+1){m=this.moduleInfo[s[i]];if(!m){this._onFailure("undefined module "+m);for(var j=0;j<this._xhr.length;j=j+1){this._xhr[j].abort();}return;}if(m.type!=="js"){this._loadCount++;continue;}url=m.fullpath;url=(url)?this._filter(url):this._url(m.path);var xhrData={success:function(o){var idx=o.argument[0],name=o.argument[2];this._scriptText[idx]=o.responseText;if(this.onProgress){this.onProgress.call(this.scope,{name:name,scriptText:o.responseText,xhrResponse:o,data:this.data});}this._loadCount++;if(this._loadCount>=this._stopCount){var v=this.varName||"YAHOO";var t="(function() {\n";var b="\nreturn "+v+";\n})();";var ref=eval(t+this._scriptText.join("\n")+b);this._pushEvents(ref);if(ref){this.onSuccess.call(this.scope,{reference:ref,data:this.data});}else{this._onFailure.call(this.varName+" reference failure");}}},failure:function(o){this.onFailure.call(this.scope,{msg:"XHR failure",xhrResponse:o,data:this.data});},scope:this,argument:[i,url,s[i]]};this._xhr.push(util.Connect.asyncRequest("GET",url,xhrData));}},loadNext:function(mname){if(!this._loading){return;}if(mname){if(mname!==this._loading){return;}this.inserted[mname]=true;if(this.onProgress){this.onProgress.call(this.scope,{name:mname,data:this.data});}}var s=this.sorted,len=s.length,i,m;for(i=0;i<len;i=i+1){if(s[i] in this.inserted){continue;}if(s[i]===this._loading){return;}m=this.moduleInfo[s[i]];if(!m){this.onFailure.call(this.scope,{msg:"undefined module "+m,data:this.data});return;}if(!this.loadType||this.loadType===m.type){this._loading=s[i];var fn=(m.type==="css")?util.Get.css:util.Get.script,url=m.fullpath,self=this,c=function(o){self.loadNext(o.data);};url=(url)?this._filter(url):this._url(m.path);if(env.ua.webkit&&env.ua.webkit<420&&m.type==="js"&&!m.varName){c=null;this._useYahooListener=true;}fn(url,{data:s[i],onSuccess:c,onFailure:this._onFailure,onTimeout:this._onTimeout,insertBefore:this.insertBefore,charset:this.charset,timeout:this.timeout,varName:m.varName,scope:self});return;}}this._loading=null;if(this._internalCallback){var f=this._internalCallback;this._internalCallback=null;f.call(this);}else{if(this.onSuccess){this._pushEvents();this.onSuccess.call(this.scope,{data:this.data});}}},_pushEvents:function(ref){var r=ref||YAHOO;if(r.util&&r.util.Event){r.util.Event._load();}},_filter:function(str){var f=this.filter;return(f)?str.replace(new RegExp(f.searchExp,"g"),f.replaceStr):str;},_url:function(path){return this._filter((this.base||"")+path);}};})();YAHOO.register("yuiloader",YAHOO.util.YUILoader,{version:"2.7.0",build:"1799"});
(function(){YAHOO.env._id_counter=YAHOO.env._id_counter||0;var E=YAHOO.util,L=YAHOO.lang,m=YAHOO.env.ua,A=YAHOO.lang.trim,d={},h={},N=/^t(?:able|d|h)$/i,X=/color$/i,K=window.document,W=K.documentElement,e="ownerDocument",n="defaultView",v="documentElement",t="compatMode",b="offsetLeft",P="offsetTop",u="offsetParent",Z="parentNode",l="nodeType",C="tagName",O="scrollLeft",i="scrollTop",Q="getBoundingClientRect",w="getComputedStyle",a="currentStyle",M="CSS1Compat",c="BackCompat",g="class",F="className",J="",B=" ",s="(?:^|\\s)",k="(?= |$)",U="g",p="position",f="fixed",V="relative",j="left",o="top",r="medium",q="borderLeftWidth",R="borderTopWidth",D=m.opera,I=m.webkit,H=m.gecko,T=m.ie;E.Dom={CUSTOM_ATTRIBUTES:(!W.hasAttribute)?{"for":"htmlFor","class":F}:{"htmlFor":"for","className":g},get:function(y){var AA,Y,z,x,G;if(y){if(y[l]||y.item){return y;}if(typeof y==="string"){AA=y;y=K.getElementById(y);if(y&&y.id===AA){return y;}else{if(y&&K.all){y=null;Y=K.all[AA];for(x=0,G=Y.length;x<G;++x){if(Y[x].id===AA){return Y[x];}}}}return y;}if(y.DOM_EVENTS){y=y.get("element");}if("length" in y){z=[];for(x=0,G=y.length;x<G;++x){z[z.length]=E.Dom.get(y[x]);}return z;}return y;}return null;},getComputedStyle:function(G,Y){if(window[w]){return G[e][n][w](G,null)[Y];}else{if(G[a]){return E.Dom.IE_ComputedStyle.get(G,Y);}}},getStyle:function(G,Y){return E.Dom.batch(G,E.Dom._getStyle,Y);},_getStyle:function(){if(window[w]){return function(G,y){y=(y==="float")?y="cssFloat":E.Dom._toCamel(y);var x=G.style[y],Y;if(!x){Y=G[e][n][w](G,null);if(Y){x=Y[y];}}return x;};}else{if(W[a]){return function(G,y){var x;switch(y){case"opacity":x=100;try{x=G.filters["DXImageTransform.Microsoft.Alpha"].opacity;}catch(z){try{x=G.filters("alpha").opacity;}catch(Y){}}return x/100;case"float":y="styleFloat";default:y=E.Dom._toCamel(y);x=G[a]?G[a][y]:null;return(G.style[y]||x);}};}}}(),setStyle:function(G,Y,x){E.Dom.batch(G,E.Dom._setStyle,{prop:Y,val:x});},_setStyle:function(){if(T){return function(Y,G){var x=E.Dom._toCamel(G.prop),y=G.val;if(Y){switch(x){case"opacity":if(L.isString(Y.style.filter)){Y.style.filter="alpha(opacity="+y*100+")";if(!Y[a]||!Y[a].hasLayout){Y.style.zoom=1;}}break;case"float":x="styleFloat";default:Y.style[x]=y;}}else{}};}else{return function(Y,G){var x=E.Dom._toCamel(G.prop),y=G.val;if(Y){if(x=="float"){x="cssFloat";}Y.style[x]=y;}else{}};}}(),getXY:function(G){return E.Dom.batch(G,E.Dom._getXY);},_canPosition:function(G){return(E.Dom._getStyle(G,"display")!=="none"&&E.Dom._inDoc(G));},_getXY:function(){if(K[v][Q]){return function(y){var z,Y,AA,AF,AE,AD,AC,G,x,AB=Math.floor,AG=false;if(E.Dom._canPosition(y)){AA=y[Q]();AF=y[e];z=E.Dom.getDocumentScrollLeft(AF);Y=E.Dom.getDocumentScrollTop(AF);AG=[AB(AA[j]),AB(AA[o])];if(T&&m.ie<8){AE=2;AD=2;AC=AF[t];G=S(AF[v],q);x=S(AF[v],R);if(m.ie===6){if(AC!==c){AE=0;AD=0;}}if((AC==c)){if(G!==r){AE=parseInt(G,10);}if(x!==r){AD=parseInt(x,10);}}AG[0]-=AE;AG[1]-=AD;}if((Y||z)){AG[0]+=z;AG[1]+=Y;}AG[0]=AB(AG[0]);AG[1]=AB(AG[1]);}else{}return AG;};}else{return function(y){var x,Y,AA,AB,AC,z=false,G=y;if(E.Dom._canPosition(y)){z=[y[b],y[P]];x=E.Dom.getDocumentScrollLeft(y[e]);Y=E.Dom.getDocumentScrollTop(y[e]);AC=((H||m.webkit>519)?true:false);while((G=G[u])){z[0]+=G[b];z[1]+=G[P];if(AC){z=E.Dom._calcBorders(G,z);}}if(E.Dom._getStyle(y,p)!==f){G=y;while((G=G[Z])&&G[C]){AA=G[i];AB=G[O];if(H&&(E.Dom._getStyle(G,"overflow")!=="visible")){z=E.Dom._calcBorders(G,z);}if(AA||AB){z[0]-=AB;z[1]-=AA;}}z[0]+=x;z[1]+=Y;}else{if(D){z[0]-=x;z[1]-=Y;}else{if(I||H){z[0]+=x;z[1]+=Y;}}}z[0]=Math.floor(z[0]);z[1]=Math.floor(z[1]);}else{}return z;};}}(),getX:function(G){var Y=function(x){return E.Dom.getXY(x)[0];};return E.Dom.batch(G,Y,E.Dom,true);},getY:function(G){var Y=function(x){return E.Dom.getXY(x)[1];};return E.Dom.batch(G,Y,E.Dom,true);},setXY:function(G,x,Y){E.Dom.batch(G,E.Dom._setXY,{pos:x,noRetry:Y});},_setXY:function(G,z){var AA=E.Dom._getStyle(G,p),y=E.Dom.setStyle,AD=z.pos,Y=z.noRetry,AB=[parseInt(E.Dom.getComputedStyle(G,j),10),parseInt(E.Dom.getComputedStyle(G,o),10)],AC,x;if(AA=="static"){AA=V;y(G,p,AA);}AC=E.Dom._getXY(G);if(!AD||AC===false){return false;}if(isNaN(AB[0])){AB[0]=(AA==V)?0:G[b];}if(isNaN(AB[1])){AB[1]=(AA==V)?0:G[P];}if(AD[0]!==null){y(G,j,AD[0]-AC[0]+AB[0]+"px");}if(AD[1]!==null){y(G,o,AD[1]-AC[1]+AB[1]+"px");}if(!Y){x=E.Dom._getXY(G);if((AD[0]!==null&&x[0]!=AD[0])||(AD[1]!==null&&x[1]!=AD[1])){E.Dom._setXY(G,{pos:AD,noRetry:true});}}},setX:function(Y,G){E.Dom.setXY(Y,[G,null]);},setY:function(G,Y){E.Dom.setXY(G,[null,Y]);},getRegion:function(G){var Y=function(x){var y=false;if(E.Dom._canPosition(x)){y=E.Region.getRegion(x);}else{}return y;};return E.Dom.batch(G,Y,E.Dom,true);},getClientWidth:function(){return E.Dom.getViewportWidth();},getClientHeight:function(){return E.Dom.getViewportHeight();},getElementsByClassName:function(AB,AF,AC,AE,x,AD){AB=L.trim(AB);AF=AF||"*";AC=(AC)?E.Dom.get(AC):null||K;if(!AC){return[];}var Y=[],G=AC.getElementsByTagName(AF),z=E.Dom.hasClass;for(var y=0,AA=G.length;y<AA;++y){if(z(G[y],AB)){Y[Y.length]=G[y];}}if(AE){E.Dom.batch(Y,AE,x,AD);}return Y;},hasClass:function(Y,G){return E.Dom.batch(Y,E.Dom._hasClass,G);},_hasClass:function(x,Y){var G=false,y;if(x&&Y){y=E.Dom.getAttribute(x,F)||J;if(Y.exec){G=Y.test(y);}else{G=Y&&(B+y+B).indexOf(B+Y+B)>-1;}}else{}return G;},addClass:function(Y,G){return E.Dom.batch(Y,E.Dom._addClass,G);},_addClass:function(x,Y){var G=false,y;if(x&&Y){y=E.Dom.getAttribute(x,F)||J;if(!E.Dom._hasClass(x,Y)){E.Dom.setAttribute(x,F,A(y+B+Y));G=true;}}else{}return G;},removeClass:function(Y,G){return E.Dom.batch(Y,E.Dom._removeClass,G);},_removeClass:function(y,x){var Y=false,AA,z,G;if(y&&x){AA=E.Dom.getAttribute(y,F)||J;E.Dom.setAttribute(y,F,AA.replace(E.Dom._getClassRegex(x),J));z=E.Dom.getAttribute(y,F);if(AA!==z){E.Dom.setAttribute(y,F,A(z));Y=true;if(E.Dom.getAttribute(y,F)===""){G=(y.hasAttribute&&y.hasAttribute(g))?g:F;y.removeAttribute(G);}}}else{}return Y;},replaceClass:function(x,Y,G){return E.Dom.batch(x,E.Dom._replaceClass,{from:Y,to:G});
},_replaceClass:function(y,x){var Y,AB,AA,G=false,z;if(y&&x){AB=x.from;AA=x.to;if(!AA){G=false;}else{if(!AB){G=E.Dom._addClass(y,x.to);}else{if(AB!==AA){z=E.Dom.getAttribute(y,F)||J;Y=(B+z.replace(E.Dom._getClassRegex(AB),B+AA)).split(E.Dom._getClassRegex(AA));Y.splice(1,0,B+AA);E.Dom.setAttribute(y,F,A(Y.join(J)));G=true;}}}}else{}return G;},generateId:function(G,x){x=x||"yui-gen";var Y=function(y){if(y&&y.id){return y.id;}var z=x+YAHOO.env._id_counter++;if(y){if(y[e].getElementById(z)){return E.Dom.generateId(y,z+x);}y.id=z;}return z;};return E.Dom.batch(G,Y,E.Dom,true)||Y.apply(E.Dom,arguments);},isAncestor:function(Y,x){Y=E.Dom.get(Y);x=E.Dom.get(x);var G=false;if((Y&&x)&&(Y[l]&&x[l])){if(Y.contains&&Y!==x){G=Y.contains(x);}else{if(Y.compareDocumentPosition){G=!!(Y.compareDocumentPosition(x)&16);}}}else{}return G;},inDocument:function(G,Y){return E.Dom._inDoc(E.Dom.get(G),Y);},_inDoc:function(Y,x){var G=false;if(Y&&Y[C]){x=x||Y[e];G=E.Dom.isAncestor(x[v],Y);}else{}return G;},getElementsBy:function(Y,AF,AB,AD,y,AC,AE){AF=AF||"*";AB=(AB)?E.Dom.get(AB):null||K;if(!AB){return[];}var x=[],G=AB.getElementsByTagName(AF);for(var z=0,AA=G.length;z<AA;++z){if(Y(G[z])){if(AE){x=G[z];break;}else{x[x.length]=G[z];}}}if(AD){E.Dom.batch(x,AD,y,AC);}return x;},getElementBy:function(x,G,Y){return E.Dom.getElementsBy(x,G,Y,null,null,null,true);},batch:function(x,AB,AA,z){var y=[],Y=(z)?AA:window;x=(x&&(x[C]||x.item))?x:E.Dom.get(x);if(x&&AB){if(x[C]||x.length===undefined){return AB.call(Y,x,AA);}for(var G=0;G<x.length;++G){y[y.length]=AB.call(Y,x[G],AA);}}else{return false;}return y;},getDocumentHeight:function(){var Y=(K[t]!=M||I)?K.body.scrollHeight:W.scrollHeight,G=Math.max(Y,E.Dom.getViewportHeight());return G;},getDocumentWidth:function(){var Y=(K[t]!=M||I)?K.body.scrollWidth:W.scrollWidth,G=Math.max(Y,E.Dom.getViewportWidth());return G;},getViewportHeight:function(){var G=self.innerHeight,Y=K[t];if((Y||T)&&!D){G=(Y==M)?W.clientHeight:K.body.clientHeight;}return G;},getViewportWidth:function(){var G=self.innerWidth,Y=K[t];if(Y||T){G=(Y==M)?W.clientWidth:K.body.clientWidth;}return G;},getAncestorBy:function(G,Y){while((G=G[Z])){if(E.Dom._testElement(G,Y)){return G;}}return null;},getAncestorByClassName:function(Y,G){Y=E.Dom.get(Y);if(!Y){return null;}var x=function(y){return E.Dom.hasClass(y,G);};return E.Dom.getAncestorBy(Y,x);},getAncestorByTagName:function(Y,G){Y=E.Dom.get(Y);if(!Y){return null;}var x=function(y){return y[C]&&y[C].toUpperCase()==G.toUpperCase();};return E.Dom.getAncestorBy(Y,x);},getPreviousSiblingBy:function(G,Y){while(G){G=G.previousSibling;if(E.Dom._testElement(G,Y)){return G;}}return null;},getPreviousSibling:function(G){G=E.Dom.get(G);if(!G){return null;}return E.Dom.getPreviousSiblingBy(G);},getNextSiblingBy:function(G,Y){while(G){G=G.nextSibling;if(E.Dom._testElement(G,Y)){return G;}}return null;},getNextSibling:function(G){G=E.Dom.get(G);if(!G){return null;}return E.Dom.getNextSiblingBy(G);},getFirstChildBy:function(G,x){var Y=(E.Dom._testElement(G.firstChild,x))?G.firstChild:null;return Y||E.Dom.getNextSiblingBy(G.firstChild,x);},getFirstChild:function(G,Y){G=E.Dom.get(G);if(!G){return null;}return E.Dom.getFirstChildBy(G);},getLastChildBy:function(G,x){if(!G){return null;}var Y=(E.Dom._testElement(G.lastChild,x))?G.lastChild:null;return Y||E.Dom.getPreviousSiblingBy(G.lastChild,x);},getLastChild:function(G){G=E.Dom.get(G);return E.Dom.getLastChildBy(G);},getChildrenBy:function(Y,y){var x=E.Dom.getFirstChildBy(Y,y),G=x?[x]:[];E.Dom.getNextSiblingBy(x,function(z){if(!y||y(z)){G[G.length]=z;}return false;});return G;},getChildren:function(G){G=E.Dom.get(G);if(!G){}return E.Dom.getChildrenBy(G);},getDocumentScrollLeft:function(G){G=G||K;return Math.max(G[v].scrollLeft,G.body.scrollLeft);},getDocumentScrollTop:function(G){G=G||K;return Math.max(G[v].scrollTop,G.body.scrollTop);},insertBefore:function(Y,G){Y=E.Dom.get(Y);G=E.Dom.get(G);if(!Y||!G||!G[Z]){return null;}return G[Z].insertBefore(Y,G);},insertAfter:function(Y,G){Y=E.Dom.get(Y);G=E.Dom.get(G);if(!Y||!G||!G[Z]){return null;}if(G.nextSibling){return G[Z].insertBefore(Y,G.nextSibling);}else{return G[Z].appendChild(Y);}},getClientRegion:function(){var x=E.Dom.getDocumentScrollTop(),Y=E.Dom.getDocumentScrollLeft(),y=E.Dom.getViewportWidth()+Y,G=E.Dom.getViewportHeight()+x;return new E.Region(x,y,G,Y);},setAttribute:function(Y,G,x){G=E.Dom.CUSTOM_ATTRIBUTES[G]||G;Y.setAttribute(G,x);},getAttribute:function(Y,G){G=E.Dom.CUSTOM_ATTRIBUTES[G]||G;return Y.getAttribute(G);},_toCamel:function(Y){var x=d;function G(y,z){return z.toUpperCase();}return x[Y]||(x[Y]=Y.indexOf("-")===-1?Y:Y.replace(/-([a-z])/gi,G));},_getClassRegex:function(Y){var G;if(Y!==undefined){if(Y.exec){G=Y;}else{G=h[Y];if(!G){Y=Y.replace(E.Dom._patterns.CLASS_RE_TOKENS,"\\$1");G=h[Y]=new RegExp(s+Y+k,U);}}}return G;},_patterns:{ROOT_TAG:/^body|html$/i,CLASS_RE_TOKENS:/([\.\(\)\^\$\*\+\?\|\[\]\{\}])/g},_testElement:function(G,Y){return G&&G[l]==1&&(!Y||Y(G));},_calcBorders:function(x,y){var Y=parseInt(E.Dom[w](x,R),10)||0,G=parseInt(E.Dom[w](x,q),10)||0;if(H){if(N.test(x[C])){Y=0;G=0;}}y[0]+=G;y[1]+=Y;return y;}};var S=E.Dom[w];if(m.opera){E.Dom[w]=function(Y,G){var x=S(Y,G);if(X.test(G)){x=E.Dom.Color.toRGB(x);}return x;};}if(m.webkit){E.Dom[w]=function(Y,G){var x=S(Y,G);if(x==="rgba(0, 0, 0, 0)"){x="transparent";}return x;};}})();YAHOO.util.Region=function(C,D,A,B){this.top=C;this.y=C;this[1]=C;this.right=D;this.bottom=A;this.left=B;this.x=B;this[0]=B;this.width=this.right-this.left;this.height=this.bottom-this.top;};YAHOO.util.Region.prototype.contains=function(A){return(A.left>=this.left&&A.right<=this.right&&A.top>=this.top&&A.bottom<=this.bottom);};YAHOO.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left));};YAHOO.util.Region.prototype.intersect=function(E){var C=Math.max(this.top,E.top),D=Math.min(this.right,E.right),A=Math.min(this.bottom,E.bottom),B=Math.max(this.left,E.left);if(A>=C&&D>=B){return new YAHOO.util.Region(C,D,A,B);
}else{return null;}};YAHOO.util.Region.prototype.union=function(E){var C=Math.min(this.top,E.top),D=Math.max(this.right,E.right),A=Math.max(this.bottom,E.bottom),B=Math.min(this.left,E.left);return new YAHOO.util.Region(C,D,A,B);};YAHOO.util.Region.prototype.toString=function(){return("Region {"+"top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+", height: "+this.height+", width: "+this.width+"}");};YAHOO.util.Region.getRegion=function(D){var F=YAHOO.util.Dom.getXY(D),C=F[1],E=F[0]+D.offsetWidth,A=F[1]+D.offsetHeight,B=F[0];return new YAHOO.util.Region(C,E,A,B);};YAHOO.util.Point=function(A,B){if(YAHOO.lang.isArray(A)){B=A[1];A=A[0];}YAHOO.util.Point.superclass.constructor.call(this,B,A,B,A);};YAHOO.extend(YAHOO.util.Point,YAHOO.util.Region);(function(){var B=YAHOO.util,A="clientTop",F="clientLeft",J="parentNode",K="right",W="hasLayout",I="px",U="opacity",L="auto",D="borderLeftWidth",G="borderTopWidth",P="borderRightWidth",V="borderBottomWidth",S="visible",Q="transparent",N="height",E="width",H="style",T="currentStyle",R=/^width|height$/,O=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,M={get:function(X,Z){var Y="",a=X[T][Z];if(Z===U){Y=B.Dom.getStyle(X,U);}else{if(!a||(a.indexOf&&a.indexOf(I)>-1)){Y=a;}else{if(B.Dom.IE_COMPUTED[Z]){Y=B.Dom.IE_COMPUTED[Z](X,Z);}else{if(O.test(a)){Y=B.Dom.IE.ComputedStyle.getPixel(X,Z);}else{Y=a;}}}}return Y;},getOffset:function(Z,e){var b=Z[T][e],X=e.charAt(0).toUpperCase()+e.substr(1),c="offset"+X,Y="pixel"+X,a="",d;if(b==L){d=Z[c];if(d===undefined){a=0;}a=d;if(R.test(e)){Z[H][e]=d;if(Z[c]>d){a=d-(Z[c]-d);}Z[H][e]=L;}}else{if(!Z[H][Y]&&!Z[H][e]){Z[H][e]=b;}a=Z[H][Y];}return a+I;},getBorderWidth:function(X,Z){var Y=null;if(!X[T][W]){X[H].zoom=1;}switch(Z){case G:Y=X[A];break;case V:Y=X.offsetHeight-X.clientHeight-X[A];break;case D:Y=X[F];break;case P:Y=X.offsetWidth-X.clientWidth-X[F];break;}return Y+I;},getPixel:function(Y,X){var a=null,b=Y[T][K],Z=Y[T][X];Y[H][K]=Z;a=Y[H].pixelRight;Y[H][K]=b;return a+I;},getMargin:function(Y,X){var Z;if(Y[T][X]==L){Z=0+I;}else{Z=B.Dom.IE.ComputedStyle.getPixel(Y,X);}return Z;},getVisibility:function(Y,X){var Z;while((Z=Y[T])&&Z[X]=="inherit"){Y=Y[J];}return(Z)?Z[X]:S;},getColor:function(Y,X){return B.Dom.Color.toRGB(Y[T][X])||Q;},getBorderColor:function(Y,X){var Z=Y[T],a=Z[X]||Z.color;return B.Dom.Color.toRGB(B.Dom.Color.toHex(a));}},C={};C.top=C.right=C.bottom=C.left=C[E]=C[N]=M.getOffset;C.color=M.getColor;C[G]=C[P]=C[V]=C[D]=M.getBorderWidth;C.marginTop=C.marginRight=C.marginBottom=C.marginLeft=M.getMargin;C.visibility=M.getVisibility;C.borderColor=C.borderTopColor=C.borderRightColor=C.borderBottomColor=C.borderLeftColor=M.getBorderColor;B.Dom.IE_COMPUTED=C;B.Dom.IE_ComputedStyle=M;})();(function(){var C="toString",A=parseInt,B=RegExp,D=YAHOO.util;D.Dom.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(E){if(!D.Dom.Color.re_RGB.test(E)){E=D.Dom.Color.toHex(E);}if(D.Dom.Color.re_hex.exec(E)){E="rgb("+[A(B.$1,16),A(B.$2,16),A(B.$3,16)].join(", ")+")";}return E;},toHex:function(H){H=D.Dom.Color.KEYWORDS[H]||H;if(D.Dom.Color.re_RGB.exec(H)){var G=(B.$1.length===1)?"0"+B.$1:Number(B.$1),F=(B.$2.length===1)?"0"+B.$2:Number(B.$2),E=(B.$3.length===1)?"0"+B.$3:Number(B.$3);H=[G[C](16),F[C](16),E[C](16)].join("");}if(H.length<6){H=H.replace(D.Dom.Color.re_hex3,"$1$1");}if(H!=="transparent"&&H.indexOf("#")<0){H="#"+H;}return H.toLowerCase();}};}());YAHOO.register("dom",YAHOO.util.Dom,{version:"2.7.0",build:"1799"});YAHOO.util.CustomEvent=function(D,C,B,A){this.type=D;this.scope=C||window;this.silent=B;this.signature=A||YAHOO.util.CustomEvent.LIST;this.subscribers=[];if(!this.silent){}var E="_YUICEOnSubscribe";if(D!==E){this.subscribeEvent=new YAHOO.util.CustomEvent(E,this,true);}this.lastError=null;};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:function(A,B,C){if(!A){throw new Error("Invalid callback for subscriber to '"+this.type+"'");}if(this.subscribeEvent){this.subscribeEvent.fire(A,B,C);}this.subscribers.push(new YAHOO.util.Subscriber(A,B,C));},unsubscribe:function(D,F){if(!D){return this.unsubscribeAll();}var E=false;for(var B=0,A=this.subscribers.length;B<A;++B){var C=this.subscribers[B];if(C&&C.contains(D,F)){this._delete(B);E=true;}}return E;},fire:function(){this.lastError=null;var K=[],E=this.subscribers.length;if(!E&&this.silent){return true;}var I=[].slice.call(arguments,0),G=true,D,J=false;if(!this.silent){}var C=this.subscribers.slice(),A=YAHOO.util.Event.throwErrors;for(D=0;D<E;++D){var M=C[D];if(!M){J=true;}else{if(!this.silent){}var L=M.getScope(this.scope);if(this.signature==YAHOO.util.CustomEvent.FLAT){var B=null;if(I.length>0){B=I[0];}try{G=M.fn.call(L,B,M.obj);}catch(F){this.lastError=F;if(A){throw F;}}}else{try{G=M.fn.call(L,this.type,I,M.obj);}catch(H){this.lastError=H;if(A){throw H;}}}if(false===G){if(!this.silent){}break;}}}return(G!==false);},unsubscribeAll:function(){var A=this.subscribers.length,B;for(B=A-1;B>-1;B--){this._delete(B);}this.subscribers=[];return A;},_delete:function(A){var B=this.subscribers[A];if(B){delete B.fn;delete B.obj;}this.subscribers.splice(A,1);},toString:function(){return"CustomEvent: "+"'"+this.type+"', "+"context: "+this.scope;}};YAHOO.util.Subscriber=function(A,B,C){this.fn=A;this.obj=YAHOO.lang.isUndefined(B)?null:B;this.overrideContext=C;};YAHOO.util.Subscriber.prototype.getScope=function(A){if(this.overrideContext){if(this.overrideContext===true){return this.obj;}else{return this.overrideContext;}}return A;};YAHOO.util.Subscriber.prototype.contains=function(A,B){if(B){return(this.fn==A&&this.obj==B);}else{return(this.fn==A);}};YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", overrideContext: "+(this.overrideContext||"no")+" }";};if(!YAHOO.util.Event){YAHOO.util.Event=function(){var H=false;var I=[];var J=[];var G=[];var E=[];var C=0;var F=[];var B=[];var A=0;var D={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9};var K=YAHOO.env.ua.ie?"focusin":"focus";var L=YAHOO.env.ua.ie?"focusout":"blur";return{POLL_RETRYS:2000,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:YAHOO.env.ua.ie,_interval:null,_dri:null,DOMReady:false,throwErrors:false,startInterval:function(){if(!this._interval){var M=this;var N=function(){M._tryPreloadAttach();};this._interval=setInterval(N,this.POLL_INTERVAL);}},onAvailable:function(S,O,Q,R,P){var M=(YAHOO.lang.isString(S))?[S]:S;for(var N=0;N<M.length;N=N+1){F.push({id:M[N],fn:O,obj:Q,overrideContext:R,checkReady:P});}C=this.POLL_RETRYS;this.startInterval();},onContentReady:function(P,M,N,O){this.onAvailable(P,M,N,O,true);},onDOMReady:function(M,N,O){if(this.DOMReady){setTimeout(function(){var P=window;if(O){if(O===true){P=N;}else{P=O;}}M.call(P,"DOMReady",[],N);},0);}else{this.DOMReadyEvent.subscribe(M,N,O);}},_addListener:function(O,M,Y,S,W,b){if(!Y||!Y.call){return false;}if(this._isValidCollection(O)){var Z=true;for(var T=0,V=O.length;T<V;++T){Z=this.on(O[T],M,Y,S,W)&&Z;}return Z;}else{if(YAHOO.lang.isString(O)){var R=this.getEl(O);if(R){O=R;}else{this.onAvailable(O,function(){YAHOO.util.Event.on(O,M,Y,S,W);});return true;}}}if(!O){return false;}if("unload"==M&&S!==this){J[J.length]=[O,M,Y,S,W];return true;}var N=O;if(W){if(W===true){N=S;}else{N=W;}}var P=function(c){return Y.call(N,YAHOO.util.Event.getEvent(c,O),S);};var a=[O,M,Y,P,N,S,W];var U=I.length;I[U]=a;if(this.useLegacyEvent(O,M)){var Q=this.getLegacyIndex(O,M);if(Q==-1||O!=G[Q][0]){Q=G.length;B[O.id+M]=Q;G[Q]=[O,M,O["on"+M]];E[Q]=[];O["on"+M]=function(c){YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(c),Q);};}E[Q].push(a);}else{try{this._simpleAdd(O,M,P,b);}catch(X){this.lastError=X;this.removeListener(O,M,Y);return false;}}return true;},addListener:function(N,Q,M,O,P){return this._addListener(N,Q,M,O,P,false);},addFocusListener:function(N,M,O,P){return this._addListener(N,K,M,O,P,true);},removeFocusListener:function(N,M){return this.removeListener(N,K,M);},addBlurListener:function(N,M,O,P){return this._addListener(N,L,M,O,P,true);},removeBlurListener:function(N,M){return this.removeListener(N,L,M);},fireLegacyEvent:function(R,P){var T=true,M,V,U,N,S;V=E[P].slice();for(var O=0,Q=V.length;O<Q;++O){U=V[O];if(U&&U[this.WFN]){N=U[this.ADJ_SCOPE];S=U[this.WFN].call(N,R);T=(T&&S);}}M=G[P];if(M&&M[2]){M[2](R);}return T;},getLegacyIndex:function(N,O){var M=this.generateId(N)+O;if(typeof B[M]=="undefined"){return -1;}else{return B[M];}},useLegacyEvent:function(M,N){return(this.webkit&&this.webkit<419&&("click"==N||"dblclick"==N));},removeListener:function(N,M,V){var Q,T,X;if(typeof N=="string"){N=this.getEl(N);}else{if(this._isValidCollection(N)){var W=true;for(Q=N.length-1;Q>-1;Q--){W=(this.removeListener(N[Q],M,V)&&W);}return W;}}if(!V||!V.call){return this.purgeElement(N,false,M);}if("unload"==M){for(Q=J.length-1;Q>-1;Q--){X=J[Q];if(X&&X[0]==N&&X[1]==M&&X[2]==V){J.splice(Q,1);return true;}}return false;}var R=null;var S=arguments[3];if("undefined"===typeof S){S=this._getCacheIndex(N,M,V);}if(S>=0){R=I[S];}if(!N||!R){return false;}if(this.useLegacyEvent(N,M)){var P=this.getLegacyIndex(N,M);var O=E[P];if(O){for(Q=0,T=O.length;Q<T;++Q){X=O[Q];if(X&&X[this.EL]==N&&X[this.TYPE]==M&&X[this.FN]==V){O.splice(Q,1);break;}}}}else{try{this._simpleRemove(N,M,R[this.WFN],false);}catch(U){this.lastError=U;return false;}}delete I[S][this.WFN];delete I[S][this.FN];
I.splice(S,1);return true;},getTarget:function(O,N){var M=O.target||O.srcElement;return this.resolveTextNode(M);},resolveTextNode:function(N){try{if(N&&3==N.nodeType){return N.parentNode;}}catch(M){}return N;},getPageX:function(N){var M=N.pageX;if(!M&&0!==M){M=N.clientX||0;if(this.isIE){M+=this._getScrollLeft();}}return M;},getPageY:function(M){var N=M.pageY;if(!N&&0!==N){N=M.clientY||0;if(this.isIE){N+=this._getScrollTop();}}return N;},getXY:function(M){return[this.getPageX(M),this.getPageY(M)];},getRelatedTarget:function(N){var M=N.relatedTarget;if(!M){if(N.type=="mouseout"){M=N.toElement;}else{if(N.type=="mouseover"){M=N.fromElement;}}}return this.resolveTextNode(M);},getTime:function(O){if(!O.time){var N=new Date().getTime();try{O.time=N;}catch(M){this.lastError=M;return N;}}return O.time;},stopEvent:function(M){this.stopPropagation(M);this.preventDefault(M);},stopPropagation:function(M){if(M.stopPropagation){M.stopPropagation();}else{M.cancelBubble=true;}},preventDefault:function(M){if(M.preventDefault){M.preventDefault();}else{M.returnValue=false;}},getEvent:function(O,M){var N=O||window.event;if(!N){var P=this.getEvent.caller;while(P){N=P.arguments[0];if(N&&Event==N.constructor){break;}P=P.caller;}}return N;},getCharCode:function(N){var M=N.keyCode||N.charCode||0;if(YAHOO.env.ua.webkit&&(M in D)){M=D[M];}return M;},_getCacheIndex:function(Q,R,P){for(var O=0,N=I.length;O<N;O=O+1){var M=I[O];if(M&&M[this.FN]==P&&M[this.EL]==Q&&M[this.TYPE]==R){return O;}}return -1;},generateId:function(M){var N=M.id;if(!N){N="yuievtautoid-"+A;++A;M.id=N;}return N;},_isValidCollection:function(N){try{return(N&&typeof N!=="string"&&N.length&&!N.tagName&&!N.alert&&typeof N[0]!=="undefined");}catch(M){return false;}},elCache:{},getEl:function(M){return(typeof M==="string")?document.getElementById(M):M;},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",this),_load:function(N){if(!H){H=true;var M=YAHOO.util.Event;M._ready();M._tryPreloadAttach();}},_ready:function(N){var M=YAHOO.util.Event;if(!M.DOMReady){M.DOMReady=true;M.DOMReadyEvent.fire();M._simpleRemove(document,"DOMContentLoaded",M._ready);}},_tryPreloadAttach:function(){if(F.length===0){C=0;if(this._interval){clearInterval(this._interval);this._interval=null;}return;}if(this.locked){return;}if(this.isIE){if(!this.DOMReady){this.startInterval();return;}}this.locked=true;var S=!H;if(!S){S=(C>0&&F.length>0);}var R=[];var T=function(V,W){var U=V;if(W.overrideContext){if(W.overrideContext===true){U=W.obj;}else{U=W.overrideContext;}}W.fn.call(U,W.obj);};var N,M,Q,P,O=[];for(N=0,M=F.length;N<M;N=N+1){Q=F[N];if(Q){P=this.getEl(Q.id);if(P){if(Q.checkReady){if(H||P.nextSibling||!S){O.push(Q);F[N]=null;}}else{T(P,Q);F[N]=null;}}else{R.push(Q);}}}for(N=0,M=O.length;N<M;N=N+1){Q=O[N];T(this.getEl(Q.id),Q);}C--;if(S){for(N=F.length-1;N>-1;N--){Q=F[N];if(!Q||!Q.id){F.splice(N,1);}}this.startInterval();}else{if(this._interval){clearInterval(this._interval);this._interval=null;}}this.locked=false;},purgeElement:function(Q,R,T){var O=(YAHOO.lang.isString(Q))?this.getEl(Q):Q;var S=this.getListeners(O,T),P,M;if(S){for(P=S.length-1;P>-1;P--){var N=S[P];this.removeListener(O,N.type,N.fn);}}if(R&&O&&O.childNodes){for(P=0,M=O.childNodes.length;P<M;++P){this.purgeElement(O.childNodes[P],R,T);}}},getListeners:function(O,M){var R=[],N;if(!M){N=[I,J];}else{if(M==="unload"){N=[J];}else{N=[I];}}var T=(YAHOO.lang.isString(O))?this.getEl(O):O;for(var Q=0;Q<N.length;Q=Q+1){var V=N[Q];if(V){for(var S=0,U=V.length;S<U;++S){var P=V[S];if(P&&P[this.EL]===T&&(!M||M===P[this.TYPE])){R.push({type:P[this.TYPE],fn:P[this.FN],obj:P[this.OBJ],adjust:P[this.OVERRIDE],scope:P[this.ADJ_SCOPE],index:S});}}}}return(R.length)?R:null;},_unload:function(T){var N=YAHOO.util.Event,Q,P,O,S,R,U=J.slice(),M;for(Q=0,S=J.length;Q<S;++Q){O=U[Q];if(O){M=window;if(O[N.ADJ_SCOPE]){if(O[N.ADJ_SCOPE]===true){M=O[N.UNLOAD_OBJ];}else{M=O[N.ADJ_SCOPE];}}O[N.FN].call(M,N.getEvent(T,O[N.EL]),O[N.UNLOAD_OBJ]);U[Q]=null;}}O=null;M=null;J=null;if(I){for(P=I.length-1;P>-1;P--){O=I[P];if(O){N.removeListener(O[N.EL],O[N.TYPE],O[N.FN],P);}}O=null;}G=null;N._simpleRemove(window,"unload",N._unload);},_getScrollLeft:function(){return this._getScroll()[1];},_getScrollTop:function(){return this._getScroll()[0];},_getScroll:function(){var M=document.documentElement,N=document.body;if(M&&(M.scrollTop||M.scrollLeft)){return[M.scrollTop,M.scrollLeft];}else{if(N){return[N.scrollTop,N.scrollLeft];}else{return[0,0];}}},regCE:function(){},_simpleAdd:function(){if(window.addEventListener){return function(O,P,N,M){O.addEventListener(P,N,(M));};}else{if(window.attachEvent){return function(O,P,N,M){O.attachEvent("on"+P,N);};}else{return function(){};}}}(),_simpleRemove:function(){if(window.removeEventListener){return function(O,P,N,M){O.removeEventListener(P,N,(M));};}else{if(window.detachEvent){return function(N,O,M){N.detachEvent("on"+O,M);};}else{return function(){};}}}()};}();(function(){var EU=YAHOO.util.Event;EU.on=EU.addListener;EU.onFocus=EU.addFocusListener;EU.onBlur=EU.addBlurListener;
/* DOMReady: based on work by: Dean Edwards/John Resig/Matthias Miller */
if(EU.isIE){YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,true);var n=document.createElement("p");EU._dri=setInterval(function(){try{n.doScroll("left");clearInterval(EU._dri);EU._dri=null;EU._ready();n=null;}catch(ex){}},EU.POLL_INTERVAL);}else{if(EU.webkit&&EU.webkit<525){EU._dri=setInterval(function(){var rs=document.readyState;if("loaded"==rs||"complete"==rs){clearInterval(EU._dri);EU._dri=null;EU._ready();}},EU.POLL_INTERVAL);}else{EU._simpleAdd(document,"DOMContentLoaded",EU._ready);}}EU._simpleAdd(window,"load",EU._load);EU._simpleAdd(window,"unload",EU._unload);EU._tryPreloadAttach();})();}YAHOO.util.EventProvider=function(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(A,C,F,E){this.__yui_events=this.__yui_events||{};var D=this.__yui_events[A];if(D){D.subscribe(C,F,E);
}else{this.__yui_subscribers=this.__yui_subscribers||{};var B=this.__yui_subscribers;if(!B[A]){B[A]=[];}B[A].push({fn:C,obj:F,overrideContext:E});}},unsubscribe:function(C,E,G){this.__yui_events=this.__yui_events||{};var A=this.__yui_events;if(C){var F=A[C];if(F){return F.unsubscribe(E,G);}}else{var B=true;for(var D in A){if(YAHOO.lang.hasOwnProperty(A,D)){B=B&&A[D].unsubscribe(E,G);}}return B;}return false;},unsubscribeAll:function(A){return this.unsubscribe(A);},createEvent:function(G,D){this.__yui_events=this.__yui_events||{};var A=D||{};var I=this.__yui_events;if(I[G]){}else{var H=A.scope||this;var E=(A.silent);var B=new YAHOO.util.CustomEvent(G,H,E,YAHOO.util.CustomEvent.FLAT);I[G]=B;if(A.onSubscribeCallback){B.subscribeEvent.subscribe(A.onSubscribeCallback);}this.__yui_subscribers=this.__yui_subscribers||{};var F=this.__yui_subscribers[G];if(F){for(var C=0;C<F.length;++C){B.subscribe(F[C].fn,F[C].obj,F[C].overrideContext);}}}return I[G];},fireEvent:function(E,D,A,C){this.__yui_events=this.__yui_events||{};var G=this.__yui_events[E];if(!G){return null;}var B=[];for(var F=1;F<arguments.length;++F){B.push(arguments[F]);}return G.fire.apply(G,B);},hasEvent:function(A){if(this.__yui_events){if(this.__yui_events[A]){return true;}}return false;}};(function(){var A=YAHOO.util.Event,C=YAHOO.lang;YAHOO.util.KeyListener=function(D,I,E,F){if(!D){}else{if(!I){}else{if(!E){}}}if(!F){F=YAHOO.util.KeyListener.KEYDOWN;}var G=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");if(C.isString(D)){D=document.getElementById(D);}if(C.isFunction(E)){G.subscribe(E);}else{G.subscribe(E.fn,E.scope,E.correctScope);}function H(O,N){if(!I.shift){I.shift=false;}if(!I.alt){I.alt=false;}if(!I.ctrl){I.ctrl=false;}if(O.shiftKey==I.shift&&O.altKey==I.alt&&O.ctrlKey==I.ctrl){var J,M=I.keys,L;if(YAHOO.lang.isArray(M)){for(var K=0;K<M.length;K++){J=M[K];L=A.getCharCode(O);if(J==L){G.fire(L,O);break;}}}else{L=A.getCharCode(O);if(M==L){G.fire(L,O);}}}}this.enable=function(){if(!this.enabled){A.on(D,F,H);this.enabledEvent.fire(I);}this.enabled=true;};this.disable=function(){if(this.enabled){A.removeListener(D,F,H);this.disabledEvent.fire(I);}this.enabled=false;};this.toString=function(){return"KeyListener ["+I.keys+"] "+D.tagName+(D.id?"["+D.id+"]":"");};};var B=YAHOO.util.KeyListener;B.KEYDOWN="keydown";B.KEYUP="keyup";B.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38};})();YAHOO.register("event",YAHOO.util.Event,{version:"2.7.0",build:"1799"});YAHOO.util.Connect={_msxml_progid:["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],_http_headers:{},_has_http_headers:false,_use_default_post_header:true,_default_post_header:"application/x-www-form-urlencoded; charset=UTF-8",_default_form_header:"application/x-www-form-urlencoded",_use_default_xhr_header:true,_default_xhr_header:"XMLHttpRequest",_has_default_headers:true,_default_headers:{},_isFormSubmit:false,_isFileUpload:false,_formNode:null,_sFormData:null,_poll:{},_timeOut:{},_polling_interval:50,_transaction_id:0,_submitElementValue:null,_hasSubmitListener:(function(){if(YAHOO.util.Event){YAHOO.util.Event.addListener(document,"click",function(C){var B=YAHOO.util.Event.getTarget(C),A=B.nodeName.toLowerCase();if((A==="input"||A==="button")&&(B.type&&B.type.toLowerCase()=="submit")){YAHOO.util.Connect._submitElementValue=encodeURIComponent(B.name)+"="+encodeURIComponent(B.value);}});return true;}return false;})(),startEvent:new YAHOO.util.CustomEvent("start"),completeEvent:new YAHOO.util.CustomEvent("complete"),successEvent:new YAHOO.util.CustomEvent("success"),failureEvent:new YAHOO.util.CustomEvent("failure"),uploadEvent:new YAHOO.util.CustomEvent("upload"),abortEvent:new YAHOO.util.CustomEvent("abort"),_customEvents:{onStart:["startEvent","start"],onComplete:["completeEvent","complete"],onSuccess:["successEvent","success"],onFailure:["failureEvent","failure"],onUpload:["uploadEvent","upload"],onAbort:["abortEvent","abort"]},setProgId:function(A){this._msxml_progid.unshift(A);},setDefaultPostHeader:function(A){if(typeof A=="string"){this._default_post_header=A;}else{if(typeof A=="boolean"){this._use_default_post_header=A;}}},setDefaultXhrHeader:function(A){if(typeof A=="string"){this._default_xhr_header=A;}else{this._use_default_xhr_header=A;}},setPollingInterval:function(A){if(typeof A=="number"&&isFinite(A)){this._polling_interval=A;}},createXhrObject:function(F){var E,A;try{A=new XMLHttpRequest();E={conn:A,tId:F};}catch(D){for(var B=0;B<this._msxml_progid.length;++B){try{A=new ActiveXObject(this._msxml_progid[B]);E={conn:A,tId:F};break;}catch(C){}}}finally{return E;}},getConnectionObject:function(A){var C;var D=this._transaction_id;try{if(!A){C=this.createXhrObject(D);}else{C={};C.tId=D;C.isUpload=true;}if(C){this._transaction_id++;}}catch(B){}finally{return C;}},asyncRequest:function(F,C,E,A){var D=(this._isFileUpload)?this.getConnectionObject(true):this.getConnectionObject();var B=(E&&E.argument)?E.argument:null;if(!D){return null;}else{if(E&&E.customevents){this.initCustomEvents(D,E);}if(this._isFormSubmit){if(this._isFileUpload){this.uploadFile(D,E,C,A);return D;}if(F.toUpperCase()=="GET"){if(this._sFormData.length!==0){C+=((C.indexOf("?")==-1)?"?":"&")+this._sFormData;}}else{if(F.toUpperCase()=="POST"){A=A?this._sFormData+"&"+A:this._sFormData;}}}if(F.toUpperCase()=="GET"&&(E&&E.cache===false)){C+=((C.indexOf("?")==-1)?"?":"&")+"rnd="+new Date().valueOf().toString();}D.conn.open(F,C,true);if(this._use_default_xhr_header){if(!this._default_headers["X-Requested-With"]){this.initHeader("X-Requested-With",this._default_xhr_header,true);}}if((F.toUpperCase()==="POST"&&this._use_default_post_header)&&this._isFormSubmit===false){this.initHeader("Content-Type",this._default_post_header);}if(this._has_default_headers||this._has_http_headers){this.setHeader(D);}this.handleReadyState(D,E);D.conn.send(A||"");if(this._isFormSubmit===true){this.resetFormState();}this.startEvent.fire(D,B);if(D.startEvent){D.startEvent.fire(D,B);}return D;}},initCustomEvents:function(A,C){var B;for(B in C.customevents){if(this._customEvents[B][0]){A[this._customEvents[B][0]]=new YAHOO.util.CustomEvent(this._customEvents[B][1],(C.scope)?C.scope:null);A[this._customEvents[B][0]].subscribe(C.customevents[B]);}}},handleReadyState:function(C,D){var B=this;var A=(D&&D.argument)?D.argument:null;if(D&&D.timeout){this._timeOut[C.tId]=window.setTimeout(function(){B.abort(C,D,true);},D.timeout);}this._poll[C.tId]=window.setInterval(function(){if(C.conn&&C.conn.readyState===4){window.clearInterval(B._poll[C.tId]);delete B._poll[C.tId];if(D&&D.timeout){window.clearTimeout(B._timeOut[C.tId]);delete B._timeOut[C.tId];}B.completeEvent.fire(C,A);if(C.completeEvent){C.completeEvent.fire(C,A);}B.handleTransactionResponse(C,D);}},this._polling_interval);},handleTransactionResponse:function(F,G,A){var D,C;var B=(G&&G.argument)?G.argument:null;try{if(F.conn.status!==undefined&&F.conn.status!==0){D=F.conn.status;}else{D=13030;}}catch(E){D=13030;}if(D>=200&&D<300||D===1223){C=this.createResponseObject(F,B);if(G&&G.success){if(!G.scope){G.success(C);}else{G.success.apply(G.scope,[C]);}}this.successEvent.fire(C);if(F.successEvent){F.successEvent.fire(C);}}else{switch(D){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:C=this.createExceptionObject(F.tId,B,(A?A:false));if(G&&G.failure){if(!G.scope){G.failure(C);}else{G.failure.apply(G.scope,[C]);}}break;default:C=this.createResponseObject(F,B);if(G&&G.failure){if(!G.scope){G.failure(C);}else{G.failure.apply(G.scope,[C]);}}}this.failureEvent.fire(C);if(F.failureEvent){F.failureEvent.fire(C);}}this.releaseObject(F);C=null;},createResponseObject:function(A,G){var D={};var I={};try{var C=A.conn.getAllResponseHeaders();var F=C.split("\n");for(var E=0;E<F.length;E++){var B=F[E].indexOf(":");if(B!=-1){I[F[E].substring(0,B)]=F[E].substring(B+2);}}}catch(H){}D.tId=A.tId;D.status=(A.conn.status==1223)?204:A.conn.status;D.statusText=(A.conn.status==1223)?"No Content":A.conn.statusText;D.getResponseHeader=I;D.getAllResponseHeaders=C;D.responseText=A.conn.responseText;D.responseXML=A.conn.responseXML;if(G){D.argument=G;}return D;},createExceptionObject:function(H,D,A){var F=0;var G="communication failure";var C=-1;var B="transaction aborted";var E={};E.tId=H;if(A){E.status=C;E.statusText=B;}else{E.status=F;E.statusText=G;}if(D){E.argument=D;}return E;},initHeader:function(A,D,C){var B=(C)?this._default_headers:this._http_headers;B[A]=D;if(C){this._has_default_headers=true;
}else{this._has_http_headers=true;}},setHeader:function(A){var B;if(this._has_default_headers){for(B in this._default_headers){if(YAHOO.lang.hasOwnProperty(this._default_headers,B)){A.conn.setRequestHeader(B,this._default_headers[B]);}}}if(this._has_http_headers){for(B in this._http_headers){if(YAHOO.lang.hasOwnProperty(this._http_headers,B)){A.conn.setRequestHeader(B,this._http_headers[B]);}}delete this._http_headers;this._http_headers={};this._has_http_headers=false;}},resetDefaultHeaders:function(){delete this._default_headers;this._default_headers={};this._has_default_headers=false;},setForm:function(M,H,C){var L,B,K,I,P,J=false,F=[],O=0,E,G,D,N,A;this.resetFormState();if(typeof M=="string"){L=(document.getElementById(M)||document.forms[M]);}else{if(typeof M=="object"){L=M;}else{return;}}if(H){this.createFrame(C?C:null);this._isFormSubmit=true;this._isFileUpload=true;this._formNode=L;return;}for(E=0,G=L.elements.length;E<G;++E){B=L.elements[E];P=B.disabled;K=B.name;if(!P&&K){K=encodeURIComponent(K)+"=";I=encodeURIComponent(B.value);switch(B.type){case"select-one":if(B.selectedIndex>-1){A=B.options[B.selectedIndex];F[O++]=K+encodeURIComponent((A.attributes.value&&A.attributes.value.specified)?A.value:A.text);}break;case"select-multiple":if(B.selectedIndex>-1){for(D=B.selectedIndex,N=B.options.length;D<N;++D){A=B.options[D];if(A.selected){F[O++]=K+encodeURIComponent((A.attributes.value&&A.attributes.value.specified)?A.value:A.text);}}}break;case"radio":case"checkbox":if(B.checked){F[O++]=K+I;}break;case"file":case undefined:case"reset":case"button":break;case"submit":if(J===false){if(this._hasSubmitListener&&this._submitElementValue){F[O++]=this._submitElementValue;}J=true;}break;default:F[O++]=K+I;}}}this._isFormSubmit=true;this._sFormData=F.join("&");this.initHeader("Content-Type",this._default_form_header);return this._sFormData;},resetFormState:function(){this._isFormSubmit=false;this._isFileUpload=false;this._formNode=null;this._sFormData="";},createFrame:function(A){var B="yuiIO"+this._transaction_id;var C;if(YAHOO.env.ua.ie){C=document.createElement('<iframe id="'+B+'" name="'+B+'" />');if(typeof A=="boolean"){C.src="javascript:false";}}else{C=document.createElement("iframe");C.id=B;C.name=B;}C.style.position="absolute";C.style.top="-1000px";C.style.left="-1000px";document.body.appendChild(C);},appendPostData:function(A){var D=[],B=A.split("&"),C,E;for(C=0;C<B.length;C++){E=B[C].indexOf("=");if(E!=-1){D[C]=document.createElement("input");D[C].type="hidden";D[C].name=decodeURIComponent(B[C].substring(0,E));D[C].value=decodeURIComponent(B[C].substring(E+1));this._formNode.appendChild(D[C]);}}return D;},uploadFile:function(D,N,E,C){var I="yuiIO"+D.tId,J="multipart/form-data",L=document.getElementById(I),O=this,K=(N&&N.argument)?N.argument:null,M,H,B,G;var A={action:this._formNode.getAttribute("action"),method:this._formNode.getAttribute("method"),target:this._formNode.getAttribute("target")};this._formNode.setAttribute("action",E);this._formNode.setAttribute("method","POST");this._formNode.setAttribute("target",I);if(YAHOO.env.ua.ie){this._formNode.setAttribute("encoding",J);}else{this._formNode.setAttribute("enctype",J);}if(C){M=this.appendPostData(C);}this._formNode.submit();this.startEvent.fire(D,K);if(D.startEvent){D.startEvent.fire(D,K);}if(N&&N.timeout){this._timeOut[D.tId]=window.setTimeout(function(){O.abort(D,N,true);},N.timeout);}if(M&&M.length>0){for(H=0;H<M.length;H++){this._formNode.removeChild(M[H]);}}for(B in A){if(YAHOO.lang.hasOwnProperty(A,B)){if(A[B]){this._formNode.setAttribute(B,A[B]);}else{this._formNode.removeAttribute(B);}}}this.resetFormState();var F=function(){if(N&&N.timeout){window.clearTimeout(O._timeOut[D.tId]);delete O._timeOut[D.tId];}O.completeEvent.fire(D,K);if(D.completeEvent){D.completeEvent.fire(D,K);}G={tId:D.tId,argument:N.argument};try{G.responseText=L.contentWindow.document.body?L.contentWindow.document.body.innerHTML:L.contentWindow.document.documentElement.textContent;G.responseXML=L.contentWindow.document.XMLDocument?L.contentWindow.document.XMLDocument:L.contentWindow.document;}catch(P){}if(N&&N.upload){if(!N.scope){N.upload(G);}else{N.upload.apply(N.scope,[G]);}}O.uploadEvent.fire(G);if(D.uploadEvent){D.uploadEvent.fire(G);}YAHOO.util.Event.removeListener(L,"load",F);setTimeout(function(){document.body.removeChild(L);O.releaseObject(D);},100);};YAHOO.util.Event.addListener(L,"load",F);},abort:function(E,G,A){var D;var B=(G&&G.argument)?G.argument:null;if(E&&E.conn){if(this.isCallInProgress(E)){E.conn.abort();window.clearInterval(this._poll[E.tId]);delete this._poll[E.tId];if(A){window.clearTimeout(this._timeOut[E.tId]);delete this._timeOut[E.tId];}D=true;}}else{if(E&&E.isUpload===true){var C="yuiIO"+E.tId;var F=document.getElementById(C);if(F){YAHOO.util.Event.removeListener(F,"load");document.body.removeChild(F);if(A){window.clearTimeout(this._timeOut[E.tId]);delete this._timeOut[E.tId];}D=true;}}else{D=false;}}if(D===true){this.abortEvent.fire(E,B);if(E.abortEvent){E.abortEvent.fire(E,B);}this.handleTransactionResponse(E,G,true);}return D;},isCallInProgress:function(B){if(B&&B.conn){return B.conn.readyState!==4&&B.conn.readyState!==0;}else{if(B&&B.isUpload===true){var A="yuiIO"+B.tId;return document.getElementById(A)?true:false;}else{return false;}}},releaseObject:function(A){if(A&&A.conn){A.conn=null;A=null;}}};YAHOO.register("connection",YAHOO.util.Connect,{version:"2.7.0",build:"1799"});(function(){var B=YAHOO.util;var A=function(D,C,E,F){if(!D){}this.init(D,C,E,F);};A.NAME="Anim";A.prototype={toString:function(){var C=this.getEl()||{};var D=C.id||C.tagName;return(this.constructor.NAME+": "+D);},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(C,E,D){return this.method(this.currentFrame,E,D-E,this.totalFrames);},setAttribute:function(C,F,E){var D=this.getEl();if(this.patterns.noNegatives.test(C)){F=(F>0)?F:0;}if("style" in D){B.Dom.setStyle(D,C,F+E);}else{if(C in D){D[C]=F;}}},getAttribute:function(C){var E=this.getEl();var G=B.Dom.getStyle(E,C);if(G!=="auto"&&!this.patterns.offsetUnit.test(G)){return parseFloat(G);}var D=this.patterns.offsetAttribute.exec(C)||[];var H=!!(D[3]);var F=!!(D[2]);if("style" in E){if(F||(B.Dom.getStyle(E,"position")=="absolute"&&H)){G=E["offset"+D[0].charAt(0).toUpperCase()+D[0].substr(1)];}else{G=0;}}else{if(C in E){G=E[C];}}return G;},getDefaultUnit:function(C){if(this.patterns.defaultUnit.test(C)){return"px";}return"";},setRuntimeAttribute:function(D){var I;var E;var F=this.attributes;this.runtimeAttributes[D]={};var H=function(J){return(typeof J!=="undefined");};if(!H(F[D]["to"])&&!H(F[D]["by"])){return false;}I=(H(F[D]["from"]))?F[D]["from"]:this.getAttribute(D);if(H(F[D]["to"])){E=F[D]["to"];}else{if(H(F[D]["by"])){if(I.constructor==Array){E=[];for(var G=0,C=I.length;G<C;++G){E[G]=I[G]+F[D]["by"][G]*1;}}else{E=I+F[D]["by"]*1;}}}this.runtimeAttributes[D].start=I;this.runtimeAttributes[D].end=E;this.runtimeAttributes[D].unit=(H(F[D].unit))?F[D]["unit"]:this.getDefaultUnit(D);return true;},init:function(E,J,I,C){var D=false;var F=null;var H=0;E=B.Dom.get(E);this.attributes=J||{};this.duration=!YAHOO.lang.isUndefined(I)?I:1;this.method=C||B.Easing.easeNone;this.useSeconds=true;this.currentFrame=0;this.totalFrames=B.AnimMgr.fps;this.setEl=function(M){E=B.Dom.get(M);};this.getEl=function(){return E;};this.isAnimated=function(){return D;};this.getStartTime=function(){return F;};this.runtimeAttributes={};this.animate=function(){if(this.isAnimated()){return false;}this.currentFrame=0;this.totalFrames=(this.useSeconds)?Math.ceil(B.AnimMgr.fps*this.duration):this.duration;if(this.duration===0&&this.useSeconds){this.totalFrames=1;}B.AnimMgr.registerElement(this);return true;};this.stop=function(M){if(!this.isAnimated()){return false;}if(M){this.currentFrame=this.totalFrames;this._onTween.fire();}B.AnimMgr.stop(this);};var L=function(){this.onStart.fire();this.runtimeAttributes={};for(var M in this.attributes){this.setRuntimeAttribute(M);}D=true;H=0;F=new Date();};var K=function(){var O={duration:new Date()-this.getStartTime(),currentFrame:this.currentFrame};O.toString=function(){return("duration: "+O.duration+", currentFrame: "+O.currentFrame);};this.onTween.fire(O);var N=this.runtimeAttributes;for(var M in N){this.setAttribute(M,this.doMethod(M,N[M].start,N[M].end),N[M].unit);}H+=1;};var G=function(){var M=(new Date()-F)/1000;var N={duration:M,frames:H,fps:H/M};N.toString=function(){return("duration: "+N.duration+", frames: "+N.frames+", fps: "+N.fps);};D=false;H=0;this.onComplete.fire(N);};this._onStart=new B.CustomEvent("_start",this,true);this.onStart=new B.CustomEvent("start",this);this.onTween=new B.CustomEvent("tween",this);this._onTween=new B.CustomEvent("_tween",this,true);this.onComplete=new B.CustomEvent("complete",this);this._onComplete=new B.CustomEvent("_complete",this,true);this._onStart.subscribe(L);this._onTween.subscribe(K);this._onComplete.subscribe(G);}};B.Anim=A;})();YAHOO.util.AnimMgr=new function(){var C=null;var B=[];var A=0;this.fps=1000;this.delay=1;this.registerElement=function(F){B[B.length]=F;A+=1;F._onStart.fire();this.start();};this.unRegister=function(G,F){F=F||E(G);if(!G.isAnimated()||F==-1){return false;}G._onComplete.fire();B.splice(F,1);A-=1;if(A<=0){this.stop();}return true;};this.start=function(){if(C===null){C=setInterval(this.run,this.delay);}};this.stop=function(H){if(!H){clearInterval(C);for(var G=0,F=B.length;G<F;++G){this.unRegister(B[0],0);}B=[];C=null;A=0;}else{this.unRegister(H);}};this.run=function(){for(var H=0,F=B.length;H<F;++H){var G=B[H];if(!G||!G.isAnimated()){continue;}if(G.currentFrame<G.totalFrames||G.totalFrames===null){G.currentFrame+=1;if(G.useSeconds){D(G);}G._onTween.fire();}else{YAHOO.util.AnimMgr.stop(G,H);}}};var E=function(H){for(var G=0,F=B.length;G<F;++G){if(B[G]==H){return G;}}return -1;};var D=function(G){var J=G.totalFrames;var I=G.currentFrame;var H=(G.currentFrame*G.duration*1000/G.totalFrames);var F=(new Date()-G.getStartTime());var K=0;if(F<G.duration*1000){K=Math.round((F/H-1)*G.currentFrame);}else{K=J-(I+1);}if(K>0&&isFinite(K)){if(G.currentFrame+K>=J){K=J-(I+1);}G.currentFrame+=K;}};};YAHOO.util.Bezier=new function(){this.getPosition=function(E,D){var F=E.length;var C=[];for(var B=0;B<F;++B){C[B]=[E[B][0],E[B][1]];}for(var A=1;A<F;++A){for(B=0;B<F-A;++B){C[B][0]=(1-D)*C[B][0]+D*C[parseInt(B+1,10)][0];C[B][1]=(1-D)*C[B][1]+D*C[parseInt(B+1,10)][1];}}return[C[0][0],C[0][1]];};};(function(){var A=function(F,E,G,H){A.superclass.constructor.call(this,F,E,G,H);};A.NAME="ColorAnim";A.DEFAULT_BGCOLOR="#fff";var C=YAHOO.util;YAHOO.extend(A,C.Anim);var D=A.superclass;var B=A.prototype;B.patterns.color=/color$/i;B.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;B.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;B.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;B.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/;B.parseColor=function(E){if(E.length==3){return E;}var F=this.patterns.hex.exec(E);if(F&&F.length==4){return[parseInt(F[1],16),parseInt(F[2],16),parseInt(F[3],16)];}F=this.patterns.rgb.exec(E);if(F&&F.length==4){return[parseInt(F[1],10),parseInt(F[2],10),parseInt(F[3],10)];}F=this.patterns.hex3.exec(E);if(F&&F.length==4){return[parseInt(F[1]+F[1],16),parseInt(F[2]+F[2],16),parseInt(F[3]+F[3],16)];
}return null;};B.getAttribute=function(E){var G=this.getEl();if(this.patterns.color.test(E)){var I=YAHOO.util.Dom.getStyle(G,E);var H=this;if(this.patterns.transparent.test(I)){var F=YAHOO.util.Dom.getAncestorBy(G,function(J){return !H.patterns.transparent.test(I);});if(F){I=C.Dom.getStyle(F,E);}else{I=A.DEFAULT_BGCOLOR;}}}else{I=D.getAttribute.call(this,E);}return I;};B.doMethod=function(F,J,G){var I;if(this.patterns.color.test(F)){I=[];for(var H=0,E=J.length;H<E;++H){I[H]=D.doMethod.call(this,F,J[H],G[H]);}I="rgb("+Math.floor(I[0])+","+Math.floor(I[1])+","+Math.floor(I[2])+")";}else{I=D.doMethod.call(this,F,J,G);}return I;};B.setRuntimeAttribute=function(F){D.setRuntimeAttribute.call(this,F);if(this.patterns.color.test(F)){var H=this.attributes;var J=this.parseColor(this.runtimeAttributes[F].start);var G=this.parseColor(this.runtimeAttributes[F].end);if(typeof H[F]["to"]==="undefined"&&typeof H[F]["by"]!=="undefined"){G=this.parseColor(H[F].by);for(var I=0,E=J.length;I<E;++I){G[I]=J[I]+G[I];}}this.runtimeAttributes[F].start=J;this.runtimeAttributes[F].end=G;}};C.ColorAnim=A;})();
/*
TERMS OF USE - EASING EQUATIONS
Open source under the BSD License.
Copyright 2001 Robert Penner All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

 * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
 * Neither the name of the author nor the names of contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
YAHOO.util.Easing={easeNone:function(B,A,D,C){return D*B/C+A;},easeIn:function(B,A,D,C){return D*(B/=C)*B+A;},easeOut:function(B,A,D,C){return -D*(B/=C)*(B-2)+A;},easeBoth:function(B,A,D,C){if((B/=C/2)<1){return D/2*B*B+A;}return -D/2*((--B)*(B-2)-1)+A;},easeInStrong:function(B,A,D,C){return D*(B/=C)*B*B*B+A;},easeOutStrong:function(B,A,D,C){return -D*((B=B/C-1)*B*B*B-1)+A;},easeBothStrong:function(B,A,D,C){if((B/=C/2)<1){return D/2*B*B*B*B+A;}return -D/2*((B-=2)*B*B*B-2)+A;},elasticIn:function(C,A,G,F,B,E){if(C==0){return A;}if((C/=F)==1){return A+G;}if(!E){E=F*0.3;}if(!B||B<Math.abs(G)){B=G;var D=E/4;}else{var D=E/(2*Math.PI)*Math.asin(G/B);}return -(B*Math.pow(2,10*(C-=1))*Math.sin((C*F-D)*(2*Math.PI)/E))+A;},elasticOut:function(C,A,G,F,B,E){if(C==0){return A;}if((C/=F)==1){return A+G;}if(!E){E=F*0.3;}if(!B||B<Math.abs(G)){B=G;var D=E/4;}else{var D=E/(2*Math.PI)*Math.asin(G/B);}return B*Math.pow(2,-10*C)*Math.sin((C*F-D)*(2*Math.PI)/E)+G+A;},elasticBoth:function(C,A,G,F,B,E){if(C==0){return A;}if((C/=F/2)==2){return A+G;}if(!E){E=F*(0.3*1.5);}if(!B||B<Math.abs(G)){B=G;var D=E/4;}else{var D=E/(2*Math.PI)*Math.asin(G/B);}if(C<1){return -0.5*(B*Math.pow(2,10*(C-=1))*Math.sin((C*F-D)*(2*Math.PI)/E))+A;}return B*Math.pow(2,-10*(C-=1))*Math.sin((C*F-D)*(2*Math.PI)/E)*0.5+G+A;},backIn:function(B,A,E,D,C){if(typeof C=="undefined"){C=1.70158;}return E*(B/=D)*B*((C+1)*B-C)+A;},backOut:function(B,A,E,D,C){if(typeof C=="undefined"){C=1.70158;}return E*((B=B/D-1)*B*((C+1)*B+C)+1)+A;},backBoth:function(B,A,E,D,C){if(typeof C=="undefined"){C=1.70158;}if((B/=D/2)<1){return E/2*(B*B*(((C*=(1.525))+1)*B-C))+A;}return E/2*((B-=2)*B*(((C*=(1.525))+1)*B+C)+2)+A;},bounceIn:function(B,A,D,C){return D-YAHOO.util.Easing.bounceOut(C-B,0,D,C)+A;},bounceOut:function(B,A,D,C){if((B/=C)<(1/2.75)){return D*(7.5625*B*B)+A;}else{if(B<(2/2.75)){return D*(7.5625*(B-=(1.5/2.75))*B+0.75)+A;}else{if(B<(2.5/2.75)){return D*(7.5625*(B-=(2.25/2.75))*B+0.9375)+A;}}}return D*(7.5625*(B-=(2.625/2.75))*B+0.984375)+A;},bounceBoth:function(B,A,D,C){if(B<C/2){return YAHOO.util.Easing.bounceIn(B*2,0,D,C)*0.5+A;}return YAHOO.util.Easing.bounceOut(B*2-C,0,D,C)*0.5+D*0.5+A;}};(function(){var A=function(H,G,I,J){if(H){A.superclass.constructor.call(this,H,G,I,J);}};A.NAME="Motion";var E=YAHOO.util;YAHOO.extend(A,E.ColorAnim);var F=A.superclass;var C=A.prototype;C.patterns.points=/^points$/i;C.setAttribute=function(G,I,H){if(this.patterns.points.test(G)){H=H||"px";F.setAttribute.call(this,"left",I[0],H);F.setAttribute.call(this,"top",I[1],H);}else{F.setAttribute.call(this,G,I,H);}};C.getAttribute=function(G){if(this.patterns.points.test(G)){var H=[F.getAttribute.call(this,"left"),F.getAttribute.call(this,"top")];}else{H=F.getAttribute.call(this,G);}return H;};C.doMethod=function(G,K,H){var J=null;if(this.patterns.points.test(G)){var I=this.method(this.currentFrame,0,100,this.totalFrames)/100;J=E.Bezier.getPosition(this.runtimeAttributes[G],I);}else{J=F.doMethod.call(this,G,K,H);}return J;};C.setRuntimeAttribute=function(P){if(this.patterns.points.test(P)){var H=this.getEl();var J=this.attributes;var G;var L=J["points"]["control"]||[];var I;var M,O;if(L.length>0&&!(L[0] instanceof Array)){L=[L];}else{var K=[];for(M=0,O=L.length;M<O;++M){K[M]=L[M];}L=K;}if(E.Dom.getStyle(H,"position")=="static"){E.Dom.setStyle(H,"position","relative");}if(D(J["points"]["from"])){E.Dom.setXY(H,J["points"]["from"]);
}else{E.Dom.setXY(H,E.Dom.getXY(H));}G=this.getAttribute("points");if(D(J["points"]["to"])){I=B.call(this,J["points"]["to"],G);var N=E.Dom.getXY(this.getEl());for(M=0,O=L.length;M<O;++M){L[M]=B.call(this,L[M],G);}}else{if(D(J["points"]["by"])){I=[G[0]+J["points"]["by"][0],G[1]+J["points"]["by"][1]];for(M=0,O=L.length;M<O;++M){L[M]=[G[0]+L[M][0],G[1]+L[M][1]];}}}this.runtimeAttributes[P]=[G];if(L.length>0){this.runtimeAttributes[P]=this.runtimeAttributes[P].concat(L);}this.runtimeAttributes[P][this.runtimeAttributes[P].length]=I;}else{F.setRuntimeAttribute.call(this,P);}};var B=function(G,I){var H=E.Dom.getXY(this.getEl());G=[G[0]-H[0]+I[0],G[1]-H[1]+I[1]];return G;};var D=function(G){return(typeof G!=="undefined");};E.Motion=A;})();(function(){var D=function(F,E,G,H){if(F){D.superclass.constructor.call(this,F,E,G,H);}};D.NAME="Scroll";var B=YAHOO.util;YAHOO.extend(D,B.ColorAnim);var C=D.superclass;var A=D.prototype;A.doMethod=function(E,H,F){var G=null;if(E=="scroll"){G=[this.method(this.currentFrame,H[0],F[0]-H[0],this.totalFrames),this.method(this.currentFrame,H[1],F[1]-H[1],this.totalFrames)];}else{G=C.doMethod.call(this,E,H,F);}return G;};A.getAttribute=function(E){var G=null;var F=this.getEl();if(E=="scroll"){G=[F.scrollLeft,F.scrollTop];}else{G=C.getAttribute.call(this,E);}return G;};A.setAttribute=function(E,H,G){var F=this.getEl();if(E=="scroll"){F.scrollLeft=H[0];F.scrollTop=H[1];}else{C.setAttribute.call(this,E,H,G);}};B.Scroll=D;})();YAHOO.register("animation",YAHOO.util.Anim,{version:"2.7.0",build:"1799"});if(!YAHOO.util.DragDropMgr){YAHOO.util.DragDropMgr=function(){var A=YAHOO.util.Event,B=YAHOO.util.Dom;return{useShim:false,_shimActive:false,_shimState:false,_debugShim:false,_createShim:function(){var C=document.createElement("div");C.id="yui-ddm-shim";if(document.body.firstChild){document.body.insertBefore(C,document.body.firstChild);}else{document.body.appendChild(C);}C.style.display="none";C.style.backgroundColor="red";C.style.position="absolute";C.style.zIndex="99999";B.setStyle(C,"opacity","0");this._shim=C;A.on(C,"mouseup",this.handleMouseUp,this,true);A.on(C,"mousemove",this.handleMouseMove,this,true);A.on(window,"scroll",this._sizeShim,this,true);},_sizeShim:function(){if(this._shimActive){var C=this._shim;C.style.height=B.getDocumentHeight()+"px";C.style.width=B.getDocumentWidth()+"px";C.style.top="0";C.style.left="0";}},_activateShim:function(){if(this.useShim){if(!this._shim){this._createShim();}this._shimActive=true;var C=this._shim,D="0";if(this._debugShim){D=".5";}B.setStyle(C,"opacity",D);this._sizeShim();C.style.display="block";}},_deactivateShim:function(){this._shim.style.display="none";this._shimActive=false;},_shim:null,ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,interactionInfo:null,init:function(){this.initialized=true;},POINT:0,INTERSECT:1,STRICT_INTERSECT:2,mode:0,_execOnAll:function(E,D){for(var F in this.ids){for(var C in this.ids[F]){var G=this.ids[F][C];if(!this.isTypeOfDD(G)){continue;}G[E].apply(G,D);}}},_onLoad:function(){this.init();A.on(document,"mouseup",this.handleMouseUp,this,true);A.on(document,"mousemove",this.handleMouseMove,this,true);A.on(window,"unload",this._onUnload,this,true);A.on(window,"resize",this._onResize,this,true);},_onResize:function(C){this._execOnAll("resetConstraints",[]);},lock:function(){this.locked=true;},unlock:function(){this.locked=false;},isLocked:function(){return this.locked;},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:1000,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,fromTimeout:false,regDragDrop:function(D,C){if(!this.initialized){this.init();}if(!this.ids[C]){this.ids[C]={};}this.ids[C][D.id]=D;},removeDDFromGroup:function(E,C){if(!this.ids[C]){this.ids[C]={};}var D=this.ids[C];if(D&&D[E.id]){delete D[E.id];}},_remove:function(E){for(var D in E.groups){if(D){var C=this.ids[D];if(C&&C[E.id]){delete C[E.id];}}}delete this.handleIds[E.id];},regHandle:function(D,C){if(!this.handleIds[D]){this.handleIds[D]={};}this.handleIds[D][C]=C;},isDragDrop:function(C){return(this.getDDById(C))?true:false;},getRelated:function(H,D){var G=[];for(var F in H.groups){for(var E in this.ids[F]){var C=this.ids[F][E];if(!this.isTypeOfDD(C)){continue;}if(!D||C.isTarget){G[G.length]=C;}}}return G;},isLegalTarget:function(G,F){var D=this.getRelated(G,true);for(var E=0,C=D.length;E<C;++E){if(D[E].id==F.id){return true;}}return false;},isTypeOfDD:function(C){return(C&&C.__ygDragDrop);},isHandle:function(D,C){return(this.handleIds[D]&&this.handleIds[D][C]);},getDDById:function(D){for(var C in this.ids){if(this.ids[C][D]){return this.ids[C][D];}}return null;},handleMouseDown:function(E,D){this.currentTarget=YAHOO.util.Event.getTarget(E);this.dragCurrent=D;var C=D.getEl();this.startX=YAHOO.util.Event.getPageX(E);this.startY=YAHOO.util.Event.getPageY(E);this.deltaX=this.startX-C.offsetLeft;this.deltaY=this.startY-C.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var F=YAHOO.util.DDM;F.startDrag(F.startX,F.startY);F.fromTimeout=true;},this.clickTimeThresh);},startDrag:function(C,E){if(this.dragCurrent&&this.dragCurrent.useShim){this._shimState=this.useShim;this.useShim=true;}this._activateShim();clearTimeout(this.clickTimeout);var D=this.dragCurrent;if(D&&D.events.b4StartDrag){D.b4StartDrag(C,E);D.fireEvent("b4StartDragEvent",{x:C,y:E});}if(D&&D.events.startDrag){D.startDrag(C,E);D.fireEvent("startDragEvent",{x:C,y:E});}this.dragThreshMet=true;},handleMouseUp:function(C){if(this.dragCurrent){clearTimeout(this.clickTimeout);if(this.dragThreshMet){if(this.fromTimeout){this.fromTimeout=false;this.handleMouseMove(C);}this.fromTimeout=false;this.fireEvents(C,true);}else{}this.stopDrag(C);this.stopEvent(C);}},stopEvent:function(C){if(this.stopPropagation){YAHOO.util.Event.stopPropagation(C);}if(this.preventDefault){YAHOO.util.Event.preventDefault(C);}},stopDrag:function(E,D){var C=this.dragCurrent;if(C&&!D){if(this.dragThreshMet){if(C.events.b4EndDrag){C.b4EndDrag(E);C.fireEvent("b4EndDragEvent",{e:E});}if(C.events.endDrag){C.endDrag(E);C.fireEvent("endDragEvent",{e:E});}}if(C.events.mouseUp){C.onMouseUp(E);C.fireEvent("mouseUpEvent",{e:E});}}if(this._shimActive){this._deactivateShim();if(this.dragCurrent&&this.dragCurrent.useShim){this.useShim=this._shimState;this._shimState=false;}}this.dragCurrent=null;this.dragOvers={};},handleMouseMove:function(F){var C=this.dragCurrent;if(C){if(YAHOO.util.Event.isIE&&!F.button){this.stopEvent(F);return this.handleMouseUp(F);}else{if(F.clientX<0||F.clientY<0){}}if(!this.dragThreshMet){var E=Math.abs(this.startX-YAHOO.util.Event.getPageX(F));var D=Math.abs(this.startY-YAHOO.util.Event.getPageY(F));if(E>this.clickPixelThresh||D>this.clickPixelThresh){this.startDrag(this.startX,this.startY);}}if(this.dragThreshMet){if(C&&C.events.b4Drag){C.b4Drag(F);C.fireEvent("b4DragEvent",{e:F});}if(C&&C.events.drag){C.onDrag(F);C.fireEvent("dragEvent",{e:F});}if(C){this.fireEvents(F,false);}}this.stopEvent(F);}},fireEvents:function(V,L){var a=this.dragCurrent;if(!a||a.isLocked()||a.dragOnly){return;}var N=YAHOO.util.Event.getPageX(V),M=YAHOO.util.Event.getPageY(V),P=new YAHOO.util.Point(N,M),K=a.getTargetCoord(P.x,P.y),F=a.getDragEl(),E=["out","over","drop","enter"],U=new YAHOO.util.Region(K.y,K.x+F.offsetWidth,K.y+F.offsetHeight,K.x),I=[],D={},Q=[],c={outEvts:[],overEvts:[],dropEvts:[],enterEvts:[]};for(var S in this.dragOvers){var d=this.dragOvers[S];if(!this.isTypeOfDD(d)){continue;
}if(!this.isOverTarget(P,d,this.mode,U)){c.outEvts.push(d);}I[S]=true;delete this.dragOvers[S];}for(var R in a.groups){if("string"!=typeof R){continue;}for(S in this.ids[R]){var G=this.ids[R][S];if(!this.isTypeOfDD(G)){continue;}if(G.isTarget&&!G.isLocked()&&G!=a){if(this.isOverTarget(P,G,this.mode,U)){D[R]=true;if(L){c.dropEvts.push(G);}else{if(!I[G.id]){c.enterEvts.push(G);}else{c.overEvts.push(G);}this.dragOvers[G.id]=G;}}}}}this.interactionInfo={out:c.outEvts,enter:c.enterEvts,over:c.overEvts,drop:c.dropEvts,point:P,draggedRegion:U,sourceRegion:this.locationCache[a.id],validDrop:L};for(var C in D){Q.push(C);}if(L&&!c.dropEvts.length){this.interactionInfo.validDrop=false;if(a.events.invalidDrop){a.onInvalidDrop(V);a.fireEvent("invalidDropEvent",{e:V});}}for(S=0;S<E.length;S++){var Y=null;if(c[E[S]+"Evts"]){Y=c[E[S]+"Evts"];}if(Y&&Y.length){var H=E[S].charAt(0).toUpperCase()+E[S].substr(1),X="onDrag"+H,J="b4Drag"+H,O="drag"+H+"Event",W="drag"+H;if(this.mode){if(a.events[J]){a[J](V,Y,Q);a.fireEvent(J+"Event",{event:V,info:Y,group:Q});}if(a.events[W]){a[X](V,Y,Q);a.fireEvent(O,{event:V,info:Y,group:Q});}}else{for(var Z=0,T=Y.length;Z<T;++Z){if(a.events[J]){a[J](V,Y[Z].id,Q[0]);a.fireEvent(J+"Event",{event:V,info:Y[Z].id,group:Q[0]});}if(a.events[W]){a[X](V,Y[Z].id,Q[0]);a.fireEvent(O,{event:V,info:Y[Z].id,group:Q[0]});}}}}}},getBestMatch:function(E){var G=null;var D=E.length;if(D==1){G=E[0];}else{for(var F=0;F<D;++F){var C=E[F];if(this.mode==this.INTERSECT&&C.cursorIsOver){G=C;break;}else{if(!G||!G.overlap||(C.overlap&&G.overlap.getArea()<C.overlap.getArea())){G=C;}}}}return G;},refreshCache:function(D){var F=D||this.ids;for(var C in F){if("string"!=typeof C){continue;}for(var E in this.ids[C]){var G=this.ids[C][E];if(this.isTypeOfDD(G)){var H=this.getLocation(G);if(H){this.locationCache[G.id]=H;}else{delete this.locationCache[G.id];}}}}},verifyEl:function(D){try{if(D){var C=D.offsetParent;if(C){return true;}}}catch(E){}return false;},getLocation:function(H){if(!this.isTypeOfDD(H)){return null;}var F=H.getEl(),K,E,D,M,L,N,C,J,G;try{K=YAHOO.util.Dom.getXY(F);}catch(I){}if(!K){return null;}E=K[0];D=E+F.offsetWidth;M=K[1];L=M+F.offsetHeight;N=M-H.padding[0];C=D+H.padding[1];J=L+H.padding[2];G=E-H.padding[3];return new YAHOO.util.Region(N,C,J,G);},isOverTarget:function(K,C,E,F){var G=this.locationCache[C.id];if(!G||!this.useCache){G=this.getLocation(C);this.locationCache[C.id]=G;}if(!G){return false;}C.cursorIsOver=G.contains(K);var J=this.dragCurrent;if(!J||(!E&&!J.constrainX&&!J.constrainY)){return C.cursorIsOver;}C.overlap=null;if(!F){var H=J.getTargetCoord(K.x,K.y);var D=J.getDragEl();F=new YAHOO.util.Region(H.y,H.x+D.offsetWidth,H.y+D.offsetHeight,H.x);}var I=F.intersect(G);if(I){C.overlap=I;return(E)?true:C.cursorIsOver;}else{return false;}},_onUnload:function(D,C){this.unregAll();},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null;}this._execOnAll("unreg",[]);this.ids={};},elementCache:{},getElWrapper:function(D){var C=this.elementCache[D];if(!C||!C.el){C=this.elementCache[D]=new this.ElementWrapper(YAHOO.util.Dom.get(D));}return C;},getElement:function(C){return YAHOO.util.Dom.get(C);},getCss:function(D){var C=YAHOO.util.Dom.get(D);return(C)?C.style:null;},ElementWrapper:function(C){this.el=C||null;this.id=this.el&&C.id;this.css=this.el&&C.style;},getPosX:function(C){return YAHOO.util.Dom.getX(C);},getPosY:function(C){return YAHOO.util.Dom.getY(C);},swapNode:function(E,C){if(E.swapNode){E.swapNode(C);}else{var F=C.parentNode;var D=C.nextSibling;if(D==E){F.insertBefore(E,C);}else{if(C==E.nextSibling){F.insertBefore(C,E);}else{E.parentNode.replaceChild(C,E);F.insertBefore(E,D);}}}},getScroll:function(){var E,C,F=document.documentElement,D=document.body;if(F&&(F.scrollTop||F.scrollLeft)){E=F.scrollTop;C=F.scrollLeft;}else{if(D){E=D.scrollTop;C=D.scrollLeft;}else{}}return{top:E,left:C};},getStyle:function(D,C){return YAHOO.util.Dom.getStyle(D,C);},getScrollTop:function(){return this.getScroll().top;},getScrollLeft:function(){return this.getScroll().left;},moveToEl:function(C,E){var D=YAHOO.util.Dom.getXY(E);YAHOO.util.Dom.setXY(C,D);},getClientHeight:function(){return YAHOO.util.Dom.getViewportHeight();},getClientWidth:function(){return YAHOO.util.Dom.getViewportWidth();},numericSort:function(D,C){return(D-C);},_timeoutCount:0,_addListeners:function(){var C=YAHOO.util.DDM;if(YAHOO.util.Event&&document){C._onLoad();}else{if(C._timeoutCount>2000){}else{setTimeout(C._addListeners,10);if(document&&document.body){C._timeoutCount+=1;}}}},handleWasClicked:function(C,E){if(this.isHandle(E,C.id)){return true;}else{var D=C.parentNode;while(D){if(this.isHandle(E,D.id)){return true;}else{D=D.parentNode;}}}return false;}};}();YAHOO.util.DDM=YAHOO.util.DragDropMgr;YAHOO.util.DDM._addListeners();}(function(){var A=YAHOO.util.Event;var B=YAHOO.util.Dom;YAHOO.util.DragDrop=function(E,C,D){if(E){this.init(E,C,D);}};YAHOO.util.DragDrop.prototype={events:null,on:function(){this.subscribe.apply(this,arguments);},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true;},unlock:function(){this.locked=false;},isTarget:true,padding:null,dragOnly:false,useShim:false,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,deltaX:0,deltaY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,cursorIsOver:false,overlap:null,b4StartDrag:function(C,D){},startDrag:function(C,D){},b4Drag:function(C){},onDrag:function(C){},onDragEnter:function(C,D){},b4DragOver:function(C){},onDragOver:function(C,D){},b4DragOut:function(C){},onDragOut:function(C,D){},b4DragDrop:function(C){},onDragDrop:function(C,D){},onInvalidDrop:function(C){},b4EndDrag:function(C){},endDrag:function(C){},b4MouseDown:function(C){},onMouseDown:function(C){},onMouseUp:function(C){},onAvailable:function(){},getEl:function(){if(!this._domRef){this._domRef=B.get(this.id);
}return this._domRef;},getDragEl:function(){return B.get(this.dragElId);},init:function(F,C,D){this.initTarget(F,C,D);A.on(this._domRef||this.id,"mousedown",this.handleMouseDown,this,true);for(var E in this.events){this.createEvent(E+"Event");}},initTarget:function(E,C,D){this.config=D||{};this.events={};this.DDM=YAHOO.util.DDM;this.groups={};if(typeof E!=="string"){this._domRef=E;E=B.generateId(E);}this.id=E;this.addToGroup((C)?C:"default");this.handleElId=E;A.onAvailable(E,this.handleOnAvailable,this,true);this.setDragElId(E);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();},applyConfig:function(){this.events={mouseDown:true,b4MouseDown:true,mouseUp:true,b4StartDrag:true,startDrag:true,b4EndDrag:true,endDrag:true,drag:true,b4Drag:true,invalidDrop:true,b4DragOut:true,dragOut:true,dragEnter:true,b4DragOver:true,dragOver:true,b4DragDrop:true,dragDrop:true};if(this.config.events){for(var C in this.config.events){if(this.config.events[C]===false){this.events[C]=false;}}}this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false);this.dragOnly=((this.config.dragOnly===true)?true:false);this.useShim=((this.config.useShim===true)?true:false);},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable();},setPadding:function(E,C,F,D){if(!C&&0!==C){this.padding=[E,E,E,E];}else{if(!F&&0!==F){this.padding=[E,C,E,C];}else{this.padding=[E,C,F,D];}}},setInitPosition:function(F,E){var G=this.getEl();if(!this.DDM.verifyEl(G)){if(G&&G.style&&(G.style.display=="none")){}else{}return;}var D=F||0;var C=E||0;var H=B.getXY(G);this.initPageX=H[0]-D;this.initPageY=H[1]-C;this.lastPageX=H[0];this.lastPageY=H[1];this.setStartPosition(H);},setStartPosition:function(D){var C=D||B.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=C[0];this.startPageY=C[1];},addToGroup:function(C){this.groups[C]=true;this.DDM.regDragDrop(this,C);},removeFromGroup:function(C){if(this.groups[C]){delete this.groups[C];}this.DDM.removeDDFromGroup(this,C);},setDragElId:function(C){this.dragElId=C;},setHandleElId:function(C){if(typeof C!=="string"){C=B.generateId(C);}this.handleElId=C;this.DDM.regHandle(this.id,C);},setOuterHandleElId:function(C){if(typeof C!=="string"){C=B.generateId(C);}A.on(C,"mousedown",this.handleMouseDown,this,true);this.setHandleElId(C);this.hasOuterHandles=true;},unreg:function(){A.removeListener(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this);},isLocked:function(){return(this.DDM.isLocked()||this.locked);},handleMouseDown:function(J,I){var D=J.which||J.button;if(this.primaryButtonOnly&&D>1){return;}if(this.isLocked()){return;}var C=this.b4MouseDown(J),F=true;if(this.events.b4MouseDown){F=this.fireEvent("b4MouseDownEvent",J);}var E=this.onMouseDown(J),H=true;if(this.events.mouseDown){H=this.fireEvent("mouseDownEvent",J);}if((C===false)||(E===false)||(F===false)||(H===false)){return;}this.DDM.refreshCache(this.groups);var G=new YAHOO.util.Point(A.getPageX(J),A.getPageY(J));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(G,this)){}else{if(this.clickValidator(J)){this.setStartPosition();this.DDM.handleMouseDown(J,this);this.DDM.stopEvent(J);}else{}}},clickValidator:function(D){var C=YAHOO.util.Event.getTarget(D);return(this.isValidHandleChild(C)&&(this.id==this.handleElId||this.DDM.handleWasClicked(C,this.id)));},getTargetCoord:function(E,D){var C=E-this.deltaX;var F=D-this.deltaY;if(this.constrainX){if(C<this.minX){C=this.minX;}if(C>this.maxX){C=this.maxX;}}if(this.constrainY){if(F<this.minY){F=this.minY;}if(F>this.maxY){F=this.maxY;}}C=this.getTick(C,this.xTicks);F=this.getTick(F,this.yTicks);return{x:C,y:F};},addInvalidHandleType:function(C){var D=C.toUpperCase();this.invalidHandleTypes[D]=D;},addInvalidHandleId:function(C){if(typeof C!=="string"){C=B.generateId(C);}this.invalidHandleIds[C]=C;},addInvalidHandleClass:function(C){this.invalidHandleClasses.push(C);},removeInvalidHandleType:function(C){var D=C.toUpperCase();delete this.invalidHandleTypes[D];},removeInvalidHandleId:function(C){if(typeof C!=="string"){C=B.generateId(C);}delete this.invalidHandleIds[C];},removeInvalidHandleClass:function(D){for(var E=0,C=this.invalidHandleClasses.length;E<C;++E){if(this.invalidHandleClasses[E]==D){delete this.invalidHandleClasses[E];}}},isValidHandleChild:function(F){var E=true;var H;try{H=F.nodeName.toUpperCase();}catch(G){H=F.nodeName;}E=E&&!this.invalidHandleTypes[H];E=E&&!this.invalidHandleIds[F.id];for(var D=0,C=this.invalidHandleClasses.length;E&&D<C;++D){E=!B.hasClass(F,this.invalidHandleClasses[D]);}return E;},setXTicks:function(F,C){this.xTicks=[];this.xTickSize=C;var E={};for(var D=this.initPageX;D>=this.minX;D=D-C){if(!E[D]){this.xTicks[this.xTicks.length]=D;E[D]=true;}}for(D=this.initPageX;D<=this.maxX;D=D+C){if(!E[D]){this.xTicks[this.xTicks.length]=D;E[D]=true;}}this.xTicks.sort(this.DDM.numericSort);},setYTicks:function(F,C){this.yTicks=[];this.yTickSize=C;var E={};for(var D=this.initPageY;D>=this.minY;D=D-C){if(!E[D]){this.yTicks[this.yTicks.length]=D;E[D]=true;}}for(D=this.initPageY;D<=this.maxY;D=D+C){if(!E[D]){this.yTicks[this.yTicks.length]=D;E[D]=true;}}this.yTicks.sort(this.DDM.numericSort);},setXConstraint:function(E,D,C){this.leftConstraint=parseInt(E,10);this.rightConstraint=parseInt(D,10);this.minX=this.initPageX-this.leftConstraint;this.maxX=this.initPageX+this.rightConstraint;if(C){this.setXTicks(this.initPageX,C);}this.constrainX=true;},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks();},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0;},setYConstraint:function(C,E,D){this.topConstraint=parseInt(C,10);this.bottomConstraint=parseInt(E,10);this.minY=this.initPageY-this.topConstraint;this.maxY=this.initPageY+this.bottomConstraint;if(D){this.setYTicks(this.initPageY,D);
}this.constrainY=true;},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var D=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var C=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(D,C);}else{this.setInitPosition();}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize);}},getTick:function(I,F){if(!F){return I;}else{if(F[0]>=I){return F[0];}else{for(var D=0,C=F.length;D<C;++D){var E=D+1;if(F[E]&&F[E]>=I){var H=I-F[D];var G=F[E]-I;return(G>H)?F[D]:F[E];}}return F[F.length-1];}}},toString:function(){return("DragDrop "+this.id);}};YAHOO.augment(YAHOO.util.DragDrop,YAHOO.util.EventProvider);})();YAHOO.util.DD=function(C,A,B){if(C){this.init(C,A,B);}};YAHOO.extend(YAHOO.util.DD,YAHOO.util.DragDrop,{scroll:true,autoOffset:function(C,B){var A=C-this.startPageX;var D=B-this.startPageY;this.setDelta(A,D);},setDelta:function(B,A){this.deltaX=B;this.deltaY=A;},setDragElPos:function(C,B){var A=this.getDragEl();this.alignElWithMouse(A,C,B);},alignElWithMouse:function(C,G,F){var E=this.getTargetCoord(G,F);if(!this.deltaSetXY){var H=[E.x,E.y];YAHOO.util.Dom.setXY(C,H);var D=parseInt(YAHOO.util.Dom.getStyle(C,"left"),10);var B=parseInt(YAHOO.util.Dom.getStyle(C,"top"),10);this.deltaSetXY=[D-E.x,B-E.y];}else{YAHOO.util.Dom.setStyle(C,"left",(E.x+this.deltaSetXY[0])+"px");YAHOO.util.Dom.setStyle(C,"top",(E.y+this.deltaSetXY[1])+"px");}this.cachePosition(E.x,E.y);var A=this;setTimeout(function(){A.autoScroll.call(A,E.x,E.y,C.offsetHeight,C.offsetWidth);},0);},cachePosition:function(B,A){if(B){this.lastPageX=B;this.lastPageY=A;}else{var C=YAHOO.util.Dom.getXY(this.getEl());this.lastPageX=C[0];this.lastPageY=C[1];}},autoScroll:function(J,I,E,K){if(this.scroll){var L=this.DDM.getClientHeight();var B=this.DDM.getClientWidth();var N=this.DDM.getScrollTop();var D=this.DDM.getScrollLeft();var H=E+I;var M=K+J;var G=(L+N-I-this.deltaY);var F=(B+D-J-this.deltaX);var C=40;var A=(document.all)?80:30;if(H>L&&G<C){window.scrollTo(D,N+A);}if(I<N&&N>0&&I-N<C){window.scrollTo(D,N-A);}if(M>B&&F<C){window.scrollTo(D+A,N);}if(J<D&&D>0&&J-D<C){window.scrollTo(D-A,N);}}},applyConfig:function(){YAHOO.util.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false);},b4MouseDown:function(A){this.setStartPosition();this.autoOffset(YAHOO.util.Event.getPageX(A),YAHOO.util.Event.getPageY(A));},b4Drag:function(A){this.setDragElPos(YAHOO.util.Event.getPageX(A),YAHOO.util.Event.getPageY(A));},toString:function(){return("DD "+this.id);}});YAHOO.util.DDProxy=function(C,A,B){if(C){this.init(C,A,B);this.initFrame();}};YAHOO.util.DDProxy.dragElId="ygddfdiv";YAHOO.extend(YAHOO.util.DDProxy,YAHOO.util.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var B=this,A=document.body;if(!A||!A.firstChild){setTimeout(function(){B.createFrame();},50);return;}var F=this.getDragEl(),E=YAHOO.util.Dom;if(!F){F=document.createElement("div");F.id=this.dragElId;var D=F.style;D.position="absolute";D.visibility="hidden";D.cursor="move";D.border="2px solid #aaa";D.zIndex=999;D.height="25px";D.width="25px";var C=document.createElement("div");E.setStyle(C,"height","100%");E.setStyle(C,"width","100%");E.setStyle(C,"background-color","#ccc");E.setStyle(C,"opacity","0");F.appendChild(C);A.insertBefore(F,A.firstChild);}},initFrame:function(){this.createFrame();},applyConfig:function(){YAHOO.util.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||YAHOO.util.DDProxy.dragElId);},showFrame:function(E,D){var C=this.getEl();var A=this.getDragEl();var B=A.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(B.width,10)/2),Math.round(parseInt(B.height,10)/2));}this.setDragElPos(E,D);YAHOO.util.Dom.setStyle(A,"visibility","visible");},_resizeProxy:function(){if(this.resizeFrame){var H=YAHOO.util.Dom;var B=this.getEl();var C=this.getDragEl();var G=parseInt(H.getStyle(C,"borderTopWidth"),10);var I=parseInt(H.getStyle(C,"borderRightWidth"),10);var F=parseInt(H.getStyle(C,"borderBottomWidth"),10);var D=parseInt(H.getStyle(C,"borderLeftWidth"),10);if(isNaN(G)){G=0;}if(isNaN(I)){I=0;}if(isNaN(F)){F=0;}if(isNaN(D)){D=0;}var E=Math.max(0,B.offsetWidth-I-D);var A=Math.max(0,B.offsetHeight-G-F);H.setStyle(C,"width",E+"px");H.setStyle(C,"height",A+"px");}},b4MouseDown:function(B){this.setStartPosition();var A=YAHOO.util.Event.getPageX(B);var C=YAHOO.util.Event.getPageY(B);this.autoOffset(A,C);},b4StartDrag:function(A,B){this.showFrame(A,B);},b4EndDrag:function(A){YAHOO.util.Dom.setStyle(this.getDragEl(),"visibility","hidden");},endDrag:function(D){var C=YAHOO.util.Dom;var B=this.getEl();var A=this.getDragEl();C.setStyle(A,"visibility","");C.setStyle(B,"visibility","hidden");YAHOO.util.DDM.moveToEl(B,A);C.setStyle(A,"visibility","hidden");C.setStyle(B,"visibility","");},toString:function(){return("DDProxy "+this.id);}});YAHOO.util.DDTarget=function(C,A,B){if(C){this.initTarget(C,A,B);}};YAHOO.extend(YAHOO.util.DDTarget,YAHOO.util.DragDrop,{toString:function(){return("DDTarget "+this.id);}});YAHOO.register("dragdrop",YAHOO.util.DragDropMgr,{version:"2.7.0",build:"1799"});YAHOO.util.Attribute=function(B,A){if(A){this.owner=A;this.configure(B,true);}};YAHOO.util.Attribute.prototype={name:undefined,value:null,owner:null,readOnly:false,writeOnce:false,_initialConfig:null,_written:false,method:null,setter:null,getter:null,validator:null,getValue:function(){var A=this.value;if(this.getter){A=this.getter.call(this.owner,this.name);}return A;},setValue:function(F,B){var E,A=this.owner,C=this.name;var D={type:C,prevValue:this.getValue(),newValue:F};if(this.readOnly||(this.writeOnce&&this._written)){return false;}if(this.validator&&!this.validator.call(A,F)){return false;}if(!B){E=A.fireBeforeChangeEvent(D);if(E===false){return false;}}if(this.setter){F=this.setter.call(A,F,this.name);if(F===undefined){}}if(this.method){this.method.call(A,F,this.name);}this.value=F;this._written=true;D.type=C;if(!B){this.owner.fireChangeEvent(D);}return true;},configure:function(B,C){B=B||{};if(C){this._written=false;}this._initialConfig=this._initialConfig||{};for(var A in B){if(B.hasOwnProperty(A)){this[A]=B[A];if(C){this._initialConfig[A]=B[A];}}}},resetValue:function(){return this.setValue(this._initialConfig.value);},resetConfig:function(){this.configure(this._initialConfig,true);},refresh:function(A){this.setValue(this.value,A);}};(function(){var A=YAHOO.util.Lang;YAHOO.util.AttributeProvider=function(){};YAHOO.util.AttributeProvider.prototype={_configs:null,get:function(C){this._configs=this._configs||{};var B=this._configs[C];if(!B||!this._configs.hasOwnProperty(C)){return null;}return B.getValue();},set:function(D,E,B){this._configs=this._configs||{};var C=this._configs[D];if(!C){return false;}return C.setValue(E,B);},getAttributeKeys:function(){this._configs=this._configs;var C=[],B;for(B in this._configs){if(A.hasOwnProperty(this._configs,B)&&!A.isUndefined(this._configs[B])){C[C.length]=B;}}return C;},setAttributes:function(D,B){for(var C in D){if(A.hasOwnProperty(D,C)){this.set(C,D[C],B);}}},resetValue:function(C,B){this._configs=this._configs||{};if(this._configs[C]){this.set(C,this._configs[C]._initialConfig.value,B);return true;}return false;},refresh:function(E,C){this._configs=this._configs||{};var F=this._configs;E=((A.isString(E))?[E]:E)||this.getAttributeKeys();for(var D=0,B=E.length;D<B;++D){if(F.hasOwnProperty(E[D])){this._configs[E[D]].refresh(C);}}},register:function(B,C){this.setAttributeConfig(B,C);},getAttributeConfig:function(C){this._configs=this._configs||{};var B=this._configs[C]||{};var D={};for(C in B){if(A.hasOwnProperty(B,C)){D[C]=B[C];}}return D;},setAttributeConfig:function(B,C,D){this._configs=this._configs||{};C=C||{};if(!this._configs[B]){C.name=B;this._configs[B]=this.createAttribute(C);}else{this._configs[B].configure(C,D);}},configureAttribute:function(B,C,D){this.setAttributeConfig(B,C,D);},resetAttributeConfig:function(B){this._configs=this._configs||{};this._configs[B].resetConfig();},subscribe:function(B,C){this._events=this._events||{};if(!(B in this._events)){this._events[B]=this.createEvent(B);}YAHOO.util.EventProvider.prototype.subscribe.apply(this,arguments);},on:function(){this.subscribe.apply(this,arguments);},addListener:function(){this.subscribe.apply(this,arguments);},fireBeforeChangeEvent:function(C){var B="before";B+=C.type.charAt(0).toUpperCase()+C.type.substr(1)+"Change";C.type=B;return this.fireEvent(C.type,C);},fireChangeEvent:function(B){B.type+="Change";return this.fireEvent(B.type,B);},createAttribute:function(B){return new YAHOO.util.Attribute(B,this);}};YAHOO.augment(YAHOO.util.AttributeProvider,YAHOO.util.EventProvider);})();(function(){var B=YAHOO.util.Dom,C=YAHOO.util.AttributeProvider;var A=function(D,E){this.init.apply(this,arguments);};A.DOM_EVENTS={"click":true,"dblclick":true,"keydown":true,"keypress":true,"keyup":true,"mousedown":true,"mousemove":true,"mouseout":true,"mouseover":true,"mouseup":true,"focus":true,"blur":true,"submit":true,"change":true};A.prototype={DOM_EVENTS:null,DEFAULT_HTML_SETTER:function(F,D){var E=this.get("element");if(E){E[D]=F;}},DEFAULT_HTML_GETTER:function(D){var E=this.get("element"),F;if(E){F=E[D];}return F;},appendChild:function(D){D=D.get?D.get("element"):D;return this.get("element").appendChild(D);},getElementsByTagName:function(D){return this.get("element").getElementsByTagName(D);},hasChildNodes:function(){return this.get("element").hasChildNodes();},insertBefore:function(D,E){D=D.get?D.get("element"):D;E=(E&&E.get)?E.get("element"):E;return this.get("element").insertBefore(D,E);},removeChild:function(D){D=D.get?D.get("element"):D;return this.get("element").removeChild(D);},replaceChild:function(D,E){D=D.get?D.get("element"):D;E=E.get?E.get("element"):E;return this.get("element").replaceChild(D,E);},initAttributes:function(D){},addListener:function(H,G,I,F){var E=this.get("element")||this.get("id");F=F||this;var D=this;if(!this._events[H]){if(E&&this.DOM_EVENTS[H]){YAHOO.util.Event.addListener(E,H,function(J){if(J.srcElement&&!J.target){J.target=J.srcElement;}D.fireEvent(H,J);},I,F);}this.createEvent(H,this);}return YAHOO.util.EventProvider.prototype.subscribe.apply(this,arguments);},on:function(){return this.addListener.apply(this,arguments);},subscribe:function(){return this.addListener.apply(this,arguments);},removeListener:function(E,D){return this.unsubscribe.apply(this,arguments);},addClass:function(D){B.addClass(this.get("element"),D);},getElementsByClassName:function(E,D){return B.getElementsByClassName(E,D,this.get("element"));},hasClass:function(D){return B.hasClass(this.get("element"),D);},removeClass:function(D){return B.removeClass(this.get("element"),D);},replaceClass:function(E,D){return B.replaceClass(this.get("element"),E,D);},setStyle:function(E,D){return B.setStyle(this.get("element"),E,D);},getStyle:function(D){return B.getStyle(this.get("element"),D);},fireQueue:function(){var E=this._queue;for(var F=0,D=E.length;F<D;++F){this[E[F][0]].apply(this,E[F][1]);}},appendTo:function(E,F){E=(E.get)?E.get("element"):B.get(E);this.fireEvent("beforeAppendTo",{type:"beforeAppendTo",target:E});
F=(F&&F.get)?F.get("element"):B.get(F);var D=this.get("element");if(!D){return false;}if(!E){return false;}if(D.parent!=E){if(F){E.insertBefore(D,F);}else{E.appendChild(D);}}this.fireEvent("appendTo",{type:"appendTo",target:E});return D;},get:function(D){var F=this._configs||{},E=F.element;if(E&&!F[D]&&!YAHOO.lang.isUndefined(E.value[D])){this._setHTMLAttrConfig(D);}return C.prototype.get.call(this,D);},setAttributes:function(J,G){var E={},H=this._configOrder;for(var I=0,D=H.length;I<D;++I){if(J[H[I]]!==undefined){E[H[I]]=true;this.set(H[I],J[H[I]],G);}}for(var F in J){if(J.hasOwnProperty(F)&&!E[F]){this.set(F,J[F],G);}}},set:function(E,G,D){var F=this.get("element");if(!F){this._queue[this._queue.length]=["set",arguments];if(this._configs[E]){this._configs[E].value=G;}return;}if(!this._configs[E]&&!YAHOO.lang.isUndefined(F[E])){this._setHTMLAttrConfig(E);}return C.prototype.set.apply(this,arguments);},setAttributeConfig:function(D,E,F){this._configOrder.push(D);C.prototype.setAttributeConfig.apply(this,arguments);},createEvent:function(E,D){this._events[E]=true;return C.prototype.createEvent.apply(this,arguments);},init:function(E,D){this._initElement(E,D);},destroy:function(){var D=this.get("element");YAHOO.util.Event.purgeElement(D,true);this.unsubscribeAll();if(D&&D.parentNode){D.parentNode.removeChild(D);}this._queue=[];this._events={};this._configs={};this._configOrder=[];},_initElement:function(F,E){this._queue=this._queue||[];this._events=this._events||{};this._configs=this._configs||{};this._configOrder=[];E=E||{};E.element=E.element||F||null;var H=false;var D=A.DOM_EVENTS;this.DOM_EVENTS=this.DOM_EVENTS||{};for(var G in D){if(D.hasOwnProperty(G)){this.DOM_EVENTS[G]=D[G];}}if(typeof E.element==="string"){this._setHTMLAttrConfig("id",{value:E.element});}if(B.get(E.element)){H=true;this._initHTMLElement(E);this._initContent(E);}YAHOO.util.Event.onAvailable(E.element,function(){if(!H){this._initHTMLElement(E);}this.fireEvent("available",{type:"available",target:B.get(E.element)});},this,true);YAHOO.util.Event.onContentReady(E.element,function(){if(!H){this._initContent(E);}this.fireEvent("contentReady",{type:"contentReady",target:B.get(E.element)});},this,true);},_initHTMLElement:function(D){this.setAttributeConfig("element",{value:B.get(D.element),readOnly:true});},_initContent:function(D){this.initAttributes(D);this.setAttributes(D,true);this.fireQueue();},_setHTMLAttrConfig:function(D,F){var E=this.get("element");F=F||{};F.name=D;F.setter=F.setter||this.DEFAULT_HTML_SETTER;F.getter=F.getter||this.DEFAULT_HTML_GETTER;F.value=F.value||E[D];this._configs[D]=new YAHOO.util.Attribute(F,this);}};YAHOO.augment(A,C);YAHOO.util.Element=A;})();YAHOO.register("element",YAHOO.util.Element,{version:"2.7.0",build:"1799"});YAHOO.register("utilities", YAHOO, {version: "2.7.0", build: "1799"});/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
(function(){YAHOO.util.Config=function(D){if(D){this.init(D);}};var B=YAHOO.lang,C=YAHOO.util.CustomEvent,A=YAHOO.util.Config;A.CONFIG_CHANGED_EVENT="configChanged";A.BOOLEAN_TYPE="boolean";A.prototype={owner:null,queueInProgress:false,config:null,initialConfig:null,eventQueue:null,configChangedEvent:null,init:function(D){this.owner=D;this.configChangedEvent=this.createEvent(A.CONFIG_CHANGED_EVENT);this.configChangedEvent.signature=C.LIST;this.queueInProgress=false;this.config={};this.initialConfig={};this.eventQueue=[];},checkBoolean:function(D){return(typeof D==A.BOOLEAN_TYPE);},checkNumber:function(D){return(!isNaN(D));},fireEvent:function(D,F){var E=this.config[D];if(E&&E.event){E.event.fire(F);}},addProperty:function(E,D){E=E.toLowerCase();this.config[E]=D;D.event=this.createEvent(E,{scope:this.owner});D.event.signature=C.LIST;D.key=E;if(D.handler){D.event.subscribe(D.handler,this.owner);}this.setProperty(E,D.value,true);if(!D.suppressEvent){this.queueProperty(E,D.value);}},getConfig:function(){var D={},F=this.config,G,E;for(G in F){if(B.hasOwnProperty(F,G)){E=F[G];if(E&&E.event){D[G]=E.value;}}}return D;},getProperty:function(D){var E=this.config[D.toLowerCase()];if(E&&E.event){return E.value;}else{return undefined;}},resetProperty:function(D){D=D.toLowerCase();var E=this.config[D];if(E&&E.event){if(this.initialConfig[D]&&!B.isUndefined(this.initialConfig[D])){this.setProperty(D,this.initialConfig[D]);return true;}}else{return false;}},setProperty:function(E,G,D){var F;E=E.toLowerCase();if(this.queueInProgress&&!D){this.queueProperty(E,G);return true;}else{F=this.config[E];if(F&&F.event){if(F.validator&&!F.validator(G)){return false;}else{F.value=G;if(!D){this.fireEvent(E,G);this.configChangedEvent.fire([E,G]);}return true;}}else{return false;}}},queueProperty:function(S,P){S=S.toLowerCase();var R=this.config[S],K=false,J,G,H,I,O,Q,F,M,N,D,L,T,E;if(R&&R.event){if(!B.isUndefined(P)&&R.validator&&!R.validator(P)){return false;}else{if(!B.isUndefined(P)){R.value=P;}else{P=R.value;}K=false;J=this.eventQueue.length;for(L=0;L<J;L++){G=this.eventQueue[L];if(G){H=G[0];I=G[1];if(H==S){this.eventQueue[L]=null;this.eventQueue.push([S,(!B.isUndefined(P)?P:I)]);K=true;break;}}}if(!K&&!B.isUndefined(P)){this.eventQueue.push([S,P]);}}if(R.supercedes){O=R.supercedes.length;for(T=0;T<O;T++){Q=R.supercedes[T];F=this.eventQueue.length;for(E=0;E<F;E++){M=this.eventQueue[E];if(M){N=M[0];D=M[1];if(N==Q.toLowerCase()){this.eventQueue.push([N,D]);this.eventQueue[E]=null;break;}}}}}return true;}else{return false;}},refireEvent:function(D){D=D.toLowerCase();var E=this.config[D];if(E&&E.event&&!B.isUndefined(E.value)){if(this.queueInProgress){this.queueProperty(D);}else{this.fireEvent(D,E.value);}}},applyConfig:function(D,G){var F,E;if(G){E={};for(F in D){if(B.hasOwnProperty(D,F)){E[F.toLowerCase()]=D[F];}}this.initialConfig=E;}for(F in D){if(B.hasOwnProperty(D,F)){this.queueProperty(F,D[F]);}}},refresh:function(){var D;for(D in this.config){if(B.hasOwnProperty(this.config,D)){this.refireEvent(D);}}},fireQueue:function(){var E,H,D,G,F;this.queueInProgress=true;for(E=0;E<this.eventQueue.length;E++){H=this.eventQueue[E];if(H){D=H[0];G=H[1];F=this.config[D];F.value=G;this.eventQueue[E]=null;this.fireEvent(D,G);}}this.queueInProgress=false;this.eventQueue=[];},subscribeToConfigEvent:function(E,F,H,D){var G=this.config[E.toLowerCase()];if(G&&G.event){if(!A.alreadySubscribed(G.event,F,H)){G.event.subscribe(F,H,D);}return true;}else{return false;}},unsubscribeFromConfigEvent:function(D,E,G){var F=this.config[D.toLowerCase()];if(F&&F.event){return F.event.unsubscribe(E,G);}else{return false;}},toString:function(){var D="Config";if(this.owner){D+=" ["+this.owner.toString()+"]";}return D;},outputEventQueue:function(){var D="",G,E,F=this.eventQueue.length;for(E=0;E<F;E++){G=this.eventQueue[E];if(G){D+=G[0]+"="+G[1]+", ";}}return D;},destroy:function(){var E=this.config,D,F;for(D in E){if(B.hasOwnProperty(E,D)){F=E[D];F.event.unsubscribeAll();F.event=null;}}this.configChangedEvent.unsubscribeAll();this.configChangedEvent=null;this.owner=null;this.config=null;this.initialConfig=null;this.eventQueue=null;}};A.alreadySubscribed=function(E,H,I){var F=E.subscribers.length,D,G;if(F>0){G=F-1;do{D=E.subscribers[G];if(D&&D.obj==I&&D.fn==H){return true;}}while(G--);}return false;};YAHOO.lang.augmentProto(A,YAHOO.util.EventProvider);}());(function(){YAHOO.widget.Module=function(R,Q){if(R){this.init(R,Q);}else{}};var F=YAHOO.util.Dom,D=YAHOO.util.Config,N=YAHOO.util.Event,M=YAHOO.util.CustomEvent,G=YAHOO.widget.Module,I=YAHOO.env.ua,H,P,O,E,A={"BEFORE_INIT":"beforeInit","INIT":"init","APPEND":"append","BEFORE_RENDER":"beforeRender","RENDER":"render","CHANGE_HEADER":"changeHeader","CHANGE_BODY":"changeBody","CHANGE_FOOTER":"changeFooter","CHANGE_CONTENT":"changeContent","DESTORY":"destroy","BEFORE_SHOW":"beforeShow","SHOW":"show","BEFORE_HIDE":"beforeHide","HIDE":"hide"},J={"VISIBLE":{key:"visible",value:true,validator:YAHOO.lang.isBoolean},"EFFECT":{key:"effect",suppressEvent:true,supercedes:["visible"]},"MONITOR_RESIZE":{key:"monitorresize",value:true},"APPEND_TO_DOCUMENT_BODY":{key:"appendtodocumentbody",value:false}};G.IMG_ROOT=null;G.IMG_ROOT_SSL=null;G.CSS_MODULE="yui-module";G.CSS_HEADER="hd";G.CSS_BODY="bd";G.CSS_FOOTER="ft";G.RESIZE_MONITOR_SECURE_URL="javascript:false;";G.RESIZE_MONITOR_BUFFER=1;G.textResizeEvent=new M("textResize");G.forceDocumentRedraw=function(){var Q=document.documentElement;if(Q){Q.className+=" ";Q.className=YAHOO.lang.trim(Q.className);}};function L(){if(!H){H=document.createElement("div");H.innerHTML=('<div class="'+G.CSS_HEADER+'"></div>'+'<div class="'+G.CSS_BODY+'"></div><div class="'+G.CSS_FOOTER+'"></div>');P=H.firstChild;O=P.nextSibling;E=O.nextSibling;}return H;}function K(){if(!P){L();}return(P.cloneNode(false));}function B(){if(!O){L();}return(O.cloneNode(false));}function C(){if(!E){L();}return(E.cloneNode(false));}G.prototype={constructor:G,element:null,header:null,body:null,footer:null,id:null,imageRoot:G.IMG_ROOT,initEvents:function(){var Q=M.LIST;
this.beforeInitEvent=this.createEvent(A.BEFORE_INIT);this.beforeInitEvent.signature=Q;this.initEvent=this.createEvent(A.INIT);this.initEvent.signature=Q;this.appendEvent=this.createEvent(A.APPEND);this.appendEvent.signature=Q;this.beforeRenderEvent=this.createEvent(A.BEFORE_RENDER);this.beforeRenderEvent.signature=Q;this.renderEvent=this.createEvent(A.RENDER);this.renderEvent.signature=Q;this.changeHeaderEvent=this.createEvent(A.CHANGE_HEADER);this.changeHeaderEvent.signature=Q;this.changeBodyEvent=this.createEvent(A.CHANGE_BODY);this.changeBodyEvent.signature=Q;this.changeFooterEvent=this.createEvent(A.CHANGE_FOOTER);this.changeFooterEvent.signature=Q;this.changeContentEvent=this.createEvent(A.CHANGE_CONTENT);this.changeContentEvent.signature=Q;this.destroyEvent=this.createEvent(A.DESTORY);this.destroyEvent.signature=Q;this.beforeShowEvent=this.createEvent(A.BEFORE_SHOW);this.beforeShowEvent.signature=Q;this.showEvent=this.createEvent(A.SHOW);this.showEvent.signature=Q;this.beforeHideEvent=this.createEvent(A.BEFORE_HIDE);this.beforeHideEvent.signature=Q;this.hideEvent=this.createEvent(A.HIDE);this.hideEvent.signature=Q;},platform:function(){var Q=navigator.userAgent.toLowerCase();if(Q.indexOf("windows")!=-1||Q.indexOf("win32")!=-1){return"windows";}else{if(Q.indexOf("macintosh")!=-1){return"mac";}else{return false;}}}(),browser:function(){var Q=navigator.userAgent.toLowerCase();if(Q.indexOf("opera")!=-1){return"opera";}else{if(Q.indexOf("msie 7")!=-1){return"ie7";}else{if(Q.indexOf("msie")!=-1){return"ie";}else{if(Q.indexOf("safari")!=-1){return"safari";}else{if(Q.indexOf("gecko")!=-1){return"gecko";}else{return false;}}}}}}(),isSecure:function(){if(window.location.href.toLowerCase().indexOf("https")===0){return true;}else{return false;}}(),initDefaultConfig:function(){this.cfg.addProperty(J.VISIBLE.key,{handler:this.configVisible,value:J.VISIBLE.value,validator:J.VISIBLE.validator});this.cfg.addProperty(J.EFFECT.key,{suppressEvent:J.EFFECT.suppressEvent,supercedes:J.EFFECT.supercedes});this.cfg.addProperty(J.MONITOR_RESIZE.key,{handler:this.configMonitorResize,value:J.MONITOR_RESIZE.value});this.cfg.addProperty(J.APPEND_TO_DOCUMENT_BODY.key,{value:J.APPEND_TO_DOCUMENT_BODY.value});},init:function(V,U){var S,W;this.initEvents();this.beforeInitEvent.fire(G);this.cfg=new D(this);if(this.isSecure){this.imageRoot=G.IMG_ROOT_SSL;}if(typeof V=="string"){S=V;V=document.getElementById(V);if(!V){V=(L()).cloneNode(false);V.id=S;}}this.id=F.generateId(V);this.element=V;W=this.element.firstChild;if(W){var R=false,Q=false,T=false;do{if(1==W.nodeType){if(!R&&F.hasClass(W,G.CSS_HEADER)){this.header=W;R=true;}else{if(!Q&&F.hasClass(W,G.CSS_BODY)){this.body=W;Q=true;}else{if(!T&&F.hasClass(W,G.CSS_FOOTER)){this.footer=W;T=true;}}}}}while((W=W.nextSibling));}this.initDefaultConfig();F.addClass(this.element,G.CSS_MODULE);if(U){this.cfg.applyConfig(U,true);}if(!D.alreadySubscribed(this.renderEvent,this.cfg.fireQueue,this.cfg)){this.renderEvent.subscribe(this.cfg.fireQueue,this.cfg,true);}this.initEvent.fire(G);},initResizeMonitor:function(){var R=(I.gecko&&this.platform=="windows");if(R){var Q=this;setTimeout(function(){Q._initResizeMonitor();},0);}else{this._initResizeMonitor();}},_initResizeMonitor:function(){var Q,S,U;function W(){G.textResizeEvent.fire();}if(!I.opera){S=F.get("_yuiResizeMonitor");var V=this._supportsCWResize();if(!S){S=document.createElement("iframe");if(this.isSecure&&G.RESIZE_MONITOR_SECURE_URL&&I.ie){S.src=G.RESIZE_MONITOR_SECURE_URL;}if(!V){U=["<html><head><script ",'type="text/javascript">',"window.onresize=function(){window.parent.","YAHOO.widget.Module.textResizeEvent.","fire();};<","/script></head>","<body></body></html>"].join("");S.src="data:text/html;charset=utf-8,"+encodeURIComponent(U);}S.id="_yuiResizeMonitor";S.title="Text Resize Monitor";S.style.position="absolute";S.style.visibility="hidden";var R=document.body,T=R.firstChild;if(T){R.insertBefore(S,T);}else{R.appendChild(S);}S.style.width="2em";S.style.height="2em";S.style.top=(-1*(S.offsetHeight+G.RESIZE_MONITOR_BUFFER))+"px";S.style.left="0";S.style.borderWidth="0";S.style.visibility="visible";if(I.webkit){Q=S.contentWindow.document;Q.open();Q.close();}}if(S&&S.contentWindow){G.textResizeEvent.subscribe(this.onDomResize,this,true);if(!G.textResizeInitialized){if(V){if(!N.on(S.contentWindow,"resize",W)){N.on(S,"resize",W);}}G.textResizeInitialized=true;}this.resizeMonitor=S;}}},_supportsCWResize:function(){var Q=true;if(I.gecko&&I.gecko<=1.8){Q=false;}return Q;},onDomResize:function(S,R){var Q=-1*(this.resizeMonitor.offsetHeight+G.RESIZE_MONITOR_BUFFER);this.resizeMonitor.style.top=Q+"px";this.resizeMonitor.style.left="0";},setHeader:function(R){var Q=this.header||(this.header=K());if(R.nodeName){Q.innerHTML="";Q.appendChild(R);}else{Q.innerHTML=R;}this.changeHeaderEvent.fire(R);this.changeContentEvent.fire();},appendToHeader:function(R){var Q=this.header||(this.header=K());Q.appendChild(R);this.changeHeaderEvent.fire(R);this.changeContentEvent.fire();},setBody:function(R){var Q=this.body||(this.body=B());if(R.nodeName){Q.innerHTML="";Q.appendChild(R);}else{Q.innerHTML=R;}this.changeBodyEvent.fire(R);this.changeContentEvent.fire();},appendToBody:function(R){var Q=this.body||(this.body=B());Q.appendChild(R);this.changeBodyEvent.fire(R);this.changeContentEvent.fire();},setFooter:function(R){var Q=this.footer||(this.footer=C());if(R.nodeName){Q.innerHTML="";Q.appendChild(R);}else{Q.innerHTML=R;}this.changeFooterEvent.fire(R);this.changeContentEvent.fire();},appendToFooter:function(R){var Q=this.footer||(this.footer=C());Q.appendChild(R);this.changeFooterEvent.fire(R);this.changeContentEvent.fire();},render:function(S,Q){var T=this,U;function R(V){if(typeof V=="string"){V=document.getElementById(V);}if(V){T._addToParent(V,T.element);T.appendEvent.fire();}}this.beforeRenderEvent.fire();if(!Q){Q=this.element;}if(S){R(S);}else{if(!F.inDocument(this.element)){return false;}}if(this.header&&!F.inDocument(this.header)){U=Q.firstChild;
if(U){Q.insertBefore(this.header,U);}else{Q.appendChild(this.header);}}if(this.body&&!F.inDocument(this.body)){if(this.footer&&F.isAncestor(this.moduleElement,this.footer)){Q.insertBefore(this.body,this.footer);}else{Q.appendChild(this.body);}}if(this.footer&&!F.inDocument(this.footer)){Q.appendChild(this.footer);}this.renderEvent.fire();return true;},destroy:function(){var Q;if(this.element){N.purgeElement(this.element,true);Q=this.element.parentNode;}if(Q){Q.removeChild(this.element);}this.element=null;this.header=null;this.body=null;this.footer=null;G.textResizeEvent.unsubscribe(this.onDomResize,this);this.cfg.destroy();this.cfg=null;this.destroyEvent.fire();},show:function(){this.cfg.setProperty("visible",true);},hide:function(){this.cfg.setProperty("visible",false);},configVisible:function(R,Q,S){var T=Q[0];if(T){this.beforeShowEvent.fire();F.setStyle(this.element,"display","block");this.showEvent.fire();}else{this.beforeHideEvent.fire();F.setStyle(this.element,"display","none");this.hideEvent.fire();}},configMonitorResize:function(S,R,T){var Q=R[0];if(Q){this.initResizeMonitor();}else{G.textResizeEvent.unsubscribe(this.onDomResize,this,true);this.resizeMonitor=null;}},_addToParent:function(Q,R){if(!this.cfg.getProperty("appendtodocumentbody")&&Q===document.body&&Q.firstChild){Q.insertBefore(R,Q.firstChild);}else{Q.appendChild(R);}},toString:function(){return"Module "+this.id;}};YAHOO.lang.augmentProto(G,YAHOO.util.EventProvider);}());(function(){YAHOO.widget.Overlay=function(P,O){YAHOO.widget.Overlay.superclass.constructor.call(this,P,O);};var I=YAHOO.lang,M=YAHOO.util.CustomEvent,G=YAHOO.widget.Module,N=YAHOO.util.Event,F=YAHOO.util.Dom,D=YAHOO.util.Config,K=YAHOO.env.ua,B=YAHOO.widget.Overlay,H="subscribe",E="unsubscribe",C="contained",J,A={"BEFORE_MOVE":"beforeMove","MOVE":"move"},L={"X":{key:"x",validator:I.isNumber,suppressEvent:true,supercedes:["iframe"]},"Y":{key:"y",validator:I.isNumber,suppressEvent:true,supercedes:["iframe"]},"XY":{key:"xy",suppressEvent:true,supercedes:["iframe"]},"CONTEXT":{key:"context",suppressEvent:true,supercedes:["iframe"]},"FIXED_CENTER":{key:"fixedcenter",value:false,supercedes:["iframe","visible"]},"WIDTH":{key:"width",suppressEvent:true,supercedes:["context","fixedcenter","iframe"]},"HEIGHT":{key:"height",suppressEvent:true,supercedes:["context","fixedcenter","iframe"]},"AUTO_FILL_HEIGHT":{key:"autofillheight",supercedes:["height"],value:"body"},"ZINDEX":{key:"zindex",value:null},"CONSTRAIN_TO_VIEWPORT":{key:"constraintoviewport",value:false,validator:I.isBoolean,supercedes:["iframe","x","y","xy"]},"IFRAME":{key:"iframe",value:(K.ie==6?true:false),validator:I.isBoolean,supercedes:["zindex"]},"PREVENT_CONTEXT_OVERLAP":{key:"preventcontextoverlap",value:false,validator:I.isBoolean,supercedes:["constraintoviewport"]}};B.IFRAME_SRC="javascript:false;";B.IFRAME_OFFSET=3;B.VIEWPORT_OFFSET=10;B.TOP_LEFT="tl";B.TOP_RIGHT="tr";B.BOTTOM_LEFT="bl";B.BOTTOM_RIGHT="br";B.CSS_OVERLAY="yui-overlay";B.STD_MOD_RE=/^\s*?(body|footer|header)\s*?$/i;B.windowScrollEvent=new M("windowScroll");B.windowResizeEvent=new M("windowResize");B.windowScrollHandler=function(P){var O=N.getTarget(P);if(!O||O===window||O===window.document){if(K.ie){if(!window.scrollEnd){window.scrollEnd=-1;}clearTimeout(window.scrollEnd);window.scrollEnd=setTimeout(function(){B.windowScrollEvent.fire();},1);}else{B.windowScrollEvent.fire();}}};B.windowResizeHandler=function(O){if(K.ie){if(!window.resizeEnd){window.resizeEnd=-1;}clearTimeout(window.resizeEnd);window.resizeEnd=setTimeout(function(){B.windowResizeEvent.fire();},100);}else{B.windowResizeEvent.fire();}};B._initialized=null;if(B._initialized===null){N.on(window,"scroll",B.windowScrollHandler);N.on(window,"resize",B.windowResizeHandler);B._initialized=true;}B._TRIGGER_MAP={"windowScroll":B.windowScrollEvent,"windowResize":B.windowResizeEvent,"textResize":G.textResizeEvent};YAHOO.extend(B,G,{CONTEXT_TRIGGERS:[],init:function(P,O){B.superclass.init.call(this,P);this.beforeInitEvent.fire(B);F.addClass(this.element,B.CSS_OVERLAY);if(O){this.cfg.applyConfig(O,true);}if(this.platform=="mac"&&K.gecko){if(!D.alreadySubscribed(this.showEvent,this.showMacGeckoScrollbars,this)){this.showEvent.subscribe(this.showMacGeckoScrollbars,this,true);}if(!D.alreadySubscribed(this.hideEvent,this.hideMacGeckoScrollbars,this)){this.hideEvent.subscribe(this.hideMacGeckoScrollbars,this,true);}}this.initEvent.fire(B);},initEvents:function(){B.superclass.initEvents.call(this);var O=M.LIST;this.beforeMoveEvent=this.createEvent(A.BEFORE_MOVE);this.beforeMoveEvent.signature=O;this.moveEvent=this.createEvent(A.MOVE);this.moveEvent.signature=O;},initDefaultConfig:function(){B.superclass.initDefaultConfig.call(this);var O=this.cfg;O.addProperty(L.X.key,{handler:this.configX,validator:L.X.validator,suppressEvent:L.X.suppressEvent,supercedes:L.X.supercedes});O.addProperty(L.Y.key,{handler:this.configY,validator:L.Y.validator,suppressEvent:L.Y.suppressEvent,supercedes:L.Y.supercedes});O.addProperty(L.XY.key,{handler:this.configXY,suppressEvent:L.XY.suppressEvent,supercedes:L.XY.supercedes});O.addProperty(L.CONTEXT.key,{handler:this.configContext,suppressEvent:L.CONTEXT.suppressEvent,supercedes:L.CONTEXT.supercedes});O.addProperty(L.FIXED_CENTER.key,{handler:this.configFixedCenter,value:L.FIXED_CENTER.value,validator:L.FIXED_CENTER.validator,supercedes:L.FIXED_CENTER.supercedes});O.addProperty(L.WIDTH.key,{handler:this.configWidth,suppressEvent:L.WIDTH.suppressEvent,supercedes:L.WIDTH.supercedes});O.addProperty(L.HEIGHT.key,{handler:this.configHeight,suppressEvent:L.HEIGHT.suppressEvent,supercedes:L.HEIGHT.supercedes});O.addProperty(L.AUTO_FILL_HEIGHT.key,{handler:this.configAutoFillHeight,value:L.AUTO_FILL_HEIGHT.value,validator:this._validateAutoFill,supercedes:L.AUTO_FILL_HEIGHT.supercedes});O.addProperty(L.ZINDEX.key,{handler:this.configzIndex,value:L.ZINDEX.value});O.addProperty(L.CONSTRAIN_TO_VIEWPORT.key,{handler:this.configConstrainToViewport,value:L.CONSTRAIN_TO_VIEWPORT.value,validator:L.CONSTRAIN_TO_VIEWPORT.validator,supercedes:L.CONSTRAIN_TO_VIEWPORT.supercedes});
O.addProperty(L.IFRAME.key,{handler:this.configIframe,value:L.IFRAME.value,validator:L.IFRAME.validator,supercedes:L.IFRAME.supercedes});O.addProperty(L.PREVENT_CONTEXT_OVERLAP.key,{value:L.PREVENT_CONTEXT_OVERLAP.value,validator:L.PREVENT_CONTEXT_OVERLAP.validator,supercedes:L.PREVENT_CONTEXT_OVERLAP.supercedes});},moveTo:function(O,P){this.cfg.setProperty("xy",[O,P]);},hideMacGeckoScrollbars:function(){F.replaceClass(this.element,"show-scrollbars","hide-scrollbars");},showMacGeckoScrollbars:function(){F.replaceClass(this.element,"hide-scrollbars","show-scrollbars");},_setDomVisibility:function(O){F.setStyle(this.element,"visibility",(O)?"visible":"hidden");if(O){F.removeClass(this.element,"yui-overlay-hidden");}else{F.addClass(this.element,"yui-overlay-hidden");}},configVisible:function(R,O,X){var Q=O[0],S=F.getStyle(this.element,"visibility"),Y=this.cfg.getProperty("effect"),V=[],U=(this.platform=="mac"&&K.gecko),g=D.alreadySubscribed,W,P,f,c,b,a,d,Z,T;if(S=="inherit"){f=this.element.parentNode;while(f.nodeType!=9&&f.nodeType!=11){S=F.getStyle(f,"visibility");if(S!="inherit"){break;}f=f.parentNode;}if(S=="inherit"){S="visible";}}if(Y){if(Y instanceof Array){Z=Y.length;for(c=0;c<Z;c++){W=Y[c];V[V.length]=W.effect(this,W.duration);}}else{V[V.length]=Y.effect(this,Y.duration);}}if(Q){if(U){this.showMacGeckoScrollbars();}if(Y){if(Q){if(S!="visible"||S===""){this.beforeShowEvent.fire();T=V.length;for(b=0;b<T;b++){P=V[b];if(b===0&&!g(P.animateInCompleteEvent,this.showEvent.fire,this.showEvent)){P.animateInCompleteEvent.subscribe(this.showEvent.fire,this.showEvent,true);}P.animateIn();}}}}else{if(S!="visible"||S===""){this.beforeShowEvent.fire();this._setDomVisibility(true);this.cfg.refireEvent("iframe");this.showEvent.fire();}else{this._setDomVisibility(true);}}}else{if(U){this.hideMacGeckoScrollbars();}if(Y){if(S=="visible"){this.beforeHideEvent.fire();T=V.length;for(a=0;a<T;a++){d=V[a];if(a===0&&!g(d.animateOutCompleteEvent,this.hideEvent.fire,this.hideEvent)){d.animateOutCompleteEvent.subscribe(this.hideEvent.fire,this.hideEvent,true);}d.animateOut();}}else{if(S===""){this._setDomVisibility(false);}}}else{if(S=="visible"||S===""){this.beforeHideEvent.fire();this._setDomVisibility(false);this.hideEvent.fire();}else{this._setDomVisibility(false);}}}},doCenterOnDOMEvent:function(){var O=this.cfg,P=O.getProperty("fixedcenter");if(O.getProperty("visible")){if(P&&(P!==C||this.fitsInViewport())){this.center();}}},fitsInViewport:function(){var S=B.VIEWPORT_OFFSET,Q=this.element,T=Q.offsetWidth,R=Q.offsetHeight,O=F.getViewportWidth(),P=F.getViewportHeight();return((T+S<O)&&(R+S<P));},configFixedCenter:function(S,Q,T){var U=Q[0],P=D.alreadySubscribed,R=B.windowResizeEvent,O=B.windowScrollEvent;if(U){this.center();if(!P(this.beforeShowEvent,this.center)){this.beforeShowEvent.subscribe(this.center);}if(!P(R,this.doCenterOnDOMEvent,this)){R.subscribe(this.doCenterOnDOMEvent,this,true);}if(!P(O,this.doCenterOnDOMEvent,this)){O.subscribe(this.doCenterOnDOMEvent,this,true);}}else{this.beforeShowEvent.unsubscribe(this.center);R.unsubscribe(this.doCenterOnDOMEvent,this);O.unsubscribe(this.doCenterOnDOMEvent,this);}},configHeight:function(R,P,S){var O=P[0],Q=this.element;F.setStyle(Q,"height",O);this.cfg.refireEvent("iframe");},configAutoFillHeight:function(T,S,P){var V=S[0],Q=this.cfg,U="autofillheight",W="height",R=Q.getProperty(U),O=this._autoFillOnHeightChange;Q.unsubscribeFromConfigEvent(W,O);G.textResizeEvent.unsubscribe(O);this.changeContentEvent.unsubscribe(O);if(R&&V!==R&&this[R]){F.setStyle(this[R],W,"");}if(V){V=I.trim(V.toLowerCase());Q.subscribeToConfigEvent(W,O,this[V],this);G.textResizeEvent.subscribe(O,this[V],this);this.changeContentEvent.subscribe(O,this[V],this);Q.setProperty(U,V,true);}},configWidth:function(R,O,S){var Q=O[0],P=this.element;F.setStyle(P,"width",Q);this.cfg.refireEvent("iframe");},configzIndex:function(Q,O,R){var S=O[0],P=this.element;if(!S){S=F.getStyle(P,"zIndex");if(!S||isNaN(S)){S=0;}}if(this.iframe||this.cfg.getProperty("iframe")===true){if(S<=0){S=1;}}F.setStyle(P,"zIndex",S);this.cfg.setProperty("zIndex",S,true);if(this.iframe){this.stackIframe();}},configXY:function(Q,P,R){var T=P[0],O=T[0],S=T[1];this.cfg.setProperty("x",O);this.cfg.setProperty("y",S);this.beforeMoveEvent.fire([O,S]);O=this.cfg.getProperty("x");S=this.cfg.getProperty("y");this.cfg.refireEvent("iframe");this.moveEvent.fire([O,S]);},configX:function(Q,P,R){var O=P[0],S=this.cfg.getProperty("y");this.cfg.setProperty("x",O,true);this.cfg.setProperty("y",S,true);this.beforeMoveEvent.fire([O,S]);O=this.cfg.getProperty("x");S=this.cfg.getProperty("y");F.setX(this.element,O,true);this.cfg.setProperty("xy",[O,S],true);this.cfg.refireEvent("iframe");this.moveEvent.fire([O,S]);},configY:function(Q,P,R){var O=this.cfg.getProperty("x"),S=P[0];this.cfg.setProperty("x",O,true);this.cfg.setProperty("y",S,true);this.beforeMoveEvent.fire([O,S]);O=this.cfg.getProperty("x");S=this.cfg.getProperty("y");F.setY(this.element,S,true);this.cfg.setProperty("xy",[O,S],true);this.cfg.refireEvent("iframe");this.moveEvent.fire([O,S]);},showIframe:function(){var P=this.iframe,O;if(P){O=this.element.parentNode;if(O!=P.parentNode){this._addToParent(O,P);}P.style.display="block";}},hideIframe:function(){if(this.iframe){this.iframe.style.display="none";}},syncIframe:function(){var O=this.iframe,Q=this.element,S=B.IFRAME_OFFSET,P=(S*2),R;if(O){O.style.width=(Q.offsetWidth+P+"px");O.style.height=(Q.offsetHeight+P+"px");R=this.cfg.getProperty("xy");if(!I.isArray(R)||(isNaN(R[0])||isNaN(R[1]))){this.syncPosition();R=this.cfg.getProperty("xy");}F.setXY(O,[(R[0]-S),(R[1]-S)]);}},stackIframe:function(){if(this.iframe){var O=F.getStyle(this.element,"zIndex");if(!YAHOO.lang.isUndefined(O)&&!isNaN(O)){F.setStyle(this.iframe,"zIndex",(O-1));}}},configIframe:function(R,Q,S){var O=Q[0];function T(){var V=this.iframe,W=this.element,X;if(!V){if(!J){J=document.createElement("iframe");if(this.isSecure){J.src=B.IFRAME_SRC;}if(K.ie){J.style.filter="alpha(opacity=0)";
J.frameBorder=0;}else{J.style.opacity="0";}J.style.position="absolute";J.style.border="none";J.style.margin="0";J.style.padding="0";J.style.display="none";J.tabIndex=-1;}V=J.cloneNode(false);X=W.parentNode;var U=X||document.body;this._addToParent(U,V);this.iframe=V;}this.showIframe();this.syncIframe();this.stackIframe();if(!this._hasIframeEventListeners){this.showEvent.subscribe(this.showIframe);this.hideEvent.subscribe(this.hideIframe);this.changeContentEvent.subscribe(this.syncIframe);this._hasIframeEventListeners=true;}}function P(){T.call(this);this.beforeShowEvent.unsubscribe(P);this._iframeDeferred=false;}if(O){if(this.cfg.getProperty("visible")){T.call(this);}else{if(!this._iframeDeferred){this.beforeShowEvent.subscribe(P);this._iframeDeferred=true;}}}else{this.hideIframe();if(this._hasIframeEventListeners){this.showEvent.unsubscribe(this.showIframe);this.hideEvent.unsubscribe(this.hideIframe);this.changeContentEvent.unsubscribe(this.syncIframe);this._hasIframeEventListeners=false;}}},_primeXYFromDOM:function(){if(YAHOO.lang.isUndefined(this.cfg.getProperty("xy"))){this.syncPosition();this.cfg.refireEvent("xy");this.beforeShowEvent.unsubscribe(this._primeXYFromDOM);}},configConstrainToViewport:function(P,O,Q){var R=O[0];if(R){if(!D.alreadySubscribed(this.beforeMoveEvent,this.enforceConstraints,this)){this.beforeMoveEvent.subscribe(this.enforceConstraints,this,true);}if(!D.alreadySubscribed(this.beforeShowEvent,this._primeXYFromDOM)){this.beforeShowEvent.subscribe(this._primeXYFromDOM);}}else{this.beforeShowEvent.unsubscribe(this._primeXYFromDOM);this.beforeMoveEvent.unsubscribe(this.enforceConstraints,this);}},configContext:function(T,S,P){var W=S[0],Q,O,U,R,V=this.CONTEXT_TRIGGERS;if(W){Q=W[0];O=W[1];U=W[2];R=W[3];if(V&&V.length>0){R=(R||[]).concat(V);}if(Q){if(typeof Q=="string"){this.cfg.setProperty("context",[document.getElementById(Q),O,U,R],true);}if(O&&U){this.align(O,U);}if(this._contextTriggers){this._processTriggers(this._contextTriggers,E,this._alignOnTrigger);}if(R){this._processTriggers(R,H,this._alignOnTrigger);this._contextTriggers=R;}}}},_alignOnTrigger:function(P,O){this.align();},_findTriggerCE:function(O){var P=null;if(O instanceof M){P=O;}else{if(B._TRIGGER_MAP[O]){P=B._TRIGGER_MAP[O];}}return P;},_processTriggers:function(S,U,R){var Q,T;for(var P=0,O=S.length;P<O;++P){Q=S[P];T=this._findTriggerCE(Q);if(T){T[U](R,this,true);}else{this[U](Q,R);}}},align:function(P,O){var U=this.cfg.getProperty("context"),T=this,S,R,V;function Q(W,X){switch(P){case B.TOP_LEFT:T.moveTo(X,W);break;case B.TOP_RIGHT:T.moveTo((X-R.offsetWidth),W);break;case B.BOTTOM_LEFT:T.moveTo(X,(W-R.offsetHeight));break;case B.BOTTOM_RIGHT:T.moveTo((X-R.offsetWidth),(W-R.offsetHeight));break;}}if(U){S=U[0];R=this.element;T=this;if(!P){P=U[1];}if(!O){O=U[2];}if(R&&S){V=F.getRegion(S);switch(O){case B.TOP_LEFT:Q(V.top,V.left);break;case B.TOP_RIGHT:Q(V.top,V.right);break;case B.BOTTOM_LEFT:Q(V.bottom,V.left);break;case B.BOTTOM_RIGHT:Q(V.bottom,V.right);break;}}}},enforceConstraints:function(P,O,Q){var S=O[0];var R=this.getConstrainedXY(S[0],S[1]);this.cfg.setProperty("x",R[0],true);this.cfg.setProperty("y",R[1],true);this.cfg.setProperty("xy",R,true);},getConstrainedX:function(V){var S=this,O=S.element,e=O.offsetWidth,c=B.VIEWPORT_OFFSET,h=F.getViewportWidth(),d=F.getDocumentScrollLeft(),Y=(e+c<h),b=this.cfg.getProperty("context"),Q,X,j,T=false,f,W,g=d+c,P=d+h-e-c,i=V,U={"tltr":true,"blbr":true,"brbl":true,"trtl":true};var Z=function(){var k;if((S.cfg.getProperty("x")-d)>X){k=(X-e);}else{k=(X+j);}S.cfg.setProperty("x",(k+d),true);return k;};var R=function(){if((S.cfg.getProperty("x")-d)>X){return(W-c);}else{return(f-c);}};var a=function(){var k=R(),l;if(e>k){if(T){Z();}else{Z();T=true;l=a();}}return l;};if(V<g||V>P){if(Y){if(this.cfg.getProperty("preventcontextoverlap")&&b&&U[(b[1]+b[2])]){Q=b[0];X=F.getX(Q)-d;j=Q.offsetWidth;f=X;W=(h-(X+j));a();i=this.cfg.getProperty("x");}else{if(V<g){i=g;}else{if(V>P){i=P;}}}}else{i=c+d;}}return i;},getConstrainedY:function(Z){var W=this,P=W.element,i=P.offsetHeight,h=B.VIEWPORT_OFFSET,d=F.getViewportHeight(),g=F.getDocumentScrollTop(),e=(i+h<d),f=this.cfg.getProperty("context"),U,a,b,X=false,V,Q,c=g+h,S=g+d-i-h,O=Z,Y={"trbr":true,"tlbl":true,"bltl":true,"brtr":true};var T=function(){var k;if((W.cfg.getProperty("y")-g)>a){k=(a-i);}else{k=(a+b);}W.cfg.setProperty("y",(k+g),true);return k;};var R=function(){if((W.cfg.getProperty("y")-g)>a){return(Q-h);}else{return(V-h);}};var j=function(){var l=R(),k;if(i>l){if(X){T();}else{T();X=true;k=j();}}return k;};if(Z<c||Z>S){if(e){if(this.cfg.getProperty("preventcontextoverlap")&&f&&Y[(f[1]+f[2])]){U=f[0];b=U.offsetHeight;a=(F.getY(U)-g);V=a;Q=(d-(a+b));j();O=W.cfg.getProperty("y");}else{if(Z<c){O=c;}else{if(Z>S){O=S;}}}}else{O=h+g;}}return O;},getConstrainedXY:function(O,P){return[this.getConstrainedX(O),this.getConstrainedY(P)];},center:function(){var R=B.VIEWPORT_OFFSET,S=this.element.offsetWidth,Q=this.element.offsetHeight,P=F.getViewportWidth(),T=F.getViewportHeight(),O,U;if(S<P){O=(P/2)-(S/2)+F.getDocumentScrollLeft();}else{O=R+F.getDocumentScrollLeft();}if(Q<T){U=(T/2)-(Q/2)+F.getDocumentScrollTop();}else{U=R+F.getDocumentScrollTop();}this.cfg.setProperty("xy",[parseInt(O,10),parseInt(U,10)]);this.cfg.refireEvent("iframe");if(K.webkit){this.forceContainerRedraw();}},syncPosition:function(){var O=F.getXY(this.element);this.cfg.setProperty("x",O[0],true);this.cfg.setProperty("y",O[1],true);this.cfg.setProperty("xy",O,true);},onDomResize:function(Q,P){var O=this;B.superclass.onDomResize.call(this,Q,P);setTimeout(function(){O.syncPosition();O.cfg.refireEvent("iframe");O.cfg.refireEvent("context");},0);},_getComputedHeight:(function(){if(document.defaultView&&document.defaultView.getComputedStyle){return function(P){var O=null;if(P.ownerDocument&&P.ownerDocument.defaultView){var Q=P.ownerDocument.defaultView.getComputedStyle(P,"");if(Q){O=parseInt(Q.height,10);}}return(I.isNumber(O))?O:null;};}else{return function(P){var O=null;
if(P.style.pixelHeight){O=P.style.pixelHeight;}return(I.isNumber(O))?O:null;};}})(),_validateAutoFillHeight:function(O){return(!O)||(I.isString(O)&&B.STD_MOD_RE.test(O));},_autoFillOnHeightChange:function(R,P,Q){var O=this.cfg.getProperty("height");if((O&&O!=="auto")||(O===0)){this.fillHeight(Q);}},_getPreciseHeight:function(P){var O=P.offsetHeight;if(P.getBoundingClientRect){var Q=P.getBoundingClientRect();O=Q.bottom-Q.top;}return O;},fillHeight:function(R){if(R){var P=this.innerElement||this.element,O=[this.header,this.body,this.footer],V,W=0,X=0,T=0,Q=false;for(var U=0,S=O.length;U<S;U++){V=O[U];if(V){if(R!==V){X+=this._getPreciseHeight(V);}else{Q=true;}}}if(Q){if(K.ie||K.opera){F.setStyle(R,"height",0+"px");}W=this._getComputedHeight(P);if(W===null){F.addClass(P,"yui-override-padding");W=P.clientHeight;F.removeClass(P,"yui-override-padding");}T=Math.max(W-X,0);F.setStyle(R,"height",T+"px");if(R.offsetHeight!=T){T=Math.max(T-(R.offsetHeight-T),0);}F.setStyle(R,"height",T+"px");}}},bringToTop:function(){var S=[],R=this.element;function V(Z,Y){var b=F.getStyle(Z,"zIndex"),a=F.getStyle(Y,"zIndex"),X=(!b||isNaN(b))?0:parseInt(b,10),W=(!a||isNaN(a))?0:parseInt(a,10);if(X>W){return -1;}else{if(X<W){return 1;}else{return 0;}}}function Q(Y){var X=F.hasClass(Y,B.CSS_OVERLAY),W=YAHOO.widget.Panel;if(X&&!F.isAncestor(R,Y)){if(W&&F.hasClass(Y,W.CSS_PANEL)){S[S.length]=Y.parentNode;}else{S[S.length]=Y;}}}F.getElementsBy(Q,"DIV",document.body);S.sort(V);var O=S[0],U;if(O){U=F.getStyle(O,"zIndex");if(!isNaN(U)){var T=false;if(O!=R){T=true;}else{if(S.length>1){var P=F.getStyle(S[1],"zIndex");if(!isNaN(P)&&(U==P)){T=true;}}}if(T){this.cfg.setProperty("zindex",(parseInt(U,10)+2));}}}},destroy:function(){if(this.iframe){this.iframe.parentNode.removeChild(this.iframe);}this.iframe=null;B.windowResizeEvent.unsubscribe(this.doCenterOnDOMEvent,this);B.windowScrollEvent.unsubscribe(this.doCenterOnDOMEvent,this);G.textResizeEvent.unsubscribe(this._autoFillOnHeightChange);B.superclass.destroy.call(this);},forceContainerRedraw:function(){var O=this;F.addClass(O.element,"yui-force-redraw");setTimeout(function(){F.removeClass(O.element,"yui-force-redraw");},0);},toString:function(){return"Overlay "+this.id;}});}());(function(){YAHOO.widget.OverlayManager=function(G){this.init(G);};var D=YAHOO.widget.Overlay,C=YAHOO.util.Event,E=YAHOO.util.Dom,B=YAHOO.util.Config,F=YAHOO.util.CustomEvent,A=YAHOO.widget.OverlayManager;A.CSS_FOCUSED="focused";A.prototype={constructor:A,overlays:null,initDefaultConfig:function(){this.cfg.addProperty("overlays",{suppressEvent:true});this.cfg.addProperty("focusevent",{value:"mousedown"});},init:function(I){this.cfg=new B(this);this.initDefaultConfig();if(I){this.cfg.applyConfig(I,true);}this.cfg.fireQueue();var H=null;this.getActive=function(){return H;};this.focus=function(J){var K=this.find(J);if(K){K.focus();}};this.remove=function(K){var M=this.find(K),J;if(M){if(H==M){H=null;}var L=(M.element===null&&M.cfg===null)?true:false;if(!L){J=E.getStyle(M.element,"zIndex");M.cfg.setProperty("zIndex",-1000,true);}this.overlays.sort(this.compareZIndexDesc);this.overlays=this.overlays.slice(0,(this.overlays.length-1));M.hideEvent.unsubscribe(M.blur);M.destroyEvent.unsubscribe(this._onOverlayDestroy,M);M.focusEvent.unsubscribe(this._onOverlayFocusHandler,M);M.blurEvent.unsubscribe(this._onOverlayBlurHandler,M);if(!L){C.removeListener(M.element,this.cfg.getProperty("focusevent"),this._onOverlayElementFocus);M.cfg.setProperty("zIndex",J,true);M.cfg.setProperty("manager",null);}if(M.focusEvent._managed){M.focusEvent=null;}if(M.blurEvent._managed){M.blurEvent=null;}if(M.focus._managed){M.focus=null;}if(M.blur._managed){M.blur=null;}}};this.blurAll=function(){var K=this.overlays.length,J;if(K>0){J=K-1;do{this.overlays[J].blur();}while(J--);}};this._manageBlur=function(J){var K=false;if(H==J){E.removeClass(H.element,A.CSS_FOCUSED);H=null;K=true;}return K;};this._manageFocus=function(J){var K=false;if(H!=J){if(H){H.blur();}H=J;this.bringToTop(H);E.addClass(H.element,A.CSS_FOCUSED);K=true;}return K;};var G=this.cfg.getProperty("overlays");if(!this.overlays){this.overlays=[];}if(G){this.register(G);this.overlays.sort(this.compareZIndexDesc);}},_onOverlayElementFocus:function(I){var G=C.getTarget(I),H=this.close;if(H&&(G==H||E.isAncestor(H,G))){this.blur();}else{this.focus();}},_onOverlayDestroy:function(H,G,I){this.remove(I);},_onOverlayFocusHandler:function(H,G,I){this._manageFocus(I);},_onOverlayBlurHandler:function(H,G,I){this._manageBlur(I);},_bindFocus:function(G){var H=this;if(!G.focusEvent){G.focusEvent=G.createEvent("focus");G.focusEvent.signature=F.LIST;G.focusEvent._managed=true;}else{G.focusEvent.subscribe(H._onOverlayFocusHandler,G,H);}if(!G.focus){C.on(G.element,H.cfg.getProperty("focusevent"),H._onOverlayElementFocus,null,G);G.focus=function(){if(H._manageFocus(this)){if(this.cfg.getProperty("visible")&&this.focusFirst){this.focusFirst();}this.focusEvent.fire();}};G.focus._managed=true;}},_bindBlur:function(G){var H=this;if(!G.blurEvent){G.blurEvent=G.createEvent("blur");G.blurEvent.signature=F.LIST;G.focusEvent._managed=true;}else{G.blurEvent.subscribe(H._onOverlayBlurHandler,G,H);}if(!G.blur){G.blur=function(){if(H._manageBlur(this)){this.blurEvent.fire();}};G.blur._managed=true;}G.hideEvent.subscribe(G.blur);},_bindDestroy:function(G){var H=this;G.destroyEvent.subscribe(H._onOverlayDestroy,G,H);},_syncZIndex:function(G){var H=E.getStyle(G.element,"zIndex");if(!isNaN(H)){G.cfg.setProperty("zIndex",parseInt(H,10));}else{G.cfg.setProperty("zIndex",0);}},register:function(G){var J=false,H,I;if(G instanceof D){G.cfg.addProperty("manager",{value:this});this._bindFocus(G);this._bindBlur(G);this._bindDestroy(G);this._syncZIndex(G);this.overlays.push(G);this.bringToTop(G);J=true;}else{if(G instanceof Array){for(H=0,I=G.length;H<I;H++){J=this.register(G[H])||J;}}}return J;},bringToTop:function(M){var I=this.find(M),L,G,J;if(I){J=this.overlays;J.sort(this.compareZIndexDesc);G=J[0];if(G){L=E.getStyle(G.element,"zIndex");
if(!isNaN(L)){var K=false;if(G!==I){K=true;}else{if(J.length>1){var H=E.getStyle(J[1].element,"zIndex");if(!isNaN(H)&&(L==H)){K=true;}}}if(K){I.cfg.setProperty("zindex",(parseInt(L,10)+2));}}J.sort(this.compareZIndexDesc);}}},find:function(G){var K=G instanceof D,I=this.overlays,M=I.length,J=null,L,H;if(K||typeof G=="string"){for(H=M-1;H>=0;H--){L=I[H];if((K&&(L===G))||(L.id==G)){J=L;break;}}}return J;},compareZIndexDesc:function(J,I){var H=(J.cfg)?J.cfg.getProperty("zIndex"):null,G=(I.cfg)?I.cfg.getProperty("zIndex"):null;if(H===null&&G===null){return 0;}else{if(H===null){return 1;}else{if(G===null){return -1;}else{if(H>G){return -1;}else{if(H<G){return 1;}else{return 0;}}}}}},showAll:function(){var H=this.overlays,I=H.length,G;for(G=I-1;G>=0;G--){H[G].show();}},hideAll:function(){var H=this.overlays,I=H.length,G;for(G=I-1;G>=0;G--){H[G].hide();}},toString:function(){return"OverlayManager";}};}());(function(){YAHOO.widget.Tooltip=function(P,O){YAHOO.widget.Tooltip.superclass.constructor.call(this,P,O);};var E=YAHOO.lang,N=YAHOO.util.Event,M=YAHOO.util.CustomEvent,C=YAHOO.util.Dom,J=YAHOO.widget.Tooltip,H=YAHOO.env.ua,G=(H.ie&&(H.ie<=6||document.compatMode=="BackCompat")),F,I={"PREVENT_OVERLAP":{key:"preventoverlap",value:true,validator:E.isBoolean,supercedes:["x","y","xy"]},"SHOW_DELAY":{key:"showdelay",value:200,validator:E.isNumber},"AUTO_DISMISS_DELAY":{key:"autodismissdelay",value:5000,validator:E.isNumber},"HIDE_DELAY":{key:"hidedelay",value:250,validator:E.isNumber},"TEXT":{key:"text",suppressEvent:true},"CONTAINER":{key:"container"},"DISABLED":{key:"disabled",value:false,suppressEvent:true}},A={"CONTEXT_MOUSE_OVER":"contextMouseOver","CONTEXT_MOUSE_OUT":"contextMouseOut","CONTEXT_TRIGGER":"contextTrigger"};J.CSS_TOOLTIP="yui-tt";function K(Q,O){var P=this.cfg,R=P.getProperty("width");if(R==O){P.setProperty("width",Q);}}function D(P,O){if("_originalWidth" in this){K.call(this,this._originalWidth,this._forcedWidth);}var Q=document.body,U=this.cfg,T=U.getProperty("width"),R,S;if((!T||T=="auto")&&(U.getProperty("container")!=Q||U.getProperty("x")>=C.getViewportWidth()||U.getProperty("y")>=C.getViewportHeight())){S=this.element.cloneNode(true);S.style.visibility="hidden";S.style.top="0px";S.style.left="0px";Q.appendChild(S);R=(S.offsetWidth+"px");Q.removeChild(S);S=null;U.setProperty("width",R);U.refireEvent("xy");this._originalWidth=T||"";this._forcedWidth=R;}}function B(P,O,Q){this.render(Q);}function L(){N.onDOMReady(B,this.cfg.getProperty("container"),this);}YAHOO.extend(J,YAHOO.widget.Overlay,{init:function(P,O){J.superclass.init.call(this,P);this.beforeInitEvent.fire(J);C.addClass(this.element,J.CSS_TOOLTIP);if(O){this.cfg.applyConfig(O,true);}this.cfg.queueProperty("visible",false);this.cfg.queueProperty("constraintoviewport",true);this.setBody("");this.subscribe("changeContent",D);this.subscribe("init",L);this.subscribe("render",this.onRender);this.initEvent.fire(J);},initEvents:function(){J.superclass.initEvents.call(this);var O=M.LIST;this.contextMouseOverEvent=this.createEvent(A.CONTEXT_MOUSE_OVER);this.contextMouseOverEvent.signature=O;this.contextMouseOutEvent=this.createEvent(A.CONTEXT_MOUSE_OUT);this.contextMouseOutEvent.signature=O;this.contextTriggerEvent=this.createEvent(A.CONTEXT_TRIGGER);this.contextTriggerEvent.signature=O;},initDefaultConfig:function(){J.superclass.initDefaultConfig.call(this);this.cfg.addProperty(I.PREVENT_OVERLAP.key,{value:I.PREVENT_OVERLAP.value,validator:I.PREVENT_OVERLAP.validator,supercedes:I.PREVENT_OVERLAP.supercedes});this.cfg.addProperty(I.SHOW_DELAY.key,{handler:this.configShowDelay,value:200,validator:I.SHOW_DELAY.validator});this.cfg.addProperty(I.AUTO_DISMISS_DELAY.key,{handler:this.configAutoDismissDelay,value:I.AUTO_DISMISS_DELAY.value,validator:I.AUTO_DISMISS_DELAY.validator});this.cfg.addProperty(I.HIDE_DELAY.key,{handler:this.configHideDelay,value:I.HIDE_DELAY.value,validator:I.HIDE_DELAY.validator});this.cfg.addProperty(I.TEXT.key,{handler:this.configText,suppressEvent:I.TEXT.suppressEvent});this.cfg.addProperty(I.CONTAINER.key,{handler:this.configContainer,value:document.body});this.cfg.addProperty(I.DISABLED.key,{handler:this.configContainer,value:I.DISABLED.value,supressEvent:I.DISABLED.suppressEvent});},configText:function(P,O,Q){var R=O[0];if(R){this.setBody(R);}},configContainer:function(Q,P,R){var O=P[0];if(typeof O=="string"){this.cfg.setProperty("container",document.getElementById(O),true);}},_removeEventListeners:function(){var R=this._context,O,Q,P;if(R){O=R.length;if(O>0){P=O-1;do{Q=R[P];N.removeListener(Q,"mouseover",this.onContextMouseOver);N.removeListener(Q,"mousemove",this.onContextMouseMove);N.removeListener(Q,"mouseout",this.onContextMouseOut);}while(P--);}}},configContext:function(T,P,U){var S=P[0],V,O,R,Q;if(S){if(!(S instanceof Array)){if(typeof S=="string"){this.cfg.setProperty("context",[document.getElementById(S)],true);}else{this.cfg.setProperty("context",[S],true);}S=this.cfg.getProperty("context");}this._removeEventListeners();this._context=S;V=this._context;if(V){O=V.length;if(O>0){Q=O-1;do{R=V[Q];N.on(R,"mouseover",this.onContextMouseOver,this);N.on(R,"mousemove",this.onContextMouseMove,this);N.on(R,"mouseout",this.onContextMouseOut,this);}while(Q--);}}}},onContextMouseMove:function(P,O){O.pageX=N.getPageX(P);O.pageY=N.getPageY(P);},onContextMouseOver:function(Q,P){var O=this;if(O.title){P._tempTitle=O.title;O.title="";}if(P.fireEvent("contextMouseOver",O,Q)!==false&&!P.cfg.getProperty("disabled")){if(P.hideProcId){clearTimeout(P.hideProcId);P.hideProcId=null;}N.on(O,"mousemove",P.onContextMouseMove,P);P.showProcId=P.doShow(Q,O);}},onContextMouseOut:function(Q,P){var O=this;if(P._tempTitle){O.title=P._tempTitle;P._tempTitle=null;}if(P.showProcId){clearTimeout(P.showProcId);P.showProcId=null;}if(P.hideProcId){clearTimeout(P.hideProcId);P.hideProcId=null;}P.fireEvent("contextMouseOut",O,Q);P.hideProcId=setTimeout(function(){P.hide();},P.cfg.getProperty("hidedelay"));},doShow:function(Q,O){var R=25,P=this;
if(H.opera&&O.tagName&&O.tagName.toUpperCase()=="A"){R+=12;}return setTimeout(function(){var S=P.cfg.getProperty("text");if(P._tempTitle&&(S===""||YAHOO.lang.isUndefined(S)||YAHOO.lang.isNull(S))){P.setBody(P._tempTitle);}else{P.cfg.refireEvent("text");}P.moveTo(P.pageX,P.pageY+R);if(P.cfg.getProperty("preventoverlap")){P.preventOverlap(P.pageX,P.pageY);}N.removeListener(O,"mousemove",P.onContextMouseMove);P.contextTriggerEvent.fire(O);P.show();P.hideProcId=P.doHide();},this.cfg.getProperty("showdelay"));},doHide:function(){var O=this;return setTimeout(function(){O.hide();},this.cfg.getProperty("autodismissdelay"));},preventOverlap:function(S,R){var O=this.element.offsetHeight,Q=new YAHOO.util.Point(S,R),P=C.getRegion(this.element);P.top-=5;P.left-=5;P.right+=5;P.bottom+=5;if(P.contains(Q)){this.cfg.setProperty("y",(R-O-5));}},onRender:function(S,R){function T(){var W=this.element,V=this.underlay;if(V){V.style.width=(W.offsetWidth+6)+"px";V.style.height=(W.offsetHeight+1)+"px";}}function P(){C.addClass(this.underlay,"yui-tt-shadow-visible");if(H.ie){this.forceUnderlayRedraw();}}function O(){C.removeClass(this.underlay,"yui-tt-shadow-visible");}function U(){var X=this.underlay,W,V,Z,Y;if(!X){W=this.element;V=YAHOO.widget.Module;Z=H.ie;Y=this;if(!F){F=document.createElement("div");F.className="yui-tt-shadow";}X=F.cloneNode(false);W.appendChild(X);this.underlay=X;this._shadow=this.underlay;P.call(this);this.subscribe("beforeShow",P);this.subscribe("hide",O);if(G){window.setTimeout(function(){T.call(Y);},0);this.cfg.subscribeToConfigEvent("width",T);this.cfg.subscribeToConfigEvent("height",T);this.subscribe("changeContent",T);V.textResizeEvent.subscribe(T,this,true);this.subscribe("destroy",function(){V.textResizeEvent.unsubscribe(T,this);});}}}function Q(){U.call(this);this.unsubscribe("beforeShow",Q);}if(this.cfg.getProperty("visible")){U.call(this);}else{this.subscribe("beforeShow",Q);}},forceUnderlayRedraw:function(){var O=this;C.addClass(O.underlay,"yui-force-redraw");setTimeout(function(){C.removeClass(O.underlay,"yui-force-redraw");},0);},destroy:function(){this._removeEventListeners();J.superclass.destroy.call(this);},toString:function(){return"Tooltip "+this.id;}});}());(function(){YAHOO.widget.Panel=function(V,U){YAHOO.widget.Panel.superclass.constructor.call(this,V,U);};var S=null;var E=YAHOO.lang,F=YAHOO.util,A=F.Dom,T=F.Event,M=F.CustomEvent,K=YAHOO.util.KeyListener,I=F.Config,H=YAHOO.widget.Overlay,O=YAHOO.widget.Panel,L=YAHOO.env.ua,P=(L.ie&&(L.ie<=6||document.compatMode=="BackCompat")),G,Q,C,D={"SHOW_MASK":"showMask","HIDE_MASK":"hideMask","DRAG":"drag"},N={"CLOSE":{key:"close",value:true,validator:E.isBoolean,supercedes:["visible"]},"DRAGGABLE":{key:"draggable",value:(F.DD?true:false),validator:E.isBoolean,supercedes:["visible"]},"DRAG_ONLY":{key:"dragonly",value:false,validator:E.isBoolean,supercedes:["draggable"]},"UNDERLAY":{key:"underlay",value:"shadow",supercedes:["visible"]},"MODAL":{key:"modal",value:false,validator:E.isBoolean,supercedes:["visible","zindex"]},"KEY_LISTENERS":{key:"keylisteners",suppressEvent:true,supercedes:["visible"]},"STRINGS":{key:"strings",supercedes:["close"],validator:E.isObject,value:{close:"Close"}}};O.CSS_PANEL="yui-panel";O.CSS_PANEL_CONTAINER="yui-panel-container";O.FOCUSABLE=["a","button","select","textarea","input","iframe"];function J(V,U){if(!this.header&&this.cfg.getProperty("draggable")){this.setHeader("&#160;");}}function R(V,U,W){var Z=W[0],X=W[1],Y=this.cfg,a=Y.getProperty("width");if(a==X){Y.setProperty("width",Z);}this.unsubscribe("hide",R,W);}function B(V,U){var Y,X,W;if(P){Y=this.cfg;X=Y.getProperty("width");if(!X||X=="auto"){W=(this.element.offsetWidth+"px");Y.setProperty("width",W);this.subscribe("hide",R,[(X||""),W]);}}}YAHOO.extend(O,H,{init:function(V,U){O.superclass.init.call(this,V);this.beforeInitEvent.fire(O);A.addClass(this.element,O.CSS_PANEL);this.buildWrapper();if(U){this.cfg.applyConfig(U,true);}this.subscribe("showMask",this._addFocusHandlers);this.subscribe("hideMask",this._removeFocusHandlers);this.subscribe("beforeRender",J);this.subscribe("render",function(){this.setFirstLastFocusable();this.subscribe("changeContent",this.setFirstLastFocusable);});this.subscribe("show",this.focusFirst);this.initEvent.fire(O);},_onElementFocus:function(Z){if(S===this){var Y=T.getTarget(Z),X=document.documentElement,V=(Y!==X&&Y!==window);if(V&&Y!==this.element&&Y!==this.mask&&!A.isAncestor(this.element,Y)){try{if(this.firstElement){this.firstElement.focus();}else{if(this._modalFocus){this._modalFocus.focus();}else{this.innerElement.focus();}}}catch(W){try{if(V&&Y!==document.body){Y.blur();}}catch(U){}}}}},_addFocusHandlers:function(V,U){if(!this.firstElement){if(L.webkit||L.opera){if(!this._modalFocus){this._createHiddenFocusElement();}}else{this.innerElement.tabIndex=0;}}this.setTabLoop(this.firstElement,this.lastElement);T.onFocus(document.documentElement,this._onElementFocus,this,true);S=this;},_createHiddenFocusElement:function(){var U=document.createElement("button");U.style.height="1px";U.style.width="1px";U.style.position="absolute";U.style.left="-10000em";U.style.opacity=0;U.tabIndex=-1;this.innerElement.appendChild(U);this._modalFocus=U;},_removeFocusHandlers:function(V,U){T.removeFocusListener(document.documentElement,this._onElementFocus,this);if(S==this){S=null;}},focusFirst:function(W,U,Y){var V=this.firstElement;if(U&&U[1]){T.stopEvent(U[1]);}if(V){try{V.focus();}catch(X){}}},focusLast:function(W,U,Y){var V=this.lastElement;if(U&&U[1]){T.stopEvent(U[1]);}if(V){try{V.focus();}catch(X){}}},setTabLoop:function(X,Z){var V=this.preventBackTab,W=this.preventTabOut,U=this.showEvent,Y=this.hideEvent;if(V){V.disable();U.unsubscribe(V.enable,V);Y.unsubscribe(V.disable,V);V=this.preventBackTab=null;}if(W){W.disable();U.unsubscribe(W.enable,W);Y.unsubscribe(W.disable,W);W=this.preventTabOut=null;}if(X){this.preventBackTab=new K(X,{shift:true,keys:9},{fn:this.focusLast,scope:this,correctScope:true});V=this.preventBackTab;U.subscribe(V.enable,V,true);
Y.subscribe(V.disable,V,true);}if(Z){this.preventTabOut=new K(Z,{shift:false,keys:9},{fn:this.focusFirst,scope:this,correctScope:true});W=this.preventTabOut;U.subscribe(W.enable,W,true);Y.subscribe(W.disable,W,true);}},getFocusableElements:function(U){U=U||this.innerElement;var X={};for(var W=0;W<O.FOCUSABLE.length;W++){X[O.FOCUSABLE[W]]=true;}function V(Y){if(Y.focus&&Y.type!=="hidden"&&!Y.disabled&&X[Y.tagName.toLowerCase()]){return true;}return false;}return A.getElementsBy(V,null,U);},setFirstLastFocusable:function(){this.firstElement=null;this.lastElement=null;var U=this.getFocusableElements();this.focusableElements=U;if(U.length>0){this.firstElement=U[0];this.lastElement=U[U.length-1];}if(this.cfg.getProperty("modal")){this.setTabLoop(this.firstElement,this.lastElement);}},initEvents:function(){O.superclass.initEvents.call(this);var U=M.LIST;this.showMaskEvent=this.createEvent(D.SHOW_MASK);this.showMaskEvent.signature=U;this.hideMaskEvent=this.createEvent(D.HIDE_MASK);this.hideMaskEvent.signature=U;this.dragEvent=this.createEvent(D.DRAG);this.dragEvent.signature=U;},initDefaultConfig:function(){O.superclass.initDefaultConfig.call(this);this.cfg.addProperty(N.CLOSE.key,{handler:this.configClose,value:N.CLOSE.value,validator:N.CLOSE.validator,supercedes:N.CLOSE.supercedes});this.cfg.addProperty(N.DRAGGABLE.key,{handler:this.configDraggable,value:(F.DD)?true:false,validator:N.DRAGGABLE.validator,supercedes:N.DRAGGABLE.supercedes});this.cfg.addProperty(N.DRAG_ONLY.key,{value:N.DRAG_ONLY.value,validator:N.DRAG_ONLY.validator,supercedes:N.DRAG_ONLY.supercedes});this.cfg.addProperty(N.UNDERLAY.key,{handler:this.configUnderlay,value:N.UNDERLAY.value,supercedes:N.UNDERLAY.supercedes});this.cfg.addProperty(N.MODAL.key,{handler:this.configModal,value:N.MODAL.value,validator:N.MODAL.validator,supercedes:N.MODAL.supercedes});this.cfg.addProperty(N.KEY_LISTENERS.key,{handler:this.configKeyListeners,suppressEvent:N.KEY_LISTENERS.suppressEvent,supercedes:N.KEY_LISTENERS.supercedes});this.cfg.addProperty(N.STRINGS.key,{value:N.STRINGS.value,handler:this.configStrings,validator:N.STRINGS.validator,supercedes:N.STRINGS.supercedes});},configClose:function(X,V,Y){var Z=V[0],W=this.close,U=this.cfg.getProperty("strings");if(Z){if(!W){if(!C){C=document.createElement("a");C.className="container-close";C.href="#";}W=C.cloneNode(true);this.innerElement.appendChild(W);W.innerHTML=(U&&U.close)?U.close:"&#160;";T.on(W,"click",this._doClose,this,true);this.close=W;}else{W.style.display="block";}}else{if(W){W.style.display="none";}}},_doClose:function(U){T.preventDefault(U);this.hide();},configDraggable:function(V,U,W){var X=U[0];if(X){if(!F.DD){this.cfg.setProperty("draggable",false);return;}if(this.header){A.setStyle(this.header,"cursor","move");this.registerDragDrop();}this.subscribe("beforeShow",B);}else{if(this.dd){this.dd.unreg();}if(this.header){A.setStyle(this.header,"cursor","auto");}this.unsubscribe("beforeShow",B);}},configUnderlay:function(d,c,Z){var b=(this.platform=="mac"&&L.gecko),e=c[0].toLowerCase(),V=this.underlay,W=this.element;function X(){var f=false;if(!V){if(!Q){Q=document.createElement("div");Q.className="underlay";}V=Q.cloneNode(false);this.element.appendChild(V);this.underlay=V;if(P){this.sizeUnderlay();this.cfg.subscribeToConfigEvent("width",this.sizeUnderlay);this.cfg.subscribeToConfigEvent("height",this.sizeUnderlay);this.changeContentEvent.subscribe(this.sizeUnderlay);YAHOO.widget.Module.textResizeEvent.subscribe(this.sizeUnderlay,this,true);}if(L.webkit&&L.webkit<420){this.changeContentEvent.subscribe(this.forceUnderlayRedraw);}f=true;}}function a(){var f=X.call(this);if(!f&&P){this.sizeUnderlay();}this._underlayDeferred=false;this.beforeShowEvent.unsubscribe(a);}function Y(){if(this._underlayDeferred){this.beforeShowEvent.unsubscribe(a);this._underlayDeferred=false;}if(V){this.cfg.unsubscribeFromConfigEvent("width",this.sizeUnderlay);this.cfg.unsubscribeFromConfigEvent("height",this.sizeUnderlay);this.changeContentEvent.unsubscribe(this.sizeUnderlay);this.changeContentEvent.unsubscribe(this.forceUnderlayRedraw);YAHOO.widget.Module.textResizeEvent.unsubscribe(this.sizeUnderlay,this,true);this.element.removeChild(V);this.underlay=null;}}switch(e){case"shadow":A.removeClass(W,"matte");A.addClass(W,"shadow");break;case"matte":if(!b){Y.call(this);}A.removeClass(W,"shadow");A.addClass(W,"matte");break;default:if(!b){Y.call(this);}A.removeClass(W,"shadow");A.removeClass(W,"matte");break;}if((e=="shadow")||(b&&!V)){if(this.cfg.getProperty("visible")){var U=X.call(this);if(!U&&P){this.sizeUnderlay();}}else{if(!this._underlayDeferred){this.beforeShowEvent.subscribe(a);this._underlayDeferred=true;}}}},configModal:function(V,U,X){var W=U[0];if(W){if(!this._hasModalityEventListeners){this.subscribe("beforeShow",this.buildMask);this.subscribe("beforeShow",this.bringToTop);this.subscribe("beforeShow",this.showMask);this.subscribe("hide",this.hideMask);H.windowResizeEvent.subscribe(this.sizeMask,this,true);this._hasModalityEventListeners=true;}}else{if(this._hasModalityEventListeners){if(this.cfg.getProperty("visible")){this.hideMask();this.removeMask();}this.unsubscribe("beforeShow",this.buildMask);this.unsubscribe("beforeShow",this.bringToTop);this.unsubscribe("beforeShow",this.showMask);this.unsubscribe("hide",this.hideMask);H.windowResizeEvent.unsubscribe(this.sizeMask,this);this._hasModalityEventListeners=false;}}},removeMask:function(){var V=this.mask,U;if(V){this.hideMask();U=V.parentNode;if(U){U.removeChild(V);}this.mask=null;}},configKeyListeners:function(X,U,a){var W=U[0],Z,Y,V;if(W){if(W instanceof Array){Y=W.length;for(V=0;V<Y;V++){Z=W[V];if(!I.alreadySubscribed(this.showEvent,Z.enable,Z)){this.showEvent.subscribe(Z.enable,Z,true);}if(!I.alreadySubscribed(this.hideEvent,Z.disable,Z)){this.hideEvent.subscribe(Z.disable,Z,true);this.destroyEvent.subscribe(Z.disable,Z,true);}}}else{if(!I.alreadySubscribed(this.showEvent,W.enable,W)){this.showEvent.subscribe(W.enable,W,true);}if(!I.alreadySubscribed(this.hideEvent,W.disable,W)){this.hideEvent.subscribe(W.disable,W,true);
this.destroyEvent.subscribe(W.disable,W,true);}}}},configStrings:function(V,U,W){var X=E.merge(N.STRINGS.value,U[0]);this.cfg.setProperty(N.STRINGS.key,X,true);},configHeight:function(X,V,Y){var U=V[0],W=this.innerElement;A.setStyle(W,"height",U);this.cfg.refireEvent("iframe");},_autoFillOnHeightChange:function(X,V,W){O.superclass._autoFillOnHeightChange.apply(this,arguments);if(P){var U=this;setTimeout(function(){U.sizeUnderlay();},0);}},configWidth:function(X,U,Y){var W=U[0],V=this.innerElement;A.setStyle(V,"width",W);this.cfg.refireEvent("iframe");},configzIndex:function(V,U,X){O.superclass.configzIndex.call(this,V,U,X);if(this.mask||this.cfg.getProperty("modal")===true){var W=A.getStyle(this.element,"zIndex");if(!W||isNaN(W)){W=0;}if(W===0){this.cfg.setProperty("zIndex",1);}else{this.stackMask();}}},buildWrapper:function(){var W=this.element.parentNode,U=this.element,V=document.createElement("div");V.className=O.CSS_PANEL_CONTAINER;V.id=U.id+"_c";if(W){W.insertBefore(V,U);}V.appendChild(U);this.element=V;this.innerElement=U;A.setStyle(this.innerElement,"visibility","inherit");},sizeUnderlay:function(){var V=this.underlay,U;if(V){U=this.element;V.style.width=U.offsetWidth+"px";V.style.height=U.offsetHeight+"px";}},registerDragDrop:function(){var V=this;if(this.header){if(!F.DD){return;}var U=(this.cfg.getProperty("dragonly")===true);this.dd=new F.DD(this.element.id,this.id,{dragOnly:U});if(!this.header.id){this.header.id=this.id+"_h";}this.dd.startDrag=function(){var X,Z,W,c,b,a;if(YAHOO.env.ua.ie==6){A.addClass(V.element,"drag");}if(V.cfg.getProperty("constraintoviewport")){var Y=H.VIEWPORT_OFFSET;X=V.element.offsetHeight;Z=V.element.offsetWidth;W=A.getViewportWidth();c=A.getViewportHeight();b=A.getDocumentScrollLeft();a=A.getDocumentScrollTop();if(X+Y<c){this.minY=a+Y;this.maxY=a+c-X-Y;}else{this.minY=a+Y;this.maxY=a+Y;}if(Z+Y<W){this.minX=b+Y;this.maxX=b+W-Z-Y;}else{this.minX=b+Y;this.maxX=b+Y;}this.constrainX=true;this.constrainY=true;}else{this.constrainX=false;this.constrainY=false;}V.dragEvent.fire("startDrag",arguments);};this.dd.onDrag=function(){V.syncPosition();V.cfg.refireEvent("iframe");if(this.platform=="mac"&&YAHOO.env.ua.gecko){this.showMacGeckoScrollbars();}V.dragEvent.fire("onDrag",arguments);};this.dd.endDrag=function(){if(YAHOO.env.ua.ie==6){A.removeClass(V.element,"drag");}V.dragEvent.fire("endDrag",arguments);V.moveEvent.fire(V.cfg.getProperty("xy"));};this.dd.setHandleElId(this.header.id);this.dd.addInvalidHandleType("INPUT");this.dd.addInvalidHandleType("SELECT");this.dd.addInvalidHandleType("TEXTAREA");}},buildMask:function(){var U=this.mask;if(!U){if(!G){G=document.createElement("div");G.className="mask";G.innerHTML="&#160;";}U=G.cloneNode(true);U.id=this.id+"_mask";document.body.insertBefore(U,document.body.firstChild);this.mask=U;if(YAHOO.env.ua.gecko&&this.platform=="mac"){A.addClass(this.mask,"block-scrollbars");}this.stackMask();}},hideMask:function(){if(this.cfg.getProperty("modal")&&this.mask){this.mask.style.display="none";A.removeClass(document.body,"masked");this.hideMaskEvent.fire();}},showMask:function(){if(this.cfg.getProperty("modal")&&this.mask){A.addClass(document.body,"masked");this.sizeMask();this.mask.style.display="block";this.showMaskEvent.fire();}},sizeMask:function(){if(this.mask){var V=this.mask,W=A.getViewportWidth(),U=A.getViewportHeight();if(V.offsetHeight>U){V.style.height=U+"px";}if(V.offsetWidth>W){V.style.width=W+"px";}V.style.height=A.getDocumentHeight()+"px";V.style.width=A.getDocumentWidth()+"px";}},stackMask:function(){if(this.mask){var U=A.getStyle(this.element,"zIndex");if(!YAHOO.lang.isUndefined(U)&&!isNaN(U)){A.setStyle(this.mask,"zIndex",U-1);}}},render:function(U){return O.superclass.render.call(this,U,this.innerElement);},destroy:function(){H.windowResizeEvent.unsubscribe(this.sizeMask,this);this.removeMask();if(this.close){T.purgeElement(this.close);}O.superclass.destroy.call(this);},forceUnderlayRedraw:function(){var U=this.underlay;A.addClass(U,"yui-force-redraw");setTimeout(function(){A.removeClass(U,"yui-force-redraw");},0);},toString:function(){return"Panel "+this.id;}});}());(function(){YAHOO.widget.Dialog=function(J,I){YAHOO.widget.Dialog.superclass.constructor.call(this,J,I);};var B=YAHOO.util.Event,G=YAHOO.util.CustomEvent,E=YAHOO.util.Dom,A=YAHOO.widget.Dialog,F=YAHOO.lang,H={"BEFORE_SUBMIT":"beforeSubmit","SUBMIT":"submit","MANUAL_SUBMIT":"manualSubmit","ASYNC_SUBMIT":"asyncSubmit","FORM_SUBMIT":"formSubmit","CANCEL":"cancel"},C={"POST_METHOD":{key:"postmethod",value:"async"},"POST_DATA":{key:"postdata",value:null},"BUTTONS":{key:"buttons",value:"none",supercedes:["visible"]},"HIDEAFTERSUBMIT":{key:"hideaftersubmit",value:true}};A.CSS_DIALOG="yui-dialog";function D(){var L=this._aButtons,J,K,I;if(F.isArray(L)){J=L.length;if(J>0){I=J-1;do{K=L[I];if(YAHOO.widget.Button&&K instanceof YAHOO.widget.Button){K.destroy();}else{if(K.tagName.toUpperCase()=="BUTTON"){B.purgeElement(K);B.purgeElement(K,false);}}}while(I--);}}}YAHOO.extend(A,YAHOO.widget.Panel,{form:null,initDefaultConfig:function(){A.superclass.initDefaultConfig.call(this);this.callback={success:null,failure:null,argument:null};this.cfg.addProperty(C.POST_METHOD.key,{handler:this.configPostMethod,value:C.POST_METHOD.value,validator:function(I){if(I!="form"&&I!="async"&&I!="none"&&I!="manual"){return false;}else{return true;}}});this.cfg.addProperty(C.POST_DATA.key,{value:C.POST_DATA.value});this.cfg.addProperty(C.HIDEAFTERSUBMIT.key,{value:C.HIDEAFTERSUBMIT.value});this.cfg.addProperty(C.BUTTONS.key,{handler:this.configButtons,value:C.BUTTONS.value,supercedes:C.BUTTONS.supercedes});},initEvents:function(){A.superclass.initEvents.call(this);var I=G.LIST;this.beforeSubmitEvent=this.createEvent(H.BEFORE_SUBMIT);this.beforeSubmitEvent.signature=I;this.submitEvent=this.createEvent(H.SUBMIT);this.submitEvent.signature=I;this.manualSubmitEvent=this.createEvent(H.MANUAL_SUBMIT);this.manualSubmitEvent.signature=I;this.asyncSubmitEvent=this.createEvent(H.ASYNC_SUBMIT);
this.asyncSubmitEvent.signature=I;this.formSubmitEvent=this.createEvent(H.FORM_SUBMIT);this.formSubmitEvent.signature=I;this.cancelEvent=this.createEvent(H.CANCEL);this.cancelEvent.signature=I;},init:function(J,I){A.superclass.init.call(this,J);this.beforeInitEvent.fire(A);E.addClass(this.element,A.CSS_DIALOG);this.cfg.setProperty("visible",false);if(I){this.cfg.applyConfig(I,true);}this.showEvent.subscribe(this.focusFirst,this,true);this.beforeHideEvent.subscribe(this.blurButtons,this,true);this.subscribe("changeBody",this.registerForm);this.initEvent.fire(A);},doSubmit:function(){var P=YAHOO.util.Connect,Q=this.form,K=false,N=false,R,M,L,I;switch(this.cfg.getProperty("postmethod")){case"async":R=Q.elements;M=R.length;if(M>0){L=M-1;do{if(R[L].type=="file"){K=true;break;}}while(L--);}if(K&&YAHOO.env.ua.ie&&this.isSecure){N=true;}I=this._getFormAttributes(Q);P.setForm(Q,K,N);var J=this.cfg.getProperty("postdata");var O=P.asyncRequest(I.method,I.action,this.callback,J);this.asyncSubmitEvent.fire(O);break;case"form":Q.submit();this.formSubmitEvent.fire();break;case"none":case"manual":this.manualSubmitEvent.fire();break;}},_getFormAttributes:function(K){var I={method:null,action:null};if(K){if(K.getAttributeNode){var J=K.getAttributeNode("action");var L=K.getAttributeNode("method");if(J){I.action=J.value;}if(L){I.method=L.value;}}else{I.action=K.getAttribute("action");I.method=K.getAttribute("method");}}I.method=(F.isString(I.method)?I.method:"POST").toUpperCase();I.action=F.isString(I.action)?I.action:"";return I;},registerForm:function(){var I=this.element.getElementsByTagName("form")[0];if(this.form){if(this.form==I&&E.isAncestor(this.element,this.form)){return;}else{B.purgeElement(this.form);this.form=null;}}if(!I){I=document.createElement("form");I.name="frm_"+this.id;this.body.appendChild(I);}if(I){this.form=I;B.on(I,"submit",this._submitHandler,this,true);}},_submitHandler:function(I){B.stopEvent(I);this.submit();this.form.blur();},setTabLoop:function(I,J){I=I||this.firstButton;J=this.lastButton||J;A.superclass.setTabLoop.call(this,I,J);},setFirstLastFocusable:function(){A.superclass.setFirstLastFocusable.call(this);var J,I,K,L=this.focusableElements;this.firstFormElement=null;this.lastFormElement=null;if(this.form&&L&&L.length>0){I=L.length;for(J=0;J<I;++J){K=L[J];if(this.form===K.form){this.firstFormElement=K;break;}}for(J=I-1;J>=0;--J){K=L[J];if(this.form===K.form){this.lastFormElement=K;break;}}}},configClose:function(J,I,K){A.superclass.configClose.apply(this,arguments);},_doClose:function(I){B.preventDefault(I);this.cancel();},configButtons:function(S,R,M){var N=YAHOO.widget.Button,U=R[0],K=this.innerElement,T,P,J,Q,O,I,L;D.call(this);this._aButtons=null;if(F.isArray(U)){O=document.createElement("span");O.className="button-group";Q=U.length;this._aButtons=[];this.defaultHtmlButton=null;for(L=0;L<Q;L++){T=U[L];if(N){J=new N({label:T.text});J.appendTo(O);P=J.get("element");if(T.isDefault){J.addClass("default");this.defaultHtmlButton=P;}if(F.isFunction(T.handler)){J.set("onclick",{fn:T.handler,obj:this,scope:this});}else{if(F.isObject(T.handler)&&F.isFunction(T.handler.fn)){J.set("onclick",{fn:T.handler.fn,obj:((!F.isUndefined(T.handler.obj))?T.handler.obj:this),scope:(T.handler.scope||this)});}}this._aButtons[this._aButtons.length]=J;}else{P=document.createElement("button");P.setAttribute("type","button");if(T.isDefault){P.className="default";this.defaultHtmlButton=P;}P.innerHTML=T.text;if(F.isFunction(T.handler)){B.on(P,"click",T.handler,this,true);}else{if(F.isObject(T.handler)&&F.isFunction(T.handler.fn)){B.on(P,"click",T.handler.fn,((!F.isUndefined(T.handler.obj))?T.handler.obj:this),(T.handler.scope||this));}}O.appendChild(P);this._aButtons[this._aButtons.length]=P;}T.htmlButton=P;if(L===0){this.firstButton=P;}if(L==(Q-1)){this.lastButton=P;}}this.setFooter(O);I=this.footer;if(E.inDocument(this.element)&&!E.isAncestor(K,I)){K.appendChild(I);}this.buttonSpan=O;}else{O=this.buttonSpan;I=this.footer;if(O&&I){I.removeChild(O);this.buttonSpan=null;this.firstButton=null;this.lastButton=null;this.defaultHtmlButton=null;}}this.changeContentEvent.fire();},getButtons:function(){return this._aButtons||null;},focusFirst:function(K,I,M){var J=this.firstFormElement;if(I&&I[1]){B.stopEvent(I[1]);}if(J){try{J.focus();}catch(L){}}else{if(this.defaultHtmlButton){this.focusDefaultButton();}else{this.focusFirstButton();}}},focusLast:function(K,I,M){var N=this.cfg.getProperty("buttons"),J=this.lastFormElement;if(I&&I[1]){B.stopEvent(I[1]);}if(N&&F.isArray(N)){this.focusLastButton();}else{if(J){try{J.focus();}catch(L){}}}},_getButton:function(J){var I=YAHOO.widget.Button;if(I&&J&&J.nodeName&&J.id){J=I.getButton(J.id)||J;}return J;},focusDefaultButton:function(){var I=this._getButton(this.defaultHtmlButton);if(I){try{I.focus();}catch(J){}}},blurButtons:function(){var N=this.cfg.getProperty("buttons"),K,M,J,I;if(N&&F.isArray(N)){K=N.length;if(K>0){I=(K-1);do{M=N[I];if(M){J=this._getButton(M.htmlButton);if(J){try{J.blur();}catch(L){}}}}while(I--);}}},focusFirstButton:function(){var L=this.cfg.getProperty("buttons"),K,I;if(L&&F.isArray(L)){K=L[0];if(K){I=this._getButton(K.htmlButton);if(I){try{I.focus();}catch(J){}}}}},focusLastButton:function(){var M=this.cfg.getProperty("buttons"),J,L,I;if(M&&F.isArray(M)){J=M.length;if(J>0){L=M[(J-1)];if(L){I=this._getButton(L.htmlButton);if(I){try{I.focus();}catch(K){}}}}}},configPostMethod:function(J,I,K){this.registerForm();},validate:function(){return true;},submit:function(){if(this.validate()){this.beforeSubmitEvent.fire();this.doSubmit();this.submitEvent.fire();if(this.cfg.getProperty("hideaftersubmit")){this.hide();}return true;}else{return false;}},cancel:function(){this.cancelEvent.fire();this.hide();},getData:function(){var Y=this.form,K,R,U,M,S,P,O,J,V,L,W,Z,I,N,a,X,T;function Q(c){var b=c.tagName.toUpperCase();return((b=="INPUT"||b=="TEXTAREA"||b=="SELECT")&&c.name==M);}if(Y){K=Y.elements;R=K.length;U={};for(X=0;X<R;X++){M=K[X].name;S=E.getElementsBy(Q,"*",Y);
P=S.length;if(P>0){if(P==1){S=S[0];O=S.type;J=S.tagName.toUpperCase();switch(J){case"INPUT":if(O=="checkbox"){U[M]=S.checked;}else{if(O!="radio"){U[M]=S.value;}}break;case"TEXTAREA":U[M]=S.value;break;case"SELECT":V=S.options;L=V.length;W=[];for(T=0;T<L;T++){Z=V[T];if(Z.selected){I=Z.value;if(!I||I===""){I=Z.text;}W[W.length]=I;}}U[M]=W;break;}}else{O=S[0].type;switch(O){case"radio":for(T=0;T<P;T++){N=S[T];if(N.checked){U[M]=N.value;break;}}break;case"checkbox":W=[];for(T=0;T<P;T++){a=S[T];if(a.checked){W[W.length]=a.value;}}U[M]=W;break;}}}}}return U;},destroy:function(){D.call(this);this._aButtons=null;var I=this.element.getElementsByTagName("form"),J;if(I.length>0){J=I[0];if(J){B.purgeElement(J);if(J.parentNode){J.parentNode.removeChild(J);}this.form=null;}}A.superclass.destroy.call(this);},toString:function(){return"Dialog "+this.id;}});}());(function(){YAHOO.widget.SimpleDialog=function(E,D){YAHOO.widget.SimpleDialog.superclass.constructor.call(this,E,D);};var C=YAHOO.util.Dom,B=YAHOO.widget.SimpleDialog,A={"ICON":{key:"icon",value:"none",suppressEvent:true},"TEXT":{key:"text",value:"",suppressEvent:true,supercedes:["icon"]}};B.ICON_BLOCK="blckicon";B.ICON_ALARM="alrticon";B.ICON_HELP="hlpicon";B.ICON_INFO="infoicon";B.ICON_WARN="warnicon";B.ICON_TIP="tipicon";B.ICON_CSS_CLASSNAME="yui-icon";B.CSS_SIMPLEDIALOG="yui-simple-dialog";YAHOO.extend(B,YAHOO.widget.Dialog,{initDefaultConfig:function(){B.superclass.initDefaultConfig.call(this);this.cfg.addProperty(A.ICON.key,{handler:this.configIcon,value:A.ICON.value,suppressEvent:A.ICON.suppressEvent});this.cfg.addProperty(A.TEXT.key,{handler:this.configText,value:A.TEXT.value,suppressEvent:A.TEXT.suppressEvent,supercedes:A.TEXT.supercedes});},init:function(E,D){B.superclass.init.call(this,E);this.beforeInitEvent.fire(B);C.addClass(this.element,B.CSS_SIMPLEDIALOG);this.cfg.queueProperty("postmethod","manual");if(D){this.cfg.applyConfig(D,true);}this.beforeRenderEvent.subscribe(function(){if(!this.body){this.setBody("");}},this,true);this.initEvent.fire(B);},registerForm:function(){B.superclass.registerForm.call(this);this.form.innerHTML+='<input type="hidden" name="'+this.id+'" value=""/>';},configIcon:function(F,E,J){var K=E[0],D=this.body,I=B.ICON_CSS_CLASSNAME,H,G;if(K&&K!="none"){H=C.getElementsByClassName(I,"*",D);if(H){G=H.parentNode;if(G){G.removeChild(H);H=null;}}if(K.indexOf(".")==-1){H=document.createElement("span");H.className=(I+" "+K);H.innerHTML="&#160;";}else{H=document.createElement("img");H.src=(this.imageRoot+K);H.className=I;}if(H){D.insertBefore(H,D.firstChild);}}},configText:function(E,D,F){var G=D[0];if(G){this.setBody(G);this.cfg.refireEvent("icon");}},toString:function(){return"SimpleDialog "+this.id;}});}());(function(){YAHOO.widget.ContainerEffect=function(E,H,G,D,F){if(!F){F=YAHOO.util.Anim;}this.overlay=E;this.attrIn=H;this.attrOut=G;this.targetElement=D||E.element;this.animClass=F;};var B=YAHOO.util.Dom,C=YAHOO.util.CustomEvent,A=YAHOO.widget.ContainerEffect;A.FADE=function(D,F){var G=YAHOO.util.Easing,I={attributes:{opacity:{from:0,to:1}},duration:F,method:G.easeIn},E={attributes:{opacity:{to:0}},duration:F,method:G.easeOut},H=new A(D,I,E,D.element);H.handleUnderlayStart=function(){var K=this.overlay.underlay;if(K&&YAHOO.env.ua.ie){var J=(K.filters&&K.filters.length>0);if(J){B.addClass(D.element,"yui-effect-fade");}}};H.handleUnderlayComplete=function(){var J=this.overlay.underlay;if(J&&YAHOO.env.ua.ie){B.removeClass(D.element,"yui-effect-fade");}};H.handleStartAnimateIn=function(K,J,L){B.addClass(L.overlay.element,"hide-select");if(!L.overlay.underlay){L.overlay.cfg.refireEvent("underlay");}L.handleUnderlayStart();L.overlay._setDomVisibility(true);B.setStyle(L.overlay.element,"opacity",0);};H.handleCompleteAnimateIn=function(K,J,L){B.removeClass(L.overlay.element,"hide-select");if(L.overlay.element.style.filter){L.overlay.element.style.filter=null;}L.handleUnderlayComplete();L.overlay.cfg.refireEvent("iframe");L.animateInCompleteEvent.fire();};H.handleStartAnimateOut=function(K,J,L){B.addClass(L.overlay.element,"hide-select");L.handleUnderlayStart();};H.handleCompleteAnimateOut=function(K,J,L){B.removeClass(L.overlay.element,"hide-select");if(L.overlay.element.style.filter){L.overlay.element.style.filter=null;}L.overlay._setDomVisibility(false);B.setStyle(L.overlay.element,"opacity",1);L.handleUnderlayComplete();L.overlay.cfg.refireEvent("iframe");L.animateOutCompleteEvent.fire();};H.init();return H;};A.SLIDE=function(F,D){var I=YAHOO.util.Easing,L=F.cfg.getProperty("x")||B.getX(F.element),K=F.cfg.getProperty("y")||B.getY(F.element),M=B.getClientWidth(),H=F.element.offsetWidth,J={attributes:{points:{to:[L,K]}},duration:D,method:I.easeIn},E={attributes:{points:{to:[(M+25),K]}},duration:D,method:I.easeOut},G=new A(F,J,E,F.element,YAHOO.util.Motion);G.handleStartAnimateIn=function(O,N,P){P.overlay.element.style.left=((-25)-H)+"px";P.overlay.element.style.top=K+"px";};G.handleTweenAnimateIn=function(Q,P,R){var S=B.getXY(R.overlay.element),O=S[0],N=S[1];if(B.getStyle(R.overlay.element,"visibility")=="hidden"&&O<L){R.overlay._setDomVisibility(true);}R.overlay.cfg.setProperty("xy",[O,N],true);R.overlay.cfg.refireEvent("iframe");};G.handleCompleteAnimateIn=function(O,N,P){P.overlay.cfg.setProperty("xy",[L,K],true);P.startX=L;P.startY=K;P.overlay.cfg.refireEvent("iframe");P.animateInCompleteEvent.fire();};G.handleStartAnimateOut=function(O,N,R){var P=B.getViewportWidth(),S=B.getXY(R.overlay.element),Q=S[1];R.animOut.attributes.points.to=[(P+25),Q];};G.handleTweenAnimateOut=function(P,O,Q){var S=B.getXY(Q.overlay.element),N=S[0],R=S[1];Q.overlay.cfg.setProperty("xy",[N,R],true);Q.overlay.cfg.refireEvent("iframe");};G.handleCompleteAnimateOut=function(O,N,P){P.overlay._setDomVisibility(false);P.overlay.cfg.setProperty("xy",[L,K]);P.animateOutCompleteEvent.fire();};G.init();return G;};A.prototype={init:function(){this.beforeAnimateInEvent=this.createEvent("beforeAnimateIn");this.beforeAnimateInEvent.signature=C.LIST;this.beforeAnimateOutEvent=this.createEvent("beforeAnimateOut");
this.beforeAnimateOutEvent.signature=C.LIST;this.animateInCompleteEvent=this.createEvent("animateInComplete");this.animateInCompleteEvent.signature=C.LIST;this.animateOutCompleteEvent=this.createEvent("animateOutComplete");this.animateOutCompleteEvent.signature=C.LIST;this.animIn=new this.animClass(this.targetElement,this.attrIn.attributes,this.attrIn.duration,this.attrIn.method);this.animIn.onStart.subscribe(this.handleStartAnimateIn,this);this.animIn.onTween.subscribe(this.handleTweenAnimateIn,this);this.animIn.onComplete.subscribe(this.handleCompleteAnimateIn,this);this.animOut=new this.animClass(this.targetElement,this.attrOut.attributes,this.attrOut.duration,this.attrOut.method);this.animOut.onStart.subscribe(this.handleStartAnimateOut,this);this.animOut.onTween.subscribe(this.handleTweenAnimateOut,this);this.animOut.onComplete.subscribe(this.handleCompleteAnimateOut,this);},animateIn:function(){this.beforeAnimateInEvent.fire();this.animIn.animate();},animateOut:function(){this.beforeAnimateOutEvent.fire();this.animOut.animate();},handleStartAnimateIn:function(E,D,F){},handleTweenAnimateIn:function(E,D,F){},handleCompleteAnimateIn:function(E,D,F){},handleStartAnimateOut:function(E,D,F){},handleTweenAnimateOut:function(E,D,F){},handleCompleteAnimateOut:function(E,D,F){},toString:function(){var D="ContainerEffect";if(this.overlay){D+=" ["+this.overlay.toString()+"]";}return D;}};YAHOO.lang.augmentProto(A,YAHOO.util.EventProvider);})();YAHOO.register("container",YAHOO.widget.Module,{version:"2.7.0",build:"1799"});/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
(function(){var S="DIV",O="hd",K="bd",N="ft",X="LI",A="disabled",D="mouseover",F="mouseout",U="mousedown",G="mouseup",R=YAHOO.env.ua.ie?"focusin":"focus",V="click",B="keydown",M="keyup",I="keypress",L="clicktohide",T="position",P="dynamic",Y="showdelay",J="selected",E="visible",W="UL",Q="MenuManager",C=YAHOO.util.Dom,Z=YAHOO.util.Event,H=YAHOO.lang;YAHOO.widget.MenuManager=function(){var a=false,c={},r={},d={},n={"click":"clickEvent","mousedown":"mouseDownEvent","mouseup":"mouseUpEvent","mouseover":"mouseOverEvent","mouseout":"mouseOutEvent","keydown":"keyDownEvent","keyup":"keyUpEvent","keypress":"keyPressEvent","focus":"focusEvent","focusin":"focusEvent","blur":"blurEvent","focusout":"blurEvent"},m=null,k=null;function o(u){var s,t;if(u&&u.tagName){switch(u.tagName.toUpperCase()){case S:s=u.parentNode;if((C.hasClass(u,O)||C.hasClass(u,K)||C.hasClass(u,N))&&s&&s.tagName&&s.tagName.toUpperCase()==S){t=s;}else{t=u;}break;case X:t=u;break;default:s=u.parentNode;if(s){t=o(s);}break;}}return t;}function q(w){var s=Z.getTarget(w),t=o(s),y,u,v,AA,z;if(t){u=t.tagName.toUpperCase();if(u==X){v=t.id;if(v&&d[v]){AA=d[v];z=AA.parent;}}else{if(u==S){if(t.id){z=c[t.id];}}}}if(z){y=n[w.type];if(AA&&!AA.cfg.getProperty(A)){AA[y].fire(w);}z[y].fire(w,AA);}else{if(w.type==U){for(var x in r){if(H.hasOwnProperty(r,x)){z=r[x];if(z.cfg.getProperty(L)&&!(z instanceof YAHOO.widget.MenuBar)&&z.cfg.getProperty(T)==P){z.hide();}else{if(z.cfg.getProperty(Y)>0){z._cancelShowDelay();}if(z.activeItem){z.activeItem.blur();z.activeItem.cfg.setProperty(J,false);z.activeItem=null;}}}}}else{if(w.type==R){m=s;}}}}function f(t,s,u){if(c[u.id]){this.removeMenu(u);}}function j(t,s){var u=s[1];if(u){k=u;}}function i(t,s){k=null;}function b(t,s,v){if(v&&v.focus){try{v.focus();}catch(u){}}this.hideEvent.unsubscribe(b,v);}function l(t,s){if(this===this.getRoot()&&this.cfg.getProperty(T)===P){this.hideEvent.subscribe(b,m);this.focus();}}function g(u,t){var s=t[0],v=this.id;if(s){r[v]=this;}else{if(r[v]){delete r[v];}}}function h(t,s){p(this);}function p(t){var s=t.id;if(s&&d[s]){if(k==t){k=null;}delete d[s];t.destroyEvent.unsubscribe(h);}}function e(t,s){var v=s[0],u;if(v instanceof YAHOO.widget.MenuItem){u=v.id;if(!d[u]){d[u]=v;v.destroyEvent.subscribe(h);}}}return{addMenu:function(t){var s;if(t instanceof YAHOO.widget.Menu&&t.id&&!c[t.id]){c[t.id]=t;if(!a){s=document;Z.on(s,D,q,this,true);Z.on(s,F,q,this,true);Z.on(s,U,q,this,true);Z.on(s,G,q,this,true);Z.on(s,V,q,this,true);Z.on(s,B,q,this,true);Z.on(s,M,q,this,true);Z.on(s,I,q,this,true);Z.onFocus(s,q,this,true);Z.onBlur(s,q,this,true);a=true;}t.cfg.subscribeToConfigEvent(E,g);t.destroyEvent.subscribe(f,t,this);t.itemAddedEvent.subscribe(e);t.focusEvent.subscribe(j);t.blurEvent.subscribe(i);t.showEvent.subscribe(l);}},removeMenu:function(v){var t,s,u;if(v){t=v.id;if((t in c)&&(c[t]==v)){s=v.getItems();if(s&&s.length>0){u=s.length-1;do{p(s[u]);}while(u--);}delete c[t];if((t in r)&&(r[t]==v)){delete r[t];}if(v.cfg){v.cfg.unsubscribeFromConfigEvent(E,g);}v.destroyEvent.unsubscribe(f,v);v.itemAddedEvent.unsubscribe(e);v.focusEvent.unsubscribe(j);v.blurEvent.unsubscribe(i);}}},hideVisible:function(){var s;for(var t in r){if(H.hasOwnProperty(r,t)){s=r[t];if(!(s instanceof YAHOO.widget.MenuBar)&&s.cfg.getProperty(T)==P){s.hide();}}}},getVisible:function(){return r;},getMenus:function(){return c;},getMenu:function(t){var s;if(t in c){s=c[t];}return s;},getMenuItem:function(t){var s;if(t in d){s=d[t];}return s;},getMenuItemGroup:function(w){var t=C.get(w),s,y,x,u,v;if(t&&t.tagName&&t.tagName.toUpperCase()==W){y=t.firstChild;if(y){s=[];do{u=y.id;if(u){x=this.getMenuItem(u);if(x){s[s.length]=x;}}}while((y=y.nextSibling));if(s.length>0){v=s;}}}return v;},getFocusedMenuItem:function(){return k;},getFocusedMenu:function(){var s;if(k){s=k.parent.getRoot();}return s;},toString:function(){return Q;}};}();})();(function(){var AN=YAHOO.lang,Ao="Menu",H="DIV",K="div",Ak="id",AI="SELECT",f="xy",R="y",Av="UL",L="ul",AK="first-of-type",l="LI",i="OPTGROUP",Ax="OPTION",Af="disabled",AY="none",z="selected",Ar="groupindex",j="index",O="submenu",As="visible",AX="hidedelay",Ab="position",AE="dynamic",C="static",Al=AE+","+C,Y="windows",Q="url",M="#",V="target",AU="maxheight",T="topscrollbar",y="bottomscrollbar",e="_",P=T+e+Af,E=y+e+Af,c="mousemove",At="showdelay",d="submenuhidedelay",AG="iframe",x="constraintoviewport",A2="preventcontextoverlap",AP="submenualignment",a="autosubmenudisplay",AD="clicktohide",h="container",k="scrollincrement",Ah="minscrollheight",A0="classname",Ae="shadow",Ap="keepopen",Ay="hd",D="hastitle",q="context",v="",Ai="mousedown",Ac="keydown",Am="height",U="width",AR="px",Aw="effect",AF="monitorresize",AW="display",AV="block",J="visibility",AA="absolute",AT="zindex",m="yui-menu-body-scrolled",AL="&#32;",Az=" ",Ag="mouseover",G="mouseout",AS="itemAdded",o="itemRemoved",AM="hidden",t="yui-menu-shadow",AH=t+"-visible",n=t+Az+AH;YAHOO.widget.Menu=function(A4,A3){if(A3){this.parent=A3.parent;this.lazyLoad=A3.lazyLoad||A3.lazyload;this.itemData=A3.itemData||A3.itemdata;}YAHOO.widget.Menu.superclass.constructor.call(this,A4,A3);};function B(A4){var A3=false;if(AN.isString(A4)){A3=(Al.indexOf((A4.toLowerCase()))!=-1);}return A3;}var g=YAHOO.util.Dom,AB=YAHOO.util.Event,Au=YAHOO.widget.Module,AC=YAHOO.widget.Overlay,s=YAHOO.widget.Menu,A1=YAHOO.widget.MenuManager,F=YAHOO.util.CustomEvent,Aq=YAHOO.env.ua,An,Aa=[["mouseOverEvent",Ag],["mouseOutEvent",G],["mouseDownEvent",Ai],["mouseUpEvent","mouseup"],["clickEvent","click"],["keyPressEvent","keypress"],["keyDownEvent",Ac],["keyUpEvent","keyup"],["focusEvent","focus"],["blurEvent","blur"],["itemAddedEvent",AS],["itemRemovedEvent",o]],AZ={key:As,value:false,validator:AN.isBoolean},AQ={key:x,value:true,validator:AN.isBoolean,supercedes:[AG,"x",R,f]},AJ={key:A2,value:true,validator:AN.isBoolean,supercedes:[x]},S={key:Ab,value:AE,validator:B,supercedes:[As,AG]},A={key:AP,value:["tl","tr"]},u={key:a,value:true,validator:AN.isBoolean,suppressEvent:true},Z={key:At,value:250,validator:AN.isNumber,suppressEvent:true},r={key:AX,value:0,validator:AN.isNumber,suppressEvent:true},w={key:d,value:250,validator:AN.isNumber,suppressEvent:true},p={key:AD,value:true,validator:AN.isBoolean,suppressEvent:true},AO={key:h,suppressEvent:true},Ad={key:k,value:1,validator:AN.isNumber,supercedes:[AU],suppressEvent:true},N={key:Ah,value:90,validator:AN.isNumber,supercedes:[AU],suppressEvent:true},X={key:AU,value:0,validator:AN.isNumber,supercedes:[AG],suppressEvent:true},W={key:A0,value:null,validator:AN.isString,suppressEvent:true},b={key:Af,value:false,validator:AN.isBoolean,suppressEvent:true},I={key:Ae,value:true,validator:AN.isBoolean,suppressEvent:true,supercedes:[As]},Aj={key:Ap,value:false,validator:AN.isBoolean};
YAHOO.lang.extend(s,AC,{CSS_CLASS_NAME:"yuimenu",ITEM_TYPE:null,GROUP_TITLE_TAG_NAME:"h6",OFF_SCREEN_POSITION:"-999em",_useHideDelay:false,_bHandledMouseOverEvent:false,_bHandledMouseOutEvent:false,_aGroupTitleElements:null,_aItemGroups:null,_aListElements:null,_nCurrentMouseX:0,_bStopMouseEventHandlers:false,_sClassName:null,lazyLoad:false,itemData:null,activeItem:null,parent:null,srcElement:null,init:function(A5,A4){this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuItem;}var A3;if(AN.isString(A5)){A3=g.get(A5);}else{if(A5.tagName){A3=A5;}}if(A3&&A3.tagName){switch(A3.tagName.toUpperCase()){case H:this.srcElement=A3;if(!A3.id){A3.setAttribute(Ak,g.generateId());}s.superclass.init.call(this,A3);this.beforeInitEvent.fire(s);break;case AI:this.srcElement=A3;s.superclass.init.call(this,g.generateId());this.beforeInitEvent.fire(s);break;}}else{s.superclass.init.call(this,A5);this.beforeInitEvent.fire(s);}if(this.element){g.addClass(this.element,this.CSS_CLASS_NAME);this.initEvent.subscribe(this._onInit);this.beforeRenderEvent.subscribe(this._onBeforeRender);this.renderEvent.subscribe(this._onRender);this.beforeShowEvent.subscribe(this._onBeforeShow);this.hideEvent.subscribe(this._onHide);this.showEvent.subscribe(this._onShow);this.beforeHideEvent.subscribe(this._onBeforeHide);this.mouseOverEvent.subscribe(this._onMouseOver);this.mouseOutEvent.subscribe(this._onMouseOut);this.clickEvent.subscribe(this._onClick);this.keyDownEvent.subscribe(this._onKeyDown);this.keyPressEvent.subscribe(this._onKeyPress);this.blurEvent.subscribe(this._onBlur);if((Aq.gecko&&Aq.gecko<1.9)||Aq.webkit){this.cfg.subscribeToConfigEvent(R,this._onYChange);}if(A4){this.cfg.applyConfig(A4,true);}A1.addMenu(this);this.initEvent.fire(s);}},_initSubTree:function(){var A4=this.srcElement,A3,A6,A9,BA,A8,A7,A5;if(A4){A3=(A4.tagName&&A4.tagName.toUpperCase());if(A3==H){BA=this.body.firstChild;if(BA){A6=0;A9=this.GROUP_TITLE_TAG_NAME.toUpperCase();do{if(BA&&BA.tagName){switch(BA.tagName.toUpperCase()){case A9:this._aGroupTitleElements[A6]=BA;break;case Av:this._aListElements[A6]=BA;this._aItemGroups[A6]=[];A6++;break;}}}while((BA=BA.nextSibling));if(this._aListElements[0]){g.addClass(this._aListElements[0],AK);}}}BA=null;if(A3){switch(A3){case H:A8=this._aListElements;A7=A8.length;if(A7>0){A5=A7-1;do{BA=A8[A5].firstChild;if(BA){do{if(BA&&BA.tagName&&BA.tagName.toUpperCase()==l){this.addItem(new this.ITEM_TYPE(BA,{parent:this}),A5);}}while((BA=BA.nextSibling));}}while(A5--);}break;case AI:BA=A4.firstChild;do{if(BA&&BA.tagName){switch(BA.tagName.toUpperCase()){case i:case Ax:this.addItem(new this.ITEM_TYPE(BA,{parent:this}));break;}}}while((BA=BA.nextSibling));break;}}}},_getFirstEnabledItem:function(){var A3=this.getItems(),A7=A3.length,A6,A5;for(var A4=0;A4<A7;A4++){A6=A3[A4];if(A6&&!A6.cfg.getProperty(Af)&&A6.element.style.display!=AY){A5=A6;break;}}return A5;},_addItemToGroup:function(A8,A9,BD){var BB,BE,A6,BC,A7,A4,A5,BA;function A3(BF,BG){return(BF[BG]||A3(BF,(BG+1)));}if(A9 instanceof this.ITEM_TYPE){BB=A9;BB.parent=this;}else{if(AN.isString(A9)){BB=new this.ITEM_TYPE(A9,{parent:this});}else{if(AN.isObject(A9)){A9.parent=this;BB=new this.ITEM_TYPE(A9.text,A9);}}}if(BB){if(BB.cfg.getProperty(z)){this.activeItem=BB;}BE=AN.isNumber(A8)?A8:0;A6=this._getItemGroup(BE);if(!A6){A6=this._createItemGroup(BE);}if(AN.isNumber(BD)){A7=(BD>=A6.length);if(A6[BD]){A6.splice(BD,0,BB);}else{A6[BD]=BB;}BC=A6[BD];if(BC){if(A7&&(!BC.element.parentNode||BC.element.parentNode.nodeType==11)){this._aListElements[BE].appendChild(BC.element);}else{A4=A3(A6,(BD+1));if(A4&&(!BC.element.parentNode||BC.element.parentNode.nodeType==11)){this._aListElements[BE].insertBefore(BC.element,A4.element);}}BC.parent=this;this._subscribeToItemEvents(BC);this._configureSubmenu(BC);this._updateItemProperties(BE);this.itemAddedEvent.fire(BC);this.changeContentEvent.fire();BA=BC;}}else{A5=A6.length;A6[A5]=BB;BC=A6[A5];if(BC){if(!g.isAncestor(this._aListElements[BE],BC.element)){this._aListElements[BE].appendChild(BC.element);}BC.element.setAttribute(Ar,BE);BC.element.setAttribute(j,A5);BC.parent=this;BC.index=A5;BC.groupIndex=BE;this._subscribeToItemEvents(BC);this._configureSubmenu(BC);if(A5===0){g.addClass(BC.element,AK);}this.itemAddedEvent.fire(BC);this.changeContentEvent.fire();BA=BC;}}}return BA;},_removeItemFromGroupByIndex:function(A6,A4){var A5=AN.isNumber(A6)?A6:0,A7=this._getItemGroup(A5),A9,A8,A3;if(A7){A9=A7.splice(A4,1);A8=A9[0];if(A8){this._updateItemProperties(A5);if(A7.length===0){A3=this._aListElements[A5];if(this.body&&A3){this.body.removeChild(A3);}this._aItemGroups.splice(A5,1);this._aListElements.splice(A5,1);A3=this._aListElements[0];if(A3){g.addClass(A3,AK);}}this.itemRemovedEvent.fire(A8);this.changeContentEvent.fire();}}return A8;},_removeItemFromGroupByValue:function(A6,A3){var A8=this._getItemGroup(A6),A9,A7,A5,A4;if(A8){A9=A8.length;A7=-1;if(A9>0){A4=A9-1;do{if(A8[A4]==A3){A7=A4;break;}}while(A4--);if(A7>-1){A5=this._removeItemFromGroupByIndex(A6,A7);}}}return A5;},_updateItemProperties:function(A4){var A5=this._getItemGroup(A4),A8=A5.length,A7,A6,A3;if(A8>0){A3=A8-1;do{A7=A5[A3];if(A7){A6=A7.element;A7.index=A3;A7.groupIndex=A4;A6.setAttribute(Ar,A4);A6.setAttribute(j,A3);g.removeClass(A6,AK);}}while(A3--);if(A6){g.addClass(A6,AK);}}},_createItemGroup:function(A5){var A3,A4;if(!this._aItemGroups[A5]){this._aItemGroups[A5]=[];A3=document.createElement(L);this._aListElements[A5]=A3;A4=this._aItemGroups[A5];}return A4;},_getItemGroup:function(A5){var A3=AN.isNumber(A5)?A5:0,A6=this._aItemGroups,A4;if(A3 in A6){A4=A6[A3];}return A4;},_configureSubmenu:function(A3){var A4=A3.cfg.getProperty(O);if(A4){this.cfg.configChangedEvent.subscribe(this._onParentMenuConfigChange,A4,true);this.renderEvent.subscribe(this._onParentMenuRender,A4,true);}},_subscribeToItemEvents:function(A3){A3.destroyEvent.subscribe(this._onMenuItemDestroy,A3,this);A3.cfg.configChangedEvent.subscribe(this._onMenuItemConfigChange,A3,this);
},_onVisibleChange:function(A5,A4){var A3=A4[0];if(A3){g.addClass(this.element,As);}else{g.removeClass(this.element,As);}},_cancelHideDelay:function(){var A3=this.getRoot()._hideDelayTimer;if(A3){A3.cancel();}},_execHideDelay:function(){this._cancelHideDelay();var A3=this.getRoot();A3._hideDelayTimer=AN.later(A3.cfg.getProperty(AX),this,function(){if(A3.activeItem){if(A3.hasFocus()){A3.activeItem.focus();}A3.clearActiveItem();}if(A3==this&&!(this instanceof YAHOO.widget.MenuBar)&&this.cfg.getProperty(Ab)==AE){this.hide();}});},_cancelShowDelay:function(){var A3=this.getRoot()._showDelayTimer;if(A3){A3.cancel();}},_execSubmenuHideDelay:function(A5,A4,A3){A5._submenuHideDelayTimer=AN.later(50,this,function(){if(this._nCurrentMouseX>(A4+10)){A5._submenuHideDelayTimer=AN.later(A3,A5,function(){this.hide();});}else{A5.hide();}});},_disableScrollHeader:function(){if(!this._bHeaderDisabled){g.addClass(this.header,P);this._bHeaderDisabled=true;}},_disableScrollFooter:function(){if(!this._bFooterDisabled){g.addClass(this.footer,E);this._bFooterDisabled=true;}},_enableScrollHeader:function(){if(this._bHeaderDisabled){g.removeClass(this.header,P);this._bHeaderDisabled=false;}},_enableScrollFooter:function(){if(this._bFooterDisabled){g.removeClass(this.footer,E);this._bFooterDisabled=false;}},_onMouseOver:function(BF,A8){var BG=A8[0],BC=A8[1],A3=AB.getTarget(BG),A7=this.getRoot(),BE=this._submenuHideDelayTimer,A4,A6,BB,A5,BA,A9;var BD=function(){if(this.parent.cfg.getProperty(z)){this.show();}};if(!this._bStopMouseEventHandlers){if(!this._bHandledMouseOverEvent&&(A3==this.element||g.isAncestor(this.element,A3))){if(this._useHideDelay){this._cancelHideDelay();}this._nCurrentMouseX=0;AB.on(this.element,c,this._onMouseMove,this,true);if(!(BC&&g.isAncestor(BC.element,AB.getRelatedTarget(BG)))){this.clearActiveItem();}if(this.parent&&BE){BE.cancel();this.parent.cfg.setProperty(z,true);A4=this.parent.parent;A4._bHandledMouseOutEvent=true;A4._bHandledMouseOverEvent=false;}this._bHandledMouseOverEvent=true;this._bHandledMouseOutEvent=false;}if(BC&&!BC.handledMouseOverEvent&&!BC.cfg.getProperty(Af)&&(A3==BC.element||g.isAncestor(BC.element,A3))){A6=this.cfg.getProperty(At);BB=(A6>0);if(BB){this._cancelShowDelay();}A5=this.activeItem;if(A5){A5.cfg.setProperty(z,false);}BA=BC.cfg;BA.setProperty(z,true);if(this.hasFocus()||A7._hasFocus){BC.focus();A7._hasFocus=false;}if(this.cfg.getProperty(a)){A9=BA.getProperty(O);if(A9){if(BB){A7._showDelayTimer=AN.later(A7.cfg.getProperty(At),A9,BD);}else{A9.show();}}}BC.handledMouseOverEvent=true;BC.handledMouseOutEvent=false;}}},_onMouseOut:function(BB,A5){var BC=A5[0],A9=A5[1],A6=AB.getRelatedTarget(BC),BA=false,A8,A7,A3,A4;if(!this._bStopMouseEventHandlers){if(A9&&!A9.cfg.getProperty(Af)){A8=A9.cfg;A7=A8.getProperty(O);if(A7&&(A6==A7.element||g.isAncestor(A7.element,A6))){BA=true;}if(!A9.handledMouseOutEvent&&((A6!=A9.element&&!g.isAncestor(A9.element,A6))||BA)){if(!BA){A9.cfg.setProperty(z,false);if(A7){A3=this.cfg.getProperty(d);A4=this.cfg.getProperty(At);if(!(this instanceof YAHOO.widget.MenuBar)&&A3>0&&A4>=A3){this._execSubmenuHideDelay(A7,AB.getPageX(BC),A3);}else{A7.hide();}}}A9.handledMouseOutEvent=true;A9.handledMouseOverEvent=false;}}if(!this._bHandledMouseOutEvent&&((A6!=this.element&&!g.isAncestor(this.element,A6))||BA)){if(this._useHideDelay){this._execHideDelay();}AB.removeListener(this.element,c,this._onMouseMove);this._nCurrentMouseX=AB.getPageX(BC);this._bHandledMouseOutEvent=true;this._bHandledMouseOverEvent=false;}}},_onMouseMove:function(A4,A3){if(!this._bStopMouseEventHandlers){this._nCurrentMouseX=AB.getPageX(A4);}},_onClick:function(BE,A5){var BF=A5[0],A9=A5[1],BB=false,A7,BC,A4,A3,A8,BA,BD;var A6=function(){if(!((Aq.gecko&&this.platform==Y)&&BF.button>0)){A4=this.getRoot();if(A4 instanceof YAHOO.widget.MenuBar||A4.cfg.getProperty(Ab)==C){A4.clearActiveItem();}else{A4.hide();}}};if(A9){if(A9.cfg.getProperty(Af)){AB.preventDefault(BF);A6.call(this);}else{A7=A9.cfg.getProperty(O);A8=A9.cfg.getProperty(Q);if(A8){BA=A8.indexOf(M);BD=A8.length;if(BA!=-1){A8=A8.substr(BA,BD);BD=A8.length;if(BD>1){A3=A8.substr(1,BD);BC=YAHOO.widget.MenuManager.getMenu(A3);if(BC){BB=(this.getRoot()===BC.getRoot());}}else{if(BD===1){BB=true;}}}}if(BB&&!A9.cfg.getProperty(V)){AB.preventDefault(BF);if(Aq.webkit){A9.focus();}else{A9.focusEvent.fire();}}if(!A7&&!this.cfg.getProperty(Ap)){A6.call(this);}}}},_onKeyDown:function(BH,BB){var BE=BB[0],BD=BB[1],BA,BF,A4,A8,BI,A3,BK,A7,BG,A6,BC,BJ,A9;if(this._useHideDelay){this._cancelHideDelay();}function A5(){this._bStopMouseEventHandlers=true;AN.later(10,this,function(){this._bStopMouseEventHandlers=false;});}if(BD&&!BD.cfg.getProperty(Af)){BF=BD.cfg;A4=this.parent;switch(BE.keyCode){case 38:case 40:BI=(BE.keyCode==38)?BD.getPreviousEnabledSibling():BD.getNextEnabledSibling();if(BI){this.clearActiveItem();BI.cfg.setProperty(z,true);BI.focus();if(this.cfg.getProperty(AU)>0){A3=this.body;BK=A3.scrollTop;A7=A3.offsetHeight;BG=this.getItems();A6=BG.length-1;BC=BI.element.offsetTop;if(BE.keyCode==40){if(BC>=(A7+BK)){A3.scrollTop=BC-A7;}else{if(BC<=BK){A3.scrollTop=0;}}if(BI==BG[A6]){A3.scrollTop=BI.element.offsetTop;}}else{if(BC<=BK){A3.scrollTop=BC-BI.element.offsetHeight;}else{if(BC>=(BK+A7)){A3.scrollTop=BC;}}if(BI==BG[0]){A3.scrollTop=0;}}BK=A3.scrollTop;BJ=A3.scrollHeight-A3.offsetHeight;if(BK===0){this._disableScrollHeader();this._enableScrollFooter();}else{if(BK==BJ){this._enableScrollHeader();this._disableScrollFooter();}else{this._enableScrollHeader();this._enableScrollFooter();}}}}AB.preventDefault(BE);A5();break;case 39:BA=BF.getProperty(O);if(BA){if(!BF.getProperty(z)){BF.setProperty(z,true);}BA.show();BA.setInitialFocus();BA.setInitialSelection();}else{A8=this.getRoot();if(A8 instanceof YAHOO.widget.MenuBar){BI=A8.activeItem.getNextEnabledSibling();if(BI){A8.clearActiveItem();BI.cfg.setProperty(z,true);BA=BI.cfg.getProperty(O);if(BA){BA.show();BA.setInitialFocus();}else{BI.focus();}}}}AB.preventDefault(BE);A5();break;case 37:if(A4){A9=A4.parent;
if(A9 instanceof YAHOO.widget.MenuBar){BI=A9.activeItem.getPreviousEnabledSibling();if(BI){A9.clearActiveItem();BI.cfg.setProperty(z,true);BA=BI.cfg.getProperty(O);if(BA){BA.show();BA.setInitialFocus();}else{BI.focus();}}}else{this.hide();A4.focus();}}AB.preventDefault(BE);A5();break;}}if(BE.keyCode==27){if(this.cfg.getProperty(Ab)==AE){this.hide();if(this.parent){this.parent.focus();}}else{if(this.activeItem){BA=this.activeItem.cfg.getProperty(O);if(BA&&BA.cfg.getProperty(As)){BA.hide();this.activeItem.focus();}else{this.activeItem.blur();this.activeItem.cfg.setProperty(z,false);}}}AB.preventDefault(BE);}},_onKeyPress:function(A5,A4){var A3=A4[0];if(A3.keyCode==40||A3.keyCode==38){AB.preventDefault(A3);}},_onBlur:function(A4,A3){if(this._hasFocus){this._hasFocus=false;}},_onYChange:function(A4,A3){var A6=this.parent,A8,A5,A7;if(A6){A8=A6.parent.body.scrollTop;if(A8>0){A7=(this.cfg.getProperty(R)-A8);g.setY(this.element,A7);A5=this.iframe;if(A5){g.setY(A5,A7);}this.cfg.setProperty(R,A7,true);}}},_onScrollTargetMouseOver:function(A9,BC){var BB=this._bodyScrollTimer;if(BB){BB.cancel();}this._cancelHideDelay();var A5=AB.getTarget(A9),A7=this.body,A6=this.cfg.getProperty(k),A3,A4;function BA(){var BD=A7.scrollTop;if(BD<A3){A7.scrollTop=(BD+A6);this._enableScrollHeader();}else{A7.scrollTop=A3;this._bodyScrollTimer.cancel();this._disableScrollFooter();}}function A8(){var BD=A7.scrollTop;if(BD>0){A7.scrollTop=(BD-A6);this._enableScrollFooter();}else{A7.scrollTop=0;this._bodyScrollTimer.cancel();this._disableScrollHeader();}}if(g.hasClass(A5,Ay)){A4=A8;}else{A3=A7.scrollHeight-A7.offsetHeight;A4=BA;}this._bodyScrollTimer=AN.later(10,this,A4,null,true);},_onScrollTargetMouseOut:function(A5,A3){var A4=this._bodyScrollTimer;if(A4){A4.cancel();}this._cancelHideDelay();},_onInit:function(A4,A3){this.cfg.subscribeToConfigEvent(As,this._onVisibleChange);var A5=!this.parent,A6=this.lazyLoad;if(((A5&&!A6)||(A5&&(this.cfg.getProperty(As)||this.cfg.getProperty(Ab)==C))||(!A5&&!A6))&&this.getItemGroups().length===0){if(this.srcElement){this._initSubTree();}if(this.itemData){this.addItems(this.itemData);}}else{if(A6){this.cfg.fireQueue();}}},_onBeforeRender:function(A6,A5){var A7=this.element,BA=this._aListElements.length,A4=true,A9=0,A3,A8;if(BA>0){do{A3=this._aListElements[A9];if(A3){if(A4){g.addClass(A3,AK);A4=false;}if(!g.isAncestor(A7,A3)){this.appendToBody(A3);}A8=this._aGroupTitleElements[A9];if(A8){if(!g.isAncestor(A7,A8)){A3.parentNode.insertBefore(A8,A3);}g.addClass(A3,D);}}A9++;}while(A9<BA);}},_onRender:function(A4,A3){if(this.cfg.getProperty(Ab)==AE){if(!this.cfg.getProperty(As)){this.positionOffScreen();}}},_onBeforeShow:function(A5,A4){var A7,BA,A6,A8=this.cfg.getProperty(h);if(this.lazyLoad&&this.getItemGroups().length===0){if(this.srcElement){this._initSubTree();}if(this.itemData){if(this.parent&&this.parent.parent&&this.parent.parent.srcElement&&this.parent.parent.srcElement.tagName.toUpperCase()==AI){A7=this.itemData.length;for(BA=0;BA<A7;BA++){if(this.itemData[BA].tagName){this.addItem((new this.ITEM_TYPE(this.itemData[BA])));}}}else{this.addItems(this.itemData);}}A6=this.srcElement;if(A6){if(A6.tagName.toUpperCase()==AI){if(g.inDocument(A6)){this.render(A6.parentNode);}else{this.render(A8);}}else{this.render();}}else{if(this.parent){this.render(this.parent.element);}else{this.render(A8);}}}var A9=this.parent,A3;if(!A9&&this.cfg.getProperty(Ab)==AE){this.cfg.refireEvent(f);}if(A9){A3=A9.parent.cfg.getProperty(AP);this.cfg.setProperty(q,[A9.element,A3[0],A3[1]]);this.align();}},getConstrainedY:function(BF){var BQ=this,BM=BQ.cfg.getProperty(q),BT=BQ.cfg.getProperty(AU),BP,BE={"trbr":true,"tlbl":true,"bltl":true,"brtr":true},A8=(BM&&BE[BM[1]+BM[2]]),BA=BQ.element,BU=BA.offsetHeight,BO=AC.VIEWPORT_OFFSET,BJ=g.getViewportHeight(),BN=g.getDocumentScrollTop(),BK=(BQ.cfg.getProperty(Ah)+BO<BJ),BS,BB,BH,BI,BD=false,BC,A5,BG=BN+BO,A7=BN+BJ-BU-BO,A3=BF;var A9=function(){var BV;if((BQ.cfg.getProperty(R)-BN)>BH){BV=(BH-BU);}else{BV=(BH+BI);}BQ.cfg.setProperty(R,(BV+BN),true);return BV;};var A6=function(){if((BQ.cfg.getProperty(R)-BN)>BH){return(A5-BO);}else{return(BC-BO);}};var BL=function(){var BV;if((BQ.cfg.getProperty(R)-BN)>BH){BV=(BH+BI);}else{BV=(BH-BA.offsetHeight);}BQ.cfg.setProperty(R,(BV+BN),true);};var A4=function(){BQ._setScrollHeight(this.cfg.getProperty(AU));BQ.hideEvent.unsubscribe(A4);};var BR=function(){var BY=A6(),BV=(BQ.getItems().length>0),BX,BW;if(BU>BY){BX=BV?BQ.cfg.getProperty(Ah):BU;if((BY>BX)&&BV){BP=BY;}else{BP=BT;}BQ._setScrollHeight(BP);BQ.hideEvent.subscribe(A4);BL();if(BY<BX){if(BD){A9();}else{A9();BD=true;BW=BR();}}}else{if(BP&&(BP!==BT)){BQ._setScrollHeight(BT);BQ.hideEvent.subscribe(A4);BL();}}return BW;};if(BF<BG||BF>A7){if(BK){if(BQ.cfg.getProperty(A2)&&A8){BB=BM[0];BI=BB.offsetHeight;BH=(g.getY(BB)-BN);BC=BH;A5=(BJ-(BH+BI));BR();A3=BQ.cfg.getProperty(R);}else{if(!(BQ instanceof YAHOO.widget.MenuBar)&&BU>=BJ){BS=(BJ-(BO*2));if(BS>BQ.cfg.getProperty(Ah)){BQ._setScrollHeight(BS);BQ.hideEvent.subscribe(A4);BL();A3=BQ.cfg.getProperty(R);}}else{if(BF<BG){A3=BG;}else{if(BF>A7){A3=A7;}}}}}else{A3=BO+BN;}}return A3;},_onHide:function(A4,A3){if(this.cfg.getProperty(Ab)===AE){this.positionOffScreen();}},_onShow:function(BB,A9){var A3=this.parent,A5,A6,A8,A4;function A7(BD){var BC;if(BD.type==Ai||(BD.type==Ac&&BD.keyCode==27)){BC=AB.getTarget(BD);if(BC!=A5.element||!g.isAncestor(A5.element,BC)){A5.cfg.setProperty(a,false);AB.removeListener(document,Ai,A7);AB.removeListener(document,Ac,A7);}}}function BA(BD,BC,BE){this.cfg.setProperty(U,v);this.hideEvent.unsubscribe(BA,BE);}if(A3){A5=A3.parent;if(!A5.cfg.getProperty(a)&&(A5 instanceof YAHOO.widget.MenuBar||A5.cfg.getProperty(Ab)==C)){A5.cfg.setProperty(a,true);AB.on(document,Ai,A7);AB.on(document,Ac,A7);}if((this.cfg.getProperty("x")<A5.cfg.getProperty("x"))&&(Aq.gecko&&Aq.gecko<1.9)&&!this.cfg.getProperty(U)){A6=this.element;A8=A6.offsetWidth;A6.style.width=A8+AR;A4=(A8-(A6.offsetWidth-A8))+AR;this.cfg.setProperty(U,A4);this.hideEvent.subscribe(BA,A4);
}}},_onBeforeHide:function(A5,A4){var A3=this.activeItem,A7=this.getRoot(),A8,A6;if(A3){A8=A3.cfg;A8.setProperty(z,false);A6=A8.getProperty(O);if(A6){A6.hide();}}if(Aq.ie&&this.cfg.getProperty(Ab)===AE&&this.parent){A7._hasFocus=this.hasFocus();}if(A7==this){A7.blur();}},_onParentMenuConfigChange:function(A4,A3,A7){var A5=A3[0][0],A6=A3[0][1];switch(A5){case AG:case x:case AX:case At:case d:case AD:case Aw:case A0:case k:case AU:case Ah:case AF:case Ae:case A2:A7.cfg.setProperty(A5,A6);break;case AP:if(!(this.parent.parent instanceof YAHOO.widget.MenuBar)){A7.cfg.setProperty(A5,A6);}break;}},_onParentMenuRender:function(A4,A3,A9){var A6=A9.parent.parent,A5=A6.cfg,A7={constraintoviewport:A5.getProperty(x),xy:[0,0],clicktohide:A5.getProperty(AD),effect:A5.getProperty(Aw),showdelay:A5.getProperty(At),hidedelay:A5.getProperty(AX),submenuhidedelay:A5.getProperty(d),classname:A5.getProperty(A0),scrollincrement:A5.getProperty(k),maxheight:A5.getProperty(AU),minscrollheight:A5.getProperty(Ah),iframe:A5.getProperty(AG),shadow:A5.getProperty(Ae),preventcontextoverlap:A5.getProperty(A2),monitorresize:A5.getProperty(AF)},A8;if(!(A6 instanceof YAHOO.widget.MenuBar)){A7[AP]=A5.getProperty(AP);}A9.cfg.applyConfig(A7);if(!this.lazyLoad){A8=this.parent.element;if(this.element.parentNode==A8){this.render();}else{this.render(A8);}}},_onMenuItemDestroy:function(A5,A4,A3){this._removeItemFromGroupByValue(A3.groupIndex,A3);},_onMenuItemConfigChange:function(A5,A4,A3){var A7=A4[0][0],A8=A4[0][1],A6;switch(A7){case z:if(A8===true){this.activeItem=A3;}break;case O:A6=A4[0][1];if(A6){this._configureSubmenu(A3);}break;}},configVisible:function(A5,A4,A6){var A3,A7;if(this.cfg.getProperty(Ab)==AE){s.superclass.configVisible.call(this,A5,A4,A6);}else{A3=A4[0];A7=g.getStyle(this.element,AW);g.setStyle(this.element,J,As);if(A3){if(A7!=AV){this.beforeShowEvent.fire();g.setStyle(this.element,AW,AV);this.showEvent.fire();}}else{if(A7==AV){this.beforeHideEvent.fire();g.setStyle(this.element,AW,AY);this.hideEvent.fire();}}}},configPosition:function(A5,A4,A8){var A7=this.element,A6=A4[0]==C?C:AA,A9=this.cfg,A3;g.setStyle(A7,Ab,A6);if(A6==C){g.setStyle(A7,AW,AV);A9.setProperty(As,true);}else{g.setStyle(A7,J,AM);}if(A6==AA){A3=A9.getProperty(AT);if(!A3||A3===0){A9.setProperty(AT,1);}}},configIframe:function(A4,A3,A5){if(this.cfg.getProperty(Ab)==AE){s.superclass.configIframe.call(this,A4,A3,A5);}},configHideDelay:function(A4,A3,A5){var A6=A3[0];this._useHideDelay=(A6>0);},configContainer:function(A4,A3,A6){var A5=A3[0];if(AN.isString(A5)){this.cfg.setProperty(h,g.get(A5),true);}},_clearSetWidthFlag:function(){this._widthSetForScroll=false;this.cfg.unsubscribeFromConfigEvent(U,this._clearSetWidthFlag);},_setScrollHeight:function(BE){var BA=BE,A9=false,BF=false,A6,A7,BD,A4,BC,BG,A3,BB,A8,A5;if(this.getItems().length>0){A6=this.element;A7=this.body;BD=this.header;A4=this.footer;BC=this._onScrollTargetMouseOver;BG=this._onScrollTargetMouseOut;A3=this.cfg.getProperty(Ah);if(BA>0&&BA<A3){BA=A3;}g.setStyle(A7,Am,v);g.removeClass(A7,m);A7.scrollTop=0;BF=((Aq.gecko&&Aq.gecko<1.9)||Aq.ie);if(BA>0&&BF&&!this.cfg.getProperty(U)){A8=A6.offsetWidth;A6.style.width=A8+AR;A5=(A8-(A6.offsetWidth-A8))+AR;this.cfg.unsubscribeFromConfigEvent(U,this._clearSetWidthFlag);this.cfg.setProperty(U,A5);this._widthSetForScroll=true;this.cfg.subscribeToConfigEvent(U,this._clearSetWidthFlag);}if(BA>0&&(!BD&&!A4)){this.setHeader(AL);this.setFooter(AL);BD=this.header;A4=this.footer;g.addClass(BD,T);g.addClass(A4,y);A6.insertBefore(BD,A7);A6.appendChild(A4);}BB=BA;if(BD&&A4){BB=(BB-(BD.offsetHeight+A4.offsetHeight));}if((BB>0)&&(A7.offsetHeight>BA)){g.addClass(A7,m);g.setStyle(A7,Am,(BB+AR));if(!this._hasScrollEventHandlers){AB.on(BD,Ag,BC,this,true);AB.on(BD,G,BG,this,true);AB.on(A4,Ag,BC,this,true);AB.on(A4,G,BG,this,true);this._hasScrollEventHandlers=true;}this._disableScrollHeader();this._enableScrollFooter();A9=true;}else{if(BD&&A4){if(this._widthSetForScroll){this._widthSetForScroll=false;this.cfg.unsubscribeFromConfigEvent(U,this._clearSetWidthFlag);this.cfg.setProperty(U,v);}this._enableScrollHeader();this._enableScrollFooter();if(this._hasScrollEventHandlers){AB.removeListener(BD,Ag,BC);AB.removeListener(BD,G,BG);AB.removeListener(A4,Ag,BC);AB.removeListener(A4,G,BG);this._hasScrollEventHandlers=false;}A6.removeChild(BD);A6.removeChild(A4);this.header=null;this.footer=null;A9=true;}}if(A9){this.cfg.refireEvent(AG);this.cfg.refireEvent(Ae);}}},_setMaxHeight:function(A4,A3,A5){this._setScrollHeight(A5);this.renderEvent.unsubscribe(this._setMaxHeight);},configMaxHeight:function(A4,A3,A5){var A6=A3[0];if(this.lazyLoad&&!this.body&&A6>0){this.renderEvent.subscribe(this._setMaxHeight,A6,this);}else{this._setScrollHeight(A6);}},configClassName:function(A5,A4,A6){var A3=A4[0];if(this._sClassName){g.removeClass(this.element,this._sClassName);}g.addClass(this.element,A3);this._sClassName=A3;},_onItemAdded:function(A4,A3){var A5=A3[0];if(A5){A5.cfg.setProperty(Af,true);}},configDisabled:function(A5,A4,A8){var A7=A4[0],A3=this.getItems(),A9,A6;if(AN.isArray(A3)){A9=A3.length;if(A9>0){A6=A9-1;do{A3[A6].cfg.setProperty(Af,A7);}while(A6--);}if(A7){this.clearActiveItem(true);g.addClass(this.element,Af);this.itemAddedEvent.subscribe(this._onItemAdded);}else{g.removeClass(this.element,Af);this.itemAddedEvent.unsubscribe(this._onItemAdded);}}},configShadow:function(BB,A5,BA){var A9=function(){var BE=this.element,BD=this._shadow;if(BD&&BE){if(BD.style.width&&BD.style.height){BD.style.width=v;BD.style.height=v;}BD.style.width=(BE.offsetWidth+6)+AR;BD.style.height=(BE.offsetHeight+1)+AR;}};var BC=function(){this.element.appendChild(this._shadow);};var A7=function(){g.addClass(this._shadow,AH);};var A8=function(){g.removeClass(this._shadow,AH);};var A4=function(){var BE=this._shadow,BD;if(!BE){BD=this.element;if(!An){An=document.createElement(K);An.className=n;}BE=An.cloneNode(false);BD.appendChild(BE);this._shadow=BE;this.beforeShowEvent.subscribe(A7);this.beforeHideEvent.subscribe(A8);
if(Aq.ie){AN.later(0,this,function(){A9.call(this);this.syncIframe();});this.cfg.subscribeToConfigEvent(U,A9);this.cfg.subscribeToConfigEvent(Am,A9);this.cfg.subscribeToConfigEvent(AU,A9);this.changeContentEvent.subscribe(A9);Au.textResizeEvent.subscribe(A9,this,true);this.destroyEvent.subscribe(function(){Au.textResizeEvent.unsubscribe(A9,this);});}this.cfg.subscribeToConfigEvent(AU,BC);}};var A6=function(){if(this._shadow){BC.call(this);if(Aq.ie){A9.call(this);}}else{A4.call(this);}this.beforeShowEvent.unsubscribe(A6);};var A3=A5[0];if(A3&&this.cfg.getProperty(Ab)==AE){if(this.cfg.getProperty(As)){if(this._shadow){BC.call(this);if(Aq.ie){A9.call(this);}}else{A4.call(this);}}else{this.beforeShowEvent.subscribe(A6);}}},initEvents:function(){s.superclass.initEvents.call(this);var A4=Aa.length-1,A5,A3;do{A5=Aa[A4];A3=this.createEvent(A5[1]);A3.signature=F.LIST;this[A5[0]]=A3;}while(A4--);},positionOffScreen:function(){var A4=this.iframe,A5=this.element,A3=this.OFF_SCREEN_POSITION;A5.style.top=v;A5.style.left=v;if(A4){A4.style.top=A3;A4.style.left=A3;}},getRoot:function(){var A5=this.parent,A4,A3;if(A5){A4=A5.parent;A3=A4?A4.getRoot():this;}else{A3=this;}return A3;},toString:function(){var A4=Ao,A3=this.id;if(A3){A4+=(Az+A3);}return A4;},setItemGroupTitle:function(A8,A7){var A6,A5,A4,A3;if(AN.isString(A8)&&A8.length>0){A6=AN.isNumber(A7)?A7:0;A5=this._aGroupTitleElements[A6];if(A5){A5.innerHTML=A8;}else{A5=document.createElement(this.GROUP_TITLE_TAG_NAME);A5.innerHTML=A8;this._aGroupTitleElements[A6]=A5;}A4=this._aGroupTitleElements.length-1;do{if(this._aGroupTitleElements[A4]){g.removeClass(this._aGroupTitleElements[A4],AK);A3=A4;}}while(A4--);if(A3!==null){g.addClass(this._aGroupTitleElements[A3],AK);}this.changeContentEvent.fire();}},addItem:function(A3,A4){return this._addItemToGroup(A4,A3);},addItems:function(A7,A6){var A9,A3,A8,A4,A5;if(AN.isArray(A7)){A9=A7.length;A3=[];for(A4=0;A4<A9;A4++){A8=A7[A4];if(A8){if(AN.isArray(A8)){A3[A3.length]=this.addItems(A8,A4);}else{A3[A3.length]=this._addItemToGroup(A6,A8);}}}if(A3.length){A5=A3;}}return A5;},insertItem:function(A3,A4,A5){return this._addItemToGroup(A5,A3,A4);},removeItem:function(A3,A5){var A6,A4;if(!AN.isUndefined(A3)){if(A3 instanceof YAHOO.widget.MenuItem){A6=this._removeItemFromGroupByValue(A5,A3);}else{if(AN.isNumber(A3)){A6=this._removeItemFromGroupByIndex(A5,A3);}}if(A6){A6.destroy();A4=A6;}}return A4;},getItems:function(){var A6=this._aItemGroups,A4,A5,A3=[];if(AN.isArray(A6)){A4=A6.length;A5=((A4==1)?A6[0]:(Array.prototype.concat.apply(A3,A6)));}return A5;},getItemGroups:function(){return this._aItemGroups;},getItem:function(A4,A5){var A6,A3;if(AN.isNumber(A4)){A6=this._getItemGroup(A5);if(A6){A3=A6[A4];}}return A3;},getSubmenus:function(){var A4=this.getItems(),A8=A4.length,A3,A5,A7,A6;if(A8>0){A3=[];for(A6=0;A6<A8;A6++){A7=A4[A6];if(A7){A5=A7.cfg.getProperty(O);if(A5){A3[A3.length]=A5;}}}}return A3;},clearContent:function(){var A7=this.getItems(),A4=A7.length,A5=this.element,A6=this.body,BB=this.header,A3=this.footer,BA,A9,A8;if(A4>0){A8=A4-1;do{BA=A7[A8];if(BA){A9=BA.cfg.getProperty(O);if(A9){this.cfg.configChangedEvent.unsubscribe(this._onParentMenuConfigChange,A9);this.renderEvent.unsubscribe(this._onParentMenuRender,A9);}this.removeItem(BA,BA.groupIndex);}}while(A8--);}if(BB){AB.purgeElement(BB);A5.removeChild(BB);}if(A3){AB.purgeElement(A3);A5.removeChild(A3);}if(A6){AB.purgeElement(A6);A6.innerHTML=v;}this.activeItem=null;this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];this.cfg.setProperty(U,null);},destroy:function(){this.clearContent();this._aItemGroups=null;this._aListElements=null;this._aGroupTitleElements=null;s.superclass.destroy.call(this);},setInitialFocus:function(){var A3=this._getFirstEnabledItem();if(A3){A3.focus();}},setInitialSelection:function(){var A3=this._getFirstEnabledItem();if(A3){A3.cfg.setProperty(z,true);}},clearActiveItem:function(A5){if(this.cfg.getProperty(At)>0){this._cancelShowDelay();}var A3=this.activeItem,A6,A4;if(A3){A6=A3.cfg;if(A5){A3.blur();this.getRoot()._hasFocus=true;}A6.setProperty(z,false);A4=A6.getProperty(O);if(A4){A4.hide();}this.activeItem=null;}},focus:function(){if(!this.hasFocus()){this.setInitialFocus();}},blur:function(){var A3;if(this.hasFocus()){A3=A1.getFocusedMenuItem();if(A3){A3.blur();}}},hasFocus:function(){return(A1.getFocusedMenu()==this.getRoot());},subscribe:function(){function A6(BB,BA,BD){var BE=BA[0],BC=BE.cfg.getProperty(O);if(BC){BC.subscribe.apply(BC,BD);}}function A9(BB,BA,BD){var BC=this.cfg.getProperty(O);if(BC){BC.subscribe.apply(BC,BD);}}s.superclass.subscribe.apply(this,arguments);s.superclass.subscribe.call(this,AS,A6,arguments);var A3=this.getItems(),A8,A7,A4,A5;if(A3){A8=A3.length;if(A8>0){A5=A8-1;do{A7=A3[A5];A4=A7.cfg.getProperty(O);if(A4){A4.subscribe.apply(A4,arguments);}else{A7.cfg.subscribeToConfigEvent(O,A9,arguments);}}while(A5--);}}},initDefaultConfig:function(){s.superclass.initDefaultConfig.call(this);var A3=this.cfg;A3.addProperty(AZ.key,{handler:this.configVisible,value:AZ.value,validator:AZ.validator});A3.addProperty(AQ.key,{handler:this.configConstrainToViewport,value:AQ.value,validator:AQ.validator,supercedes:AQ.supercedes});A3.addProperty(AJ.key,{value:AJ.value,validator:AJ.validator,supercedes:AJ.supercedes});A3.addProperty(S.key,{handler:this.configPosition,value:S.value,validator:S.validator,supercedes:S.supercedes});A3.addProperty(A.key,{value:A.value,suppressEvent:A.suppressEvent});A3.addProperty(u.key,{value:u.value,validator:u.validator,suppressEvent:u.suppressEvent});A3.addProperty(Z.key,{value:Z.value,validator:Z.validator,suppressEvent:Z.suppressEvent});A3.addProperty(r.key,{handler:this.configHideDelay,value:r.value,validator:r.validator,suppressEvent:r.suppressEvent});A3.addProperty(w.key,{value:w.value,validator:w.validator,suppressEvent:w.suppressEvent});A3.addProperty(p.key,{value:p.value,validator:p.validator,suppressEvent:p.suppressEvent});A3.addProperty(AO.key,{handler:this.configContainer,value:document.body,suppressEvent:AO.suppressEvent});
A3.addProperty(Ad.key,{value:Ad.value,validator:Ad.validator,supercedes:Ad.supercedes,suppressEvent:Ad.suppressEvent});A3.addProperty(N.key,{value:N.value,validator:N.validator,supercedes:N.supercedes,suppressEvent:N.suppressEvent});A3.addProperty(X.key,{handler:this.configMaxHeight,value:X.value,validator:X.validator,suppressEvent:X.suppressEvent,supercedes:X.supercedes});A3.addProperty(W.key,{handler:this.configClassName,value:W.value,validator:W.validator,supercedes:W.supercedes});A3.addProperty(b.key,{handler:this.configDisabled,value:b.value,validator:b.validator,suppressEvent:b.suppressEvent});A3.addProperty(I.key,{handler:this.configShadow,value:I.value,validator:I.validator});A3.addProperty(Aj.key,{value:Aj.value,validator:Aj.validator});}});})();(function(){YAHOO.widget.MenuItem=function(AS,AR){if(AS){if(AR){this.parent=AR.parent;this.value=AR.value;this.id=AR.id;}this.init(AS,AR);}};var x=YAHOO.util.Dom,j=YAHOO.widget.Module,AB=YAHOO.widget.Menu,c=YAHOO.widget.MenuItem,AK=YAHOO.util.CustomEvent,k=YAHOO.env.ua,AQ=YAHOO.lang,AL="text",O="#",Q="-",L="helptext",n="url",AH="target",A="emphasis",N="strongemphasis",b="checked",w="submenu",H="disabled",B="selected",P="hassubmenu",U="checked-disabled",AI="hassubmenu-disabled",AD="hassubmenu-selected",T="checked-selected",q="onclick",J="classname",AJ="",i="OPTION",v="OPTGROUP",K="LI",AE="href",r="SELECT",X="DIV",AN='<em class="helptext">',a="<em>",I="</em>",W="<strong>",y="</strong>",Y="preventcontextoverlap",h="obj",AG="scope",t="none",V="visible",E=" ",m="MenuItem",AA="click",D="show",M="hide",S="li",AF='<a href="#"></a>',p=[["mouseOverEvent","mouseover"],["mouseOutEvent","mouseout"],["mouseDownEvent","mousedown"],["mouseUpEvent","mouseup"],["clickEvent",AA],["keyPressEvent","keypress"],["keyDownEvent","keydown"],["keyUpEvent","keyup"],["focusEvent","focus"],["blurEvent","blur"],["destroyEvent","destroy"]],o={key:AL,value:AJ,validator:AQ.isString,suppressEvent:true},s={key:L,supercedes:[AL],suppressEvent:true},G={key:n,value:O,suppressEvent:true},AO={key:AH,suppressEvent:true},AP={key:A,value:false,validator:AQ.isBoolean,suppressEvent:true,supercedes:[AL]},d={key:N,value:false,validator:AQ.isBoolean,suppressEvent:true,supercedes:[AL]},l={key:b,value:false,validator:AQ.isBoolean,suppressEvent:true,supercedes:[H,B]},F={key:w,suppressEvent:true,supercedes:[H,B]},AM={key:H,value:false,validator:AQ.isBoolean,suppressEvent:true,supercedes:[AL,B]},f={key:B,value:false,validator:AQ.isBoolean,suppressEvent:true},u={key:q,suppressEvent:true},AC={key:J,value:null,validator:AQ.isString,suppressEvent:true},z={key:"keylistener",value:null,suppressEvent:true},C=null,e={};var Z=function(AU,AT){var AR=e[AU];if(!AR){e[AU]={};AR=e[AU];}var AS=AR[AT];if(!AS){AS=AU+Q+AT;AR[AT]=AS;}return AS;};var g=function(AR){x.addClass(this.element,Z(this.CSS_CLASS_NAME,AR));x.addClass(this._oAnchor,Z(this.CSS_LABEL_CLASS_NAME,AR));};var R=function(AR){x.removeClass(this.element,Z(this.CSS_CLASS_NAME,AR));x.removeClass(this._oAnchor,Z(this.CSS_LABEL_CLASS_NAME,AR));};c.prototype={CSS_CLASS_NAME:"yuimenuitem",CSS_LABEL_CLASS_NAME:"yuimenuitemlabel",SUBMENU_TYPE:null,_oAnchor:null,_oHelpTextEM:null,_oSubmenu:null,_oOnclickAttributeValue:null,_sClassName:null,constructor:c,index:null,groupIndex:null,parent:null,element:null,srcElement:null,value:null,browser:j.prototype.browser,id:null,init:function(AR,Ab){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=AB;}this.cfg=new YAHOO.util.Config(this);this.initDefaultConfig();var AX=this.cfg,AY=O,AT,Aa,AZ,AS,AV,AU,AW;if(AQ.isString(AR)){this._createRootNodeStructure();AX.queueProperty(AL,AR);}else{if(AR&&AR.tagName){switch(AR.tagName.toUpperCase()){case i:this._createRootNodeStructure();AX.queueProperty(AL,AR.text);AX.queueProperty(H,AR.disabled);this.value=AR.value;this.srcElement=AR;break;case v:this._createRootNodeStructure();AX.queueProperty(AL,AR.label);AX.queueProperty(H,AR.disabled);this.srcElement=AR;this._initSubTree();break;case K:AZ=x.getFirstChild(AR);if(AZ){AY=AZ.getAttribute(AE,2);AS=AZ.getAttribute(AH);AV=AZ.innerHTML;}this.srcElement=AR;this.element=AR;this._oAnchor=AZ;AX.setProperty(AL,AV,true);AX.setProperty(n,AY,true);AX.setProperty(AH,AS,true);this._initSubTree();break;}}}if(this.element){AU=(this.srcElement||this.element).id;if(!AU){AU=this.id||x.generateId();this.element.id=AU;}this.id=AU;x.addClass(this.element,this.CSS_CLASS_NAME);x.addClass(this._oAnchor,this.CSS_LABEL_CLASS_NAME);AW=p.length-1;do{Aa=p[AW];AT=this.createEvent(Aa[1]);AT.signature=AK.LIST;this[Aa[0]]=AT;}while(AW--);if(Ab){AX.applyConfig(Ab);}AX.fireQueue();}},_createRootNodeStructure:function(){var AR,AS;if(!C){C=document.createElement(S);C.innerHTML=AF;}AR=C.cloneNode(true);AR.className=this.CSS_CLASS_NAME;AS=AR.firstChild;AS.className=this.CSS_LABEL_CLASS_NAME;this.element=AR;this._oAnchor=AS;},_initSubTree:function(){var AX=this.srcElement,AT=this.cfg,AV,AU,AS,AR,AW;if(AX.childNodes.length>0){if(this.parent.lazyLoad&&this.parent.srcElement&&this.parent.srcElement.tagName.toUpperCase()==r){AT.setProperty(w,{id:x.generateId(),itemdata:AX.childNodes});}else{AV=AX.firstChild;AU=[];do{if(AV&&AV.tagName){switch(AV.tagName.toUpperCase()){case X:AT.setProperty(w,AV);break;case i:AU[AU.length]=AV;break;}}}while((AV=AV.nextSibling));AS=AU.length;if(AS>0){AR=new this.SUBMENU_TYPE(x.generateId());AT.setProperty(w,AR);for(AW=0;AW<AS;AW++){AR.addItem((new AR.ITEM_TYPE(AU[AW])));}}}}},configText:function(Aa,AT,AV){var AS=AT[0],AU=this.cfg,AY=this._oAnchor,AR=AU.getProperty(L),AZ=AJ,AW=AJ,AX=AJ;if(AS){if(AR){AZ=AN+AR+I;}if(AU.getProperty(A)){AW=a;AX=I;}if(AU.getProperty(N)){AW=W;AX=y;}AY.innerHTML=(AW+AS+AX+AZ);}},configHelpText:function(AT,AS,AR){this.cfg.refireEvent(AL);},configURL:function(AT,AS,AR){var AV=AS[0];if(!AV){AV=O;}var AU=this._oAnchor;if(k.opera){AU.removeAttribute(AE);}AU.setAttribute(AE,AV);},configTarget:function(AU,AT,AS){var AR=AT[0],AV=this._oAnchor;if(AR&&AR.length>0){AV.setAttribute(AH,AR);}else{AV.removeAttribute(AH);}},configEmphasis:function(AT,AS,AR){var AV=AS[0],AU=this.cfg;
if(AV&&AU.getProperty(N)){AU.setProperty(N,false);}AU.refireEvent(AL);},configStrongEmphasis:function(AU,AT,AS){var AR=AT[0],AV=this.cfg;if(AR&&AV.getProperty(A)){AV.setProperty(A,false);}AV.refireEvent(AL);},configChecked:function(AT,AS,AR){var AV=AS[0],AU=this.cfg;if(AV){g.call(this,b);}else{R.call(this,b);}AU.refireEvent(AL);if(AU.getProperty(H)){AU.refireEvent(H);}if(AU.getProperty(B)){AU.refireEvent(B);}},configDisabled:function(AT,AS,AR){var AV=AS[0],AW=this.cfg,AU=AW.getProperty(w),AX=AW.getProperty(b);if(AV){if(AW.getProperty(B)){AW.setProperty(B,false);}g.call(this,H);if(AU){g.call(this,AI);}if(AX){g.call(this,U);}}else{R.call(this,H);if(AU){R.call(this,AI);}if(AX){R.call(this,U);}}},configSelected:function(AT,AS,AR){var AX=this.cfg,AW=this._oAnchor,AV=AS[0],AY=AX.getProperty(b),AU=AX.getProperty(w);if(k.opera){AW.blur();}if(AV&&!AX.getProperty(H)){g.call(this,B);if(AU){g.call(this,AD);}if(AY){g.call(this,T);}}else{R.call(this,B);if(AU){R.call(this,AD);}if(AY){R.call(this,T);}}if(this.hasFocus()&&k.opera){AW.focus();}},_onSubmenuBeforeHide:function(AU,AT){var AV=this.parent,AR;function AS(){AV._oAnchor.blur();AR.beforeHideEvent.unsubscribe(AS);}if(AV.hasFocus()){AR=AV.parent;AR.beforeHideEvent.subscribe(AS);}},configSubmenu:function(AY,AT,AW){var AV=AT[0],AU=this.cfg,AS=this.parent&&this.parent.lazyLoad,AX,AZ,AR;if(AV){if(AV instanceof AB){AX=AV;AX.parent=this;AX.lazyLoad=AS;}else{if(AQ.isObject(AV)&&AV.id&&!AV.nodeType){AZ=AV.id;AR=AV;AR.lazyload=AS;AR.parent=this;AX=new this.SUBMENU_TYPE(AZ,AR);AU.setProperty(w,AX,true);}else{AX=new this.SUBMENU_TYPE(AV,{lazyload:AS,parent:this});AU.setProperty(w,AX,true);}}if(AX){AX.cfg.setProperty(Y,true);g.call(this,P);if(AU.getProperty(n)===O){AU.setProperty(n,(O+AX.id));}this._oSubmenu=AX;if(k.opera){AX.beforeHideEvent.subscribe(this._onSubmenuBeforeHide);}}}else{R.call(this,P);if(this._oSubmenu){this._oSubmenu.destroy();}}if(AU.getProperty(H)){AU.refireEvent(H);}if(AU.getProperty(B)){AU.refireEvent(B);}},configOnClick:function(AT,AS,AR){var AU=AS[0];if(this._oOnclickAttributeValue&&(this._oOnclickAttributeValue!=AU)){this.clickEvent.unsubscribe(this._oOnclickAttributeValue.fn,this._oOnclickAttributeValue.obj);this._oOnclickAttributeValue=null;}if(!this._oOnclickAttributeValue&&AQ.isObject(AU)&&AQ.isFunction(AU.fn)){this.clickEvent.subscribe(AU.fn,((h in AU)?AU.obj:this),((AG in AU)?AU.scope:null));this._oOnclickAttributeValue=AU;}},configClassName:function(AU,AT,AS){var AR=AT[0];if(this._sClassName){x.removeClass(this.element,this._sClassName);}x.addClass(this.element,AR);this._sClassName=AR;},_dispatchClickEvent:function(){var AT=this,AS,AR;if(!AT.cfg.getProperty(H)){AS=x.getFirstChild(AT.element);if(k.ie){AS.fireEvent(q);}else{if((k.gecko&&k.gecko>=1.9)||k.opera||k.webkit){AR=document.createEvent("HTMLEvents");AR.initEvent(AA,true,true);}else{AR=document.createEvent("MouseEvents");AR.initMouseEvent(AA,true,true,window,0,0,0,0,0,false,false,false,false,0,null);}AS.dispatchEvent(AR);}}},_createKeyListener:function(AU,AT,AW){var AV=this,AS=AV.parent;var AR=new YAHOO.util.KeyListener(AS.element.ownerDocument,AW,{fn:AV._dispatchClickEvent,scope:AV,correctScope:true});if(AS.cfg.getProperty(V)){AR.enable();}AS.subscribe(D,AR.enable,null,AR);AS.subscribe(M,AR.disable,null,AR);AV._keyListener=AR;AS.unsubscribe(D,AV._createKeyListener,AW);},configKeyListener:function(AT,AS){var AV=AS[0],AU=this,AR=AU.parent;if(AU._keyData){AR.unsubscribe(D,AU._createKeyListener,AU._keyData);AU._keyData=null;}if(AU._keyListener){AR.unsubscribe(D,AU._keyListener.enable);AR.unsubscribe(M,AU._keyListener.disable);AU._keyListener.disable();AU._keyListener=null;}if(AV){AU._keyData=AV;AR.subscribe(D,AU._createKeyListener,AV,AU);}},initDefaultConfig:function(){var AR=this.cfg;AR.addProperty(o.key,{handler:this.configText,value:o.value,validator:o.validator,suppressEvent:o.suppressEvent});AR.addProperty(s.key,{handler:this.configHelpText,supercedes:s.supercedes,suppressEvent:s.suppressEvent});AR.addProperty(G.key,{handler:this.configURL,value:G.value,suppressEvent:G.suppressEvent});AR.addProperty(AO.key,{handler:this.configTarget,suppressEvent:AO.suppressEvent});AR.addProperty(AP.key,{handler:this.configEmphasis,value:AP.value,validator:AP.validator,suppressEvent:AP.suppressEvent,supercedes:AP.supercedes});AR.addProperty(d.key,{handler:this.configStrongEmphasis,value:d.value,validator:d.validator,suppressEvent:d.suppressEvent,supercedes:d.supercedes});AR.addProperty(l.key,{handler:this.configChecked,value:l.value,validator:l.validator,suppressEvent:l.suppressEvent,supercedes:l.supercedes});AR.addProperty(AM.key,{handler:this.configDisabled,value:AM.value,validator:AM.validator,suppressEvent:AM.suppressEvent});AR.addProperty(f.key,{handler:this.configSelected,value:f.value,validator:f.validator,suppressEvent:f.suppressEvent});AR.addProperty(F.key,{handler:this.configSubmenu,supercedes:F.supercedes,suppressEvent:F.suppressEvent});AR.addProperty(u.key,{handler:this.configOnClick,suppressEvent:u.suppressEvent});AR.addProperty(AC.key,{handler:this.configClassName,value:AC.value,validator:AC.validator,suppressEvent:AC.suppressEvent});AR.addProperty(z.key,{handler:this.configKeyListener,value:z.value,suppressEvent:z.suppressEvent});},getNextEnabledSibling:function(){var AU,AX,AR,AW,AV,AS;function AT(AY,AZ){return AY[AZ]||AT(AY,(AZ+1));}if(this.parent instanceof AB){AU=this.groupIndex;AX=this.parent.getItemGroups();if(this.index<(AX[AU].length-1)){AR=AT(AX[AU],(this.index+1));}else{if(AU<(AX.length-1)){AW=AU+1;}else{AW=0;}AV=AT(AX,AW);AR=AT(AV,0);}AS=(AR.cfg.getProperty(H)||AR.element.style.display==t)?AR.getNextEnabledSibling():AR;}return AS;},getPreviousEnabledSibling:function(){var AW,AY,AS,AR,AV,AU;function AX(AZ,Aa){return AZ[Aa]||AX(AZ,(Aa-1));}function AT(AZ,Aa){return AZ[Aa]?Aa:AT(AZ,(Aa+1));}if(this.parent instanceof AB){AW=this.groupIndex;AY=this.parent.getItemGroups();if(this.index>AT(AY[AW],0)){AS=AX(AY[AW],(this.index-1));}else{if(AW>AT(AY,0)){AR=AW-1;}else{AR=AY.length-1;
}AV=AX(AY,AR);AS=AX(AV,(AV.length-1));}AU=(AS.cfg.getProperty(H)||AS.element.style.display==t)?AS.getPreviousEnabledSibling():AS;}return AU;},focus:function(){var AU=this.parent,AT=this._oAnchor,AR=AU.activeItem;function AS(){try{if(!(k.ie&&!document.hasFocus())){if(AR){AR.blurEvent.fire();}AT.focus();this.focusEvent.fire();}}catch(AV){}}if(!this.cfg.getProperty(H)&&AU&&AU.cfg.getProperty(V)&&this.element.style.display!=t){AQ.later(0,this,AS);}},blur:function(){var AR=this.parent;if(!this.cfg.getProperty(H)&&AR&&AR.cfg.getProperty(V)){AQ.later(0,this,function(){try{this._oAnchor.blur();this.blurEvent.fire();}catch(AS){}},0);}},hasFocus:function(){return(YAHOO.widget.MenuManager.getFocusedMenuItem()==this);},destroy:function(){var AT=this.element,AS,AR,AV,AU;if(AT){AS=this.cfg.getProperty(w);if(AS){AS.destroy();}AR=AT.parentNode;if(AR){AR.removeChild(AT);this.destroyEvent.fire();}AU=p.length-1;do{AV=p[AU];this[AV[0]].unsubscribeAll();}while(AU--);this.cfg.configChangedEvent.unsubscribeAll();}},toString:function(){var AS=m,AR=this.id;if(AR){AS+=(E+AR);}return AS;}};AQ.augmentProto(c,YAHOO.util.EventProvider);})();(function(){var B="xy",C="mousedown",F="ContextMenu",J=" ";YAHOO.widget.ContextMenu=function(L,K){YAHOO.widget.ContextMenu.superclass.constructor.call(this,L,K);};var I=YAHOO.util.Event,E=YAHOO.env.ua,G=YAHOO.widget.ContextMenu,A={"TRIGGER_CONTEXT_MENU":"triggerContextMenu","CONTEXT_MENU":(E.opera?C:"contextmenu"),"CLICK":"click"},H={key:"trigger",suppressEvent:true};function D(L,K,M){this.cfg.setProperty(B,M);this.beforeShowEvent.unsubscribe(D,M);}YAHOO.lang.extend(G,YAHOO.widget.Menu,{_oTrigger:null,_bCancelled:false,contextEventTarget:null,triggerContextMenuEvent:null,init:function(L,K){G.superclass.init.call(this,L);this.beforeInitEvent.fire(G);if(K){this.cfg.applyConfig(K,true);}this.initEvent.fire(G);},initEvents:function(){G.superclass.initEvents.call(this);this.triggerContextMenuEvent=this.createEvent(A.TRIGGER_CONTEXT_MENU);this.triggerContextMenuEvent.signature=YAHOO.util.CustomEvent.LIST;},cancel:function(){this._bCancelled=true;},_removeEventHandlers:function(){var K=this._oTrigger;if(K){I.removeListener(K,A.CONTEXT_MENU,this._onTriggerContextMenu);if(E.opera){I.removeListener(K,A.CLICK,this._onTriggerClick);}}},_onTriggerClick:function(L,K){if(L.ctrlKey){I.stopEvent(L);}},_onTriggerContextMenu:function(M,K){var L;if(!(M.type==C&&!M.ctrlKey)){this.contextEventTarget=I.getTarget(M);this.triggerContextMenuEvent.fire(M);if(!this._bCancelled){I.stopEvent(M);YAHOO.widget.MenuManager.hideVisible();L=I.getXY(M);if(!YAHOO.util.Dom.inDocument(this.element)){this.beforeShowEvent.subscribe(D,L);}else{this.cfg.setProperty(B,L);}this.show();}this._bCancelled=false;}},toString:function(){var L=F,K=this.id;if(K){L+=(J+K);}return L;},initDefaultConfig:function(){G.superclass.initDefaultConfig.call(this);this.cfg.addProperty(H.key,{handler:this.configTrigger,suppressEvent:H.suppressEvent});},destroy:function(){this._removeEventHandlers();G.superclass.destroy.call(this);},configTrigger:function(L,K,N){var M=K[0];if(M){if(this._oTrigger){this._removeEventHandlers();}this._oTrigger=M;I.on(M,A.CONTEXT_MENU,this._onTriggerContextMenu,this,true);if(E.opera){I.on(M,A.CLICK,this._onTriggerClick,this,true);}}else{this._removeEventHandlers();}}});}());YAHOO.widget.ContextMenuItem=YAHOO.widget.MenuItem;(function(){var D=YAHOO.lang,N="static",M="dynamic,"+N,A="disabled",F="selected",B="autosubmenudisplay",G="submenu",C="visible",Q=" ",H="submenutoggleregion",P="MenuBar";YAHOO.widget.MenuBar=function(T,S){YAHOO.widget.MenuBar.superclass.constructor.call(this,T,S);};function O(T){var S=false;if(D.isString(T)){S=(M.indexOf((T.toLowerCase()))!=-1);}return S;}var R=YAHOO.util.Event,L=YAHOO.widget.MenuBar,K={key:"position",value:N,validator:O,supercedes:[C]},E={key:"submenualignment",value:["tl","bl"]},J={key:B,value:false,validator:D.isBoolean,suppressEvent:true},I={key:H,value:false,validator:D.isBoolean};D.extend(L,YAHOO.widget.Menu,{init:function(T,S){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuBarItem;}L.superclass.init.call(this,T);this.beforeInitEvent.fire(L);if(S){this.cfg.applyConfig(S,true);}this.initEvent.fire(L);},CSS_CLASS_NAME:"yuimenubar",SUBMENU_TOGGLE_REGION_WIDTH:20,_onKeyDown:function(U,T,Y){var S=T[0],Z=T[1],W,X,V;if(Z&&!Z.cfg.getProperty(A)){X=Z.cfg;switch(S.keyCode){case 37:case 39:if(Z==this.activeItem&&!X.getProperty(F)){X.setProperty(F,true);}else{V=(S.keyCode==37)?Z.getPreviousEnabledSibling():Z.getNextEnabledSibling();if(V){this.clearActiveItem();V.cfg.setProperty(F,true);W=V.cfg.getProperty(G);if(W){W.show();W.setInitialFocus();}else{V.focus();}}}R.preventDefault(S);break;case 40:if(this.activeItem!=Z){this.clearActiveItem();X.setProperty(F,true);Z.focus();}W=X.getProperty(G);if(W){if(W.cfg.getProperty(C)){W.setInitialSelection();W.setInitialFocus();}else{W.show();W.setInitialFocus();}}R.preventDefault(S);break;}}if(S.keyCode==27&&this.activeItem){W=this.activeItem.cfg.getProperty(G);if(W&&W.cfg.getProperty(C)){W.hide();this.activeItem.focus();}else{this.activeItem.cfg.setProperty(F,false);this.activeItem.blur();}R.preventDefault(S);}},_onClick:function(e,Y,b){L.superclass._onClick.call(this,e,Y,b);var d=Y[1],T=true,S,f,U,W,Z,a,c,V;var X=function(){if(a.cfg.getProperty(C)){a.hide();}else{a.show();}};if(d&&!d.cfg.getProperty(A)){f=Y[0];U=R.getTarget(f);W=this.activeItem;Z=this.cfg;if(W&&W!=d){this.clearActiveItem();}d.cfg.setProperty(F,true);a=d.cfg.getProperty(G);if(a){S=d.element;c=YAHOO.util.Dom.getX(S);V=c+(S.offsetWidth-this.SUBMENU_TOGGLE_REGION_WIDTH);if(Z.getProperty(H)){if(R.getPageX(f)>V){X();R.preventDefault(f);T=false;}}else{X();}}}return T;},configSubmenuToggle:function(U,T){var S=T[0];if(S){this.cfg.setProperty(B,false);}},toString:function(){var T=P,S=this.id;if(S){T+=(Q+S);}return T;},initDefaultConfig:function(){L.superclass.initDefaultConfig.call(this);var S=this.cfg;S.addProperty(K.key,{handler:this.configPosition,value:K.value,validator:K.validator,supercedes:K.supercedes});
S.addProperty(E.key,{value:E.value,suppressEvent:E.suppressEvent});S.addProperty(J.key,{value:J.value,validator:J.validator,suppressEvent:J.suppressEvent});S.addProperty(I.key,{value:I.value,validator:I.validator,handler:this.configSubmenuToggle});}});}());YAHOO.widget.MenuBarItem=function(B,A){YAHOO.widget.MenuBarItem.superclass.constructor.call(this,B,A);};YAHOO.lang.extend(YAHOO.widget.MenuBarItem,YAHOO.widget.MenuItem,{init:function(B,A){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.Menu;}YAHOO.widget.MenuBarItem.superclass.init.call(this,B);var C=this.cfg;if(A){C.applyConfig(A,true);}C.fireQueue();},CSS_CLASS_NAME:"yuimenubaritem",CSS_LABEL_CLASS_NAME:"yuimenubaritemlabel",toString:function(){var A="MenuBarItem";if(this.cfg&&this.cfg.getProperty("text")){A+=(": "+this.cfg.getProperty("text"));}return A;}});YAHOO.register("menu",YAHOO.widget.Menu,{version:"2.7.0",build:"1799"});/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
YAHOO.lang.JSON=(function(){var l=YAHOO.lang,_UNICODE_EXCEPTIONS=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_ESCAPES=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,_VALUES=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_BRACKETS=/(?:^|:|,)(?:\s*\[)+/g,_INVALID=/^[\],:{}\s]*$/,_SPECIAL_CHARS=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_CHARS={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function _revive(data,reviver){var walk=function(o,key){var k,v,value=o[key];if(value&&typeof value==="object"){for(k in value){if(l.hasOwnProperty(value,k)){v=walk(value,k);if(v===undefined){delete value[k];}else{value[k]=v;}}}}return reviver.call(o,key,value);};return typeof reviver==="function"?walk({"":data},""):data;}function _char(c){if(!_CHARS[c]){_CHARS[c]="\\u"+("0000"+(+(c.charCodeAt(0))).toString(16)).slice(-4);}return _CHARS[c];}function _prepare(s){return s.replace(_UNICODE_EXCEPTIONS,_char);}function _isValid(str){return l.isString(str)&&_INVALID.test(str.replace(_ESCAPES,"@").replace(_VALUES,"]").replace(_BRACKETS,""));}function _string(s){return'"'+s.replace(_SPECIAL_CHARS,_char)+'"';}function _stringify(h,key,d,w,pstack){var o=typeof w==="function"?w.call(h,key,h[key]):h[key],i,len,j,k,v,isArray,a;if(o instanceof Date){o=l.JSON.dateToString(o);}else{if(o instanceof String||o instanceof Boolean||o instanceof Number){o=o.valueOf();}}switch(typeof o){case"string":return _string(o);case"number":return isFinite(o)?String(o):"null";case"boolean":return String(o);case"object":if(o===null){return"null";}for(i=pstack.length-1;i>=0;--i){if(pstack[i]===o){return"null";}}pstack[pstack.length]=o;a=[];isArray=l.isArray(o);if(d>0){if(isArray){for(i=o.length-1;i>=0;--i){a[i]=_stringify(o,i,d-1,w,pstack)||"null";}}else{j=0;if(l.isArray(w)){for(i=0,len=w.length;i<len;++i){k=w[i];v=_stringify(o,k,d-1,w,pstack);if(v){a[j++]=_string(k)+":"+v;}}}else{for(k in o){if(typeof k==="string"&&l.hasOwnProperty(o,k)){v=_stringify(o,k,d-1,w,pstack);if(v){a[j++]=_string(k)+":"+v;}}}}a.sort();}}pstack.pop();return isArray?"["+a.join(",")+"]":"{"+a.join(",")+"}";}return undefined;}return{isValid:function(s){return _isValid(_prepare(s));},parse:function(s,reviver){s=_prepare(s);if(_isValid(s)){return _revive(eval("("+s+")"),reviver);}throw new SyntaxError("parseJSON");},stringify:function(o,w,d){if(o!==undefined){if(l.isArray(w)){w=(function(a){var uniq=[],map={},v,i,j,len;for(i=0,j=0,len=a.length;i<len;++i){v=a[i];if(typeof v==="string"&&map[v]===undefined){uniq[(map[v]=j++)]=v;}}return uniq;})(w);}d=d>=0?d:1/0;return _stringify({"":o},"",d,w,[]);}return undefined;},dateToString:function(d){function _zeroPad(v){return v<10?"0"+v:v;}return d.getUTCFullYear()+"-"+_zeroPad(d.getUTCMonth()+1)+"-"+_zeroPad(d.getUTCDate())+"T"+_zeroPad(d.getUTCHours())+":"+_zeroPad(d.getUTCMinutes())+":"+_zeroPad(d.getUTCSeconds())+"Z";},stringToDate:function(str){if(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})Z$/.test(str)){var d=new Date();d.setUTCFullYear(RegExp.$1,(RegExp.$2|0)-1,RegExp.$3);d.setUTCHours(RegExp.$4,RegExp.$5,RegExp.$6);return d;}return str;}};})();YAHOO.register("json",YAHOO.lang.JSON,{version:"2.7.0",build:"1799"});/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
(function(){YAHOO.util.Config=function(D){if(D){this.init(D);}};var B=YAHOO.lang,C=YAHOO.util.CustomEvent,A=YAHOO.util.Config;A.CONFIG_CHANGED_EVENT="configChanged";A.BOOLEAN_TYPE="boolean";A.prototype={owner:null,queueInProgress:false,config:null,initialConfig:null,eventQueue:null,configChangedEvent:null,init:function(D){this.owner=D;this.configChangedEvent=this.createEvent(A.CONFIG_CHANGED_EVENT);this.configChangedEvent.signature=C.LIST;this.queueInProgress=false;this.config={};this.initialConfig={};this.eventQueue=[];},checkBoolean:function(D){return(typeof D==A.BOOLEAN_TYPE);},checkNumber:function(D){return(!isNaN(D));},fireEvent:function(D,F){var E=this.config[D];if(E&&E.event){E.event.fire(F);}},addProperty:function(E,D){E=E.toLowerCase();this.config[E]=D;D.event=this.createEvent(E,{scope:this.owner});D.event.signature=C.LIST;D.key=E;if(D.handler){D.event.subscribe(D.handler,this.owner);}this.setProperty(E,D.value,true);if(!D.suppressEvent){this.queueProperty(E,D.value);}},getConfig:function(){var D={},F=this.config,G,E;for(G in F){if(B.hasOwnProperty(F,G)){E=F[G];if(E&&E.event){D[G]=E.value;}}}return D;},getProperty:function(D){var E=this.config[D.toLowerCase()];if(E&&E.event){return E.value;}else{return undefined;}},resetProperty:function(D){D=D.toLowerCase();var E=this.config[D];if(E&&E.event){if(this.initialConfig[D]&&!B.isUndefined(this.initialConfig[D])){this.setProperty(D,this.initialConfig[D]);return true;}}else{return false;}},setProperty:function(E,G,D){var F;E=E.toLowerCase();if(this.queueInProgress&&!D){this.queueProperty(E,G);return true;}else{F=this.config[E];if(F&&F.event){if(F.validator&&!F.validator(G)){return false;}else{F.value=G;if(!D){this.fireEvent(E,G);this.configChangedEvent.fire([E,G]);}return true;}}else{return false;}}},queueProperty:function(S,P){S=S.toLowerCase();var R=this.config[S],K=false,J,G,H,I,O,Q,F,M,N,D,L,T,E;if(R&&R.event){if(!B.isUndefined(P)&&R.validator&&!R.validator(P)){return false;}else{if(!B.isUndefined(P)){R.value=P;}else{P=R.value;}K=false;J=this.eventQueue.length;for(L=0;L<J;L++){G=this.eventQueue[L];if(G){H=G[0];I=G[1];if(H==S){this.eventQueue[L]=null;this.eventQueue.push([S,(!B.isUndefined(P)?P:I)]);K=true;break;}}}if(!K&&!B.isUndefined(P)){this.eventQueue.push([S,P]);}}if(R.supercedes){O=R.supercedes.length;for(T=0;T<O;T++){Q=R.supercedes[T];F=this.eventQueue.length;for(E=0;E<F;E++){M=this.eventQueue[E];if(M){N=M[0];D=M[1];if(N==Q.toLowerCase()){this.eventQueue.push([N,D]);this.eventQueue[E]=null;break;}}}}}return true;}else{return false;}},refireEvent:function(D){D=D.toLowerCase();var E=this.config[D];if(E&&E.event&&!B.isUndefined(E.value)){if(this.queueInProgress){this.queueProperty(D);}else{this.fireEvent(D,E.value);}}},applyConfig:function(D,G){var F,E;if(G){E={};for(F in D){if(B.hasOwnProperty(D,F)){E[F.toLowerCase()]=D[F];}}this.initialConfig=E;}for(F in D){if(B.hasOwnProperty(D,F)){this.queueProperty(F,D[F]);}}},refresh:function(){var D;for(D in this.config){if(B.hasOwnProperty(this.config,D)){this.refireEvent(D);}}},fireQueue:function(){var E,H,D,G,F;this.queueInProgress=true;for(E=0;E<this.eventQueue.length;E++){H=this.eventQueue[E];if(H){D=H[0];G=H[1];F=this.config[D];F.value=G;this.eventQueue[E]=null;this.fireEvent(D,G);}}this.queueInProgress=false;this.eventQueue=[];},subscribeToConfigEvent:function(E,F,H,D){var G=this.config[E.toLowerCase()];if(G&&G.event){if(!A.alreadySubscribed(G.event,F,H)){G.event.subscribe(F,H,D);}return true;}else{return false;}},unsubscribeFromConfigEvent:function(D,E,G){var F=this.config[D.toLowerCase()];if(F&&F.event){return F.event.unsubscribe(E,G);}else{return false;}},toString:function(){var D="Config";if(this.owner){D+=" ["+this.owner.toString()+"]";}return D;},outputEventQueue:function(){var D="",G,E,F=this.eventQueue.length;for(E=0;E<F;E++){G=this.eventQueue[E];if(G){D+=G[0]+"="+G[1]+", ";}}return D;},destroy:function(){var E=this.config,D,F;for(D in E){if(B.hasOwnProperty(E,D)){F=E[D];F.event.unsubscribeAll();F.event=null;}}this.configChangedEvent.unsubscribeAll();this.configChangedEvent=null;this.owner=null;this.config=null;this.initialConfig=null;this.eventQueue=null;}};A.alreadySubscribed=function(E,H,I){var F=E.subscribers.length,D,G;if(F>0){G=F-1;do{D=E.subscribers[G];if(D&&D.obj==I&&D.fn==H){return true;}}while(G--);}return false;};YAHOO.lang.augmentProto(A,YAHOO.util.EventProvider);}());YAHOO.widget.DateMath={DAY:"D",WEEK:"W",YEAR:"Y",MONTH:"M",ONE_DAY_MS:1000*60*60*24,WEEK_ONE_JAN_DATE:1,add:function(A,D,C){var F=new Date(A.getTime());switch(D){case this.MONTH:var E=A.getMonth()+C;var B=0;if(E<0){while(E<0){E+=12;B-=1;}}else{if(E>11){while(E>11){E-=12;B+=1;}}}F.setMonth(E);F.setFullYear(A.getFullYear()+B);break;case this.DAY:this._addDays(F,C);break;case this.YEAR:F.setFullYear(A.getFullYear()+C);break;case this.WEEK:this._addDays(F,(C*7));break;}return F;},_addDays:function(D,C){if(YAHOO.env.ua.webkit&&YAHOO.env.ua.webkit<420){if(C<0){for(var B=-128;C<B;C-=B){D.setDate(D.getDate()+B);}}else{for(var A=96;C>A;C-=A){D.setDate(D.getDate()+A);}}}D.setDate(D.getDate()+C);},subtract:function(A,C,B){return this.add(A,C,(B*-1));},before:function(C,B){var A=B.getTime();if(C.getTime()<A){return true;}else{return false;}},after:function(C,B){var A=B.getTime();if(C.getTime()>A){return true;}else{return false;}},between:function(B,A,C){if(this.after(B,A)&&this.before(B,C)){return true;}else{return false;}},getJan1:function(A){return this.getDate(A,0,1);},getDayOffset:function(B,D){var C=this.getJan1(D);var A=Math.ceil((B.getTime()-C.getTime())/this.ONE_DAY_MS);return A;},getWeekNumber:function(E,B,H){B=B||0;H=H||this.WEEK_ONE_JAN_DATE;var I=this.clearTime(E),M,N;if(I.getDay()===B){M=I;}else{M=this.getFirstDayOfWeek(I,B);}var J=M.getFullYear(),C=M.getTime();N=new Date(M.getTime()+6*this.ONE_DAY_MS);var G;if(J!==N.getFullYear()&&N.getDate()>=H){G=1;}else{var F=this.clearTime(this.getDate(J,0,H)),A=this.getFirstDayOfWeek(F,B);var K=Math.round((I.getTime()-A.getTime())/this.ONE_DAY_MS);var L=K%7;
var D=(K-L)/7;G=D+1;}return G;},getFirstDayOfWeek:function(D,A){A=A||0;var B=D.getDay(),C=(B-A+7)%7;return this.subtract(D,this.DAY,C);},isYearOverlapWeek:function(A){var C=false;var B=this.add(A,this.DAY,6);if(B.getFullYear()!=A.getFullYear()){C=true;}return C;},isMonthOverlapWeek:function(A){var C=false;var B=this.add(A,this.DAY,6);if(B.getMonth()!=A.getMonth()){C=true;}return C;},findMonthStart:function(A){var B=this.getDate(A.getFullYear(),A.getMonth(),1);return B;},findMonthEnd:function(B){var D=this.findMonthStart(B);var C=this.add(D,this.MONTH,1);var A=this.subtract(C,this.DAY,1);return A;},clearTime:function(A){A.setHours(12,0,0,0);return A;},getDate:function(D,A,C){var B=null;if(YAHOO.lang.isUndefined(C)){C=1;}if(D>=100){B=new Date(D,A,C);}else{B=new Date();B.setFullYear(D);B.setMonth(A);B.setDate(C);B.setHours(0,0,0,0);}return B;}};(function(){var C=YAHOO.util.Dom,A=YAHOO.util.Event,E=YAHOO.lang,D=YAHOO.widget.DateMath;function F(I,G,H){this.init.apply(this,arguments);}F.IMG_ROOT=null;F.DATE="D";F.MONTH_DAY="MD";F.WEEKDAY="WD";F.RANGE="R";F.MONTH="M";F.DISPLAY_DAYS=42;F.STOP_RENDER="S";F.SHORT="short";F.LONG="long";F.MEDIUM="medium";F.ONE_CHAR="1char";F._DEFAULT_CONFIG={PAGEDATE:{key:"pagedate",value:null},SELECTED:{key:"selected",value:null},TITLE:{key:"title",value:""},CLOSE:{key:"close",value:false},IFRAME:{key:"iframe",value:(YAHOO.env.ua.ie&&YAHOO.env.ua.ie<=6)?true:false},MINDATE:{key:"mindate",value:null},MAXDATE:{key:"maxdate",value:null},MULTI_SELECT:{key:"multi_select",value:false},START_WEEKDAY:{key:"start_weekday",value:0},SHOW_WEEKDAYS:{key:"show_weekdays",value:true},SHOW_WEEK_HEADER:{key:"show_week_header",value:false},SHOW_WEEK_FOOTER:{key:"show_week_footer",value:false},HIDE_BLANK_WEEKS:{key:"hide_blank_weeks",value:false},NAV_ARROW_LEFT:{key:"nav_arrow_left",value:null},NAV_ARROW_RIGHT:{key:"nav_arrow_right",value:null},MONTHS_SHORT:{key:"months_short",value:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},MONTHS_LONG:{key:"months_long",value:["January","February","March","April","May","June","July","August","September","October","November","December"]},WEEKDAYS_1CHAR:{key:"weekdays_1char",value:["S","M","T","W","T","F","S"]},WEEKDAYS_SHORT:{key:"weekdays_short",value:["Su","Mo","Tu","We","Th","Fr","Sa"]},WEEKDAYS_MEDIUM:{key:"weekdays_medium",value:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},WEEKDAYS_LONG:{key:"weekdays_long",value:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},LOCALE_MONTHS:{key:"locale_months",value:"long"},LOCALE_WEEKDAYS:{key:"locale_weekdays",value:"short"},DATE_DELIMITER:{key:"date_delimiter",value:","},DATE_FIELD_DELIMITER:{key:"date_field_delimiter",value:"/"},DATE_RANGE_DELIMITER:{key:"date_range_delimiter",value:"-"},MY_MONTH_POSITION:{key:"my_month_position",value:1},MY_YEAR_POSITION:{key:"my_year_position",value:2},MD_MONTH_POSITION:{key:"md_month_position",value:1},MD_DAY_POSITION:{key:"md_day_position",value:2},MDY_MONTH_POSITION:{key:"mdy_month_position",value:1},MDY_DAY_POSITION:{key:"mdy_day_position",value:2},MDY_YEAR_POSITION:{key:"mdy_year_position",value:3},MY_LABEL_MONTH_POSITION:{key:"my_label_month_position",value:1},MY_LABEL_YEAR_POSITION:{key:"my_label_year_position",value:2},MY_LABEL_MONTH_SUFFIX:{key:"my_label_month_suffix",value:" "},MY_LABEL_YEAR_SUFFIX:{key:"my_label_year_suffix",value:""},NAV:{key:"navigator",value:null},STRINGS:{key:"strings",value:{previousMonth:"Previous Month",nextMonth:"Next Month",close:"Close"},supercedes:["close","title"]}};var B=F._DEFAULT_CONFIG;F._EVENT_TYPES={BEFORE_SELECT:"beforeSelect",SELECT:"select",BEFORE_DESELECT:"beforeDeselect",DESELECT:"deselect",CHANGE_PAGE:"changePage",BEFORE_RENDER:"beforeRender",RENDER:"render",BEFORE_DESTROY:"beforeDestroy",DESTROY:"destroy",RESET:"reset",CLEAR:"clear",BEFORE_HIDE:"beforeHide",HIDE:"hide",BEFORE_SHOW:"beforeShow",SHOW:"show",BEFORE_HIDE_NAV:"beforeHideNav",HIDE_NAV:"hideNav",BEFORE_SHOW_NAV:"beforeShowNav",SHOW_NAV:"showNav",BEFORE_RENDER_NAV:"beforeRenderNav",RENDER_NAV:"renderNav"};F._STYLES={CSS_ROW_HEADER:"calrowhead",CSS_ROW_FOOTER:"calrowfoot",CSS_CELL:"calcell",CSS_CELL_SELECTOR:"selector",CSS_CELL_SELECTED:"selected",CSS_CELL_SELECTABLE:"selectable",CSS_CELL_RESTRICTED:"restricted",CSS_CELL_TODAY:"today",CSS_CELL_OOM:"oom",CSS_CELL_OOB:"previous",CSS_HEADER:"calheader",CSS_HEADER_TEXT:"calhead",CSS_BODY:"calbody",CSS_WEEKDAY_CELL:"calweekdaycell",CSS_WEEKDAY_ROW:"calweekdayrow",CSS_FOOTER:"calfoot",CSS_CALENDAR:"yui-calendar",CSS_SINGLE:"single",CSS_CONTAINER:"yui-calcontainer",CSS_NAV_LEFT:"calnavleft",CSS_NAV_RIGHT:"calnavright",CSS_NAV:"calnav",CSS_CLOSE:"calclose",CSS_CELL_TOP:"calcelltop",CSS_CELL_LEFT:"calcellleft",CSS_CELL_RIGHT:"calcellright",CSS_CELL_BOTTOM:"calcellbottom",CSS_CELL_HOVER:"calcellhover",CSS_CELL_HIGHLIGHT1:"highlight1",CSS_CELL_HIGHLIGHT2:"highlight2",CSS_CELL_HIGHLIGHT3:"highlight3",CSS_CELL_HIGHLIGHT4:"highlight4"};F.prototype={Config:null,parent:null,index:-1,cells:null,cellDates:null,id:null,containerId:null,oDomContainer:null,today:null,renderStack:null,_renderStack:null,oNavigator:null,_selectedDates:null,domEventMap:null,_parseArgs:function(H){var G={id:null,container:null,config:null};if(H&&H.length&&H.length>0){switch(H.length){case 1:G.id=null;G.container=H[0];G.config=null;break;case 2:if(E.isObject(H[1])&&!H[1].tagName&&!(H[1] instanceof String)){G.id=null;G.container=H[0];G.config=H[1];}else{G.id=H[0];G.container=H[1];G.config=null;}break;default:G.id=H[0];G.container=H[1];G.config=H[2];break;}}else{}return G;},init:function(J,H,I){var G=this._parseArgs(arguments);J=G.id;H=G.container;I=G.config;this.oDomContainer=C.get(H);if(!this.oDomContainer.id){this.oDomContainer.id=C.generateId();}if(!J){J=this.oDomContainer.id+"_t";}this.id=J;this.containerId=this.oDomContainer.id;this.initEvents();this.today=new Date();D.clearTime(this.today);this.cfg=new YAHOO.util.Config(this);this.Options={};this.Locale={};this.initStyles();C.addClass(this.oDomContainer,this.Style.CSS_CONTAINER);
C.addClass(this.oDomContainer,this.Style.CSS_SINGLE);this.cellDates=[];this.cells=[];this.renderStack=[];this._renderStack=[];this.setupConfig();if(I){this.cfg.applyConfig(I,true);}this.cfg.fireQueue();},configIframe:function(I,H,J){var G=H[0];if(!this.parent){if(C.inDocument(this.oDomContainer)){if(G){var K=C.getStyle(this.oDomContainer,"position");if(K=="absolute"||K=="relative"){if(!C.inDocument(this.iframe)){this.iframe=document.createElement("iframe");this.iframe.src="javascript:false;";C.setStyle(this.iframe,"opacity","0");if(YAHOO.env.ua.ie&&YAHOO.env.ua.ie<=6){C.addClass(this.iframe,"fixedsize");}this.oDomContainer.insertBefore(this.iframe,this.oDomContainer.firstChild);}}}else{if(this.iframe){if(this.iframe.parentNode){this.iframe.parentNode.removeChild(this.iframe);}this.iframe=null;}}}}},configTitle:function(H,G,I){var K=G[0];if(K){this.createTitleBar(K);}else{var J=this.cfg.getProperty(B.CLOSE.key);if(!J){this.removeTitleBar();}else{this.createTitleBar("&#160;");}}},configClose:function(H,G,I){var K=G[0],J=this.cfg.getProperty(B.TITLE.key);if(K){if(!J){this.createTitleBar("&#160;");}this.createCloseButton();}else{this.removeCloseButton();if(!J){this.removeTitleBar();}}},initEvents:function(){var G=F._EVENT_TYPES,I=YAHOO.util.CustomEvent,H=this;H.beforeSelectEvent=new I(G.BEFORE_SELECT);H.selectEvent=new I(G.SELECT);H.beforeDeselectEvent=new I(G.BEFORE_DESELECT);H.deselectEvent=new I(G.DESELECT);H.changePageEvent=new I(G.CHANGE_PAGE);H.beforeRenderEvent=new I(G.BEFORE_RENDER);H.renderEvent=new I(G.RENDER);H.beforeDestroyEvent=new I(G.BEFORE_DESTROY);H.destroyEvent=new I(G.DESTROY);H.resetEvent=new I(G.RESET);H.clearEvent=new I(G.CLEAR);H.beforeShowEvent=new I(G.BEFORE_SHOW);H.showEvent=new I(G.SHOW);H.beforeHideEvent=new I(G.BEFORE_HIDE);H.hideEvent=new I(G.HIDE);H.beforeShowNavEvent=new I(G.BEFORE_SHOW_NAV);H.showNavEvent=new I(G.SHOW_NAV);H.beforeHideNavEvent=new I(G.BEFORE_HIDE_NAV);H.hideNavEvent=new I(G.HIDE_NAV);H.beforeRenderNavEvent=new I(G.BEFORE_RENDER_NAV);H.renderNavEvent=new I(G.RENDER_NAV);H.beforeSelectEvent.subscribe(H.onBeforeSelect,this,true);H.selectEvent.subscribe(H.onSelect,this,true);H.beforeDeselectEvent.subscribe(H.onBeforeDeselect,this,true);H.deselectEvent.subscribe(H.onDeselect,this,true);H.changePageEvent.subscribe(H.onChangePage,this,true);H.renderEvent.subscribe(H.onRender,this,true);H.resetEvent.subscribe(H.onReset,this,true);H.clearEvent.subscribe(H.onClear,this,true);},doPreviousMonthNav:function(H,G){A.preventDefault(H);setTimeout(function(){G.previousMonth();var I=C.getElementsByClassName(G.Style.CSS_NAV_LEFT,"a",G.oDomContainer);if(I&&I[0]){try{I[0].focus();}catch(J){}}},0);},doNextMonthNav:function(H,G){A.preventDefault(H);setTimeout(function(){G.nextMonth();var I=C.getElementsByClassName(G.Style.CSS_NAV_RIGHT,"a",G.oDomContainer);if(I&&I[0]){try{I[0].focus();}catch(J){}}},0);},doSelectCell:function(M,G){var R,O,I,L;var N=A.getTarget(M),H=N.tagName.toLowerCase(),K=false;while(H!="td"&&!C.hasClass(N,G.Style.CSS_CELL_SELECTABLE)){if(!K&&H=="a"&&C.hasClass(N,G.Style.CSS_CELL_SELECTOR)){K=true;}N=N.parentNode;H=N.tagName.toLowerCase();if(N==this.oDomContainer||H=="html"){return;}}if(K){A.preventDefault(M);}R=N;if(C.hasClass(R,G.Style.CSS_CELL_SELECTABLE)){L=G.getIndexFromId(R.id);if(L>-1){O=G.cellDates[L];if(O){I=D.getDate(O[0],O[1]-1,O[2]);var Q;if(G.Options.MULTI_SELECT){Q=R.getElementsByTagName("a")[0];if(Q){Q.blur();}var J=G.cellDates[L];var P=G._indexOfSelectedFieldArray(J);if(P>-1){G.deselectCell(L);}else{G.selectCell(L);}}else{Q=R.getElementsByTagName("a")[0];if(Q){Q.blur();}G.selectCell(L);}}}}},doCellMouseOver:function(I,H){var G;if(I){G=A.getTarget(I);}else{G=this;}while(G.tagName&&G.tagName.toLowerCase()!="td"){G=G.parentNode;if(!G.tagName||G.tagName.toLowerCase()=="html"){return;}}if(C.hasClass(G,H.Style.CSS_CELL_SELECTABLE)){C.addClass(G,H.Style.CSS_CELL_HOVER);}},doCellMouseOut:function(I,H){var G;if(I){G=A.getTarget(I);}else{G=this;}while(G.tagName&&G.tagName.toLowerCase()!="td"){G=G.parentNode;if(!G.tagName||G.tagName.toLowerCase()=="html"){return;}}if(C.hasClass(G,H.Style.CSS_CELL_SELECTABLE)){C.removeClass(G,H.Style.CSS_CELL_HOVER);}},setupConfig:function(){var G=this.cfg;G.addProperty(B.PAGEDATE.key,{value:new Date(),handler:this.configPageDate});G.addProperty(B.SELECTED.key,{value:[],handler:this.configSelected});G.addProperty(B.TITLE.key,{value:B.TITLE.value,handler:this.configTitle});G.addProperty(B.CLOSE.key,{value:B.CLOSE.value,handler:this.configClose});G.addProperty(B.IFRAME.key,{value:B.IFRAME.value,handler:this.configIframe,validator:G.checkBoolean});G.addProperty(B.MINDATE.key,{value:B.MINDATE.value,handler:this.configMinDate});G.addProperty(B.MAXDATE.key,{value:B.MAXDATE.value,handler:this.configMaxDate});G.addProperty(B.MULTI_SELECT.key,{value:B.MULTI_SELECT.value,handler:this.configOptions,validator:G.checkBoolean});G.addProperty(B.START_WEEKDAY.key,{value:B.START_WEEKDAY.value,handler:this.configOptions,validator:G.checkNumber});G.addProperty(B.SHOW_WEEKDAYS.key,{value:B.SHOW_WEEKDAYS.value,handler:this.configOptions,validator:G.checkBoolean});G.addProperty(B.SHOW_WEEK_HEADER.key,{value:B.SHOW_WEEK_HEADER.value,handler:this.configOptions,validator:G.checkBoolean});G.addProperty(B.SHOW_WEEK_FOOTER.key,{value:B.SHOW_WEEK_FOOTER.value,handler:this.configOptions,validator:G.checkBoolean});G.addProperty(B.HIDE_BLANK_WEEKS.key,{value:B.HIDE_BLANK_WEEKS.value,handler:this.configOptions,validator:G.checkBoolean});G.addProperty(B.NAV_ARROW_LEFT.key,{value:B.NAV_ARROW_LEFT.value,handler:this.configOptions});G.addProperty(B.NAV_ARROW_RIGHT.key,{value:B.NAV_ARROW_RIGHT.value,handler:this.configOptions});G.addProperty(B.MONTHS_SHORT.key,{value:B.MONTHS_SHORT.value,handler:this.configLocale});G.addProperty(B.MONTHS_LONG.key,{value:B.MONTHS_LONG.value,handler:this.configLocale});G.addProperty(B.WEEKDAYS_1CHAR.key,{value:B.WEEKDAYS_1CHAR.value,handler:this.configLocale});G.addProperty(B.WEEKDAYS_SHORT.key,{value:B.WEEKDAYS_SHORT.value,handler:this.configLocale});
G.addProperty(B.WEEKDAYS_MEDIUM.key,{value:B.WEEKDAYS_MEDIUM.value,handler:this.configLocale});G.addProperty(B.WEEKDAYS_LONG.key,{value:B.WEEKDAYS_LONG.value,handler:this.configLocale});var H=function(){G.refireEvent(B.LOCALE_MONTHS.key);G.refireEvent(B.LOCALE_WEEKDAYS.key);};G.subscribeToConfigEvent(B.START_WEEKDAY.key,H,this,true);G.subscribeToConfigEvent(B.MONTHS_SHORT.key,H,this,true);G.subscribeToConfigEvent(B.MONTHS_LONG.key,H,this,true);G.subscribeToConfigEvent(B.WEEKDAYS_1CHAR.key,H,this,true);G.subscribeToConfigEvent(B.WEEKDAYS_SHORT.key,H,this,true);G.subscribeToConfigEvent(B.WEEKDAYS_MEDIUM.key,H,this,true);G.subscribeToConfigEvent(B.WEEKDAYS_LONG.key,H,this,true);G.addProperty(B.LOCALE_MONTHS.key,{value:B.LOCALE_MONTHS.value,handler:this.configLocaleValues});G.addProperty(B.LOCALE_WEEKDAYS.key,{value:B.LOCALE_WEEKDAYS.value,handler:this.configLocaleValues});G.addProperty(B.DATE_DELIMITER.key,{value:B.DATE_DELIMITER.value,handler:this.configLocale});G.addProperty(B.DATE_FIELD_DELIMITER.key,{value:B.DATE_FIELD_DELIMITER.value,handler:this.configLocale});G.addProperty(B.DATE_RANGE_DELIMITER.key,{value:B.DATE_RANGE_DELIMITER.value,handler:this.configLocale});G.addProperty(B.MY_MONTH_POSITION.key,{value:B.MY_MONTH_POSITION.value,handler:this.configLocale,validator:G.checkNumber});G.addProperty(B.MY_YEAR_POSITION.key,{value:B.MY_YEAR_POSITION.value,handler:this.configLocale,validator:G.checkNumber});G.addProperty(B.MD_MONTH_POSITION.key,{value:B.MD_MONTH_POSITION.value,handler:this.configLocale,validator:G.checkNumber});G.addProperty(B.MD_DAY_POSITION.key,{value:B.MD_DAY_POSITION.value,handler:this.configLocale,validator:G.checkNumber});G.addProperty(B.MDY_MONTH_POSITION.key,{value:B.MDY_MONTH_POSITION.value,handler:this.configLocale,validator:G.checkNumber});G.addProperty(B.MDY_DAY_POSITION.key,{value:B.MDY_DAY_POSITION.value,handler:this.configLocale,validator:G.checkNumber});G.addProperty(B.MDY_YEAR_POSITION.key,{value:B.MDY_YEAR_POSITION.value,handler:this.configLocale,validator:G.checkNumber});G.addProperty(B.MY_LABEL_MONTH_POSITION.key,{value:B.MY_LABEL_MONTH_POSITION.value,handler:this.configLocale,validator:G.checkNumber});G.addProperty(B.MY_LABEL_YEAR_POSITION.key,{value:B.MY_LABEL_YEAR_POSITION.value,handler:this.configLocale,validator:G.checkNumber});G.addProperty(B.MY_LABEL_MONTH_SUFFIX.key,{value:B.MY_LABEL_MONTH_SUFFIX.value,handler:this.configLocale});G.addProperty(B.MY_LABEL_YEAR_SUFFIX.key,{value:B.MY_LABEL_YEAR_SUFFIX.value,handler:this.configLocale});G.addProperty(B.NAV.key,{value:B.NAV.value,handler:this.configNavigator});G.addProperty(B.STRINGS.key,{value:B.STRINGS.value,handler:this.configStrings,validator:function(I){return E.isObject(I);},supercedes:B.STRINGS.supercedes});},configStrings:function(H,G,I){var J=E.merge(B.STRINGS.value,G[0]);this.cfg.setProperty(B.STRINGS.key,J,true);},configPageDate:function(H,G,I){this.cfg.setProperty(B.PAGEDATE.key,this._parsePageDate(G[0]),true);},configMinDate:function(H,G,I){var J=G[0];if(E.isString(J)){J=this._parseDate(J);this.cfg.setProperty(B.MINDATE.key,D.getDate(J[0],(J[1]-1),J[2]));}},configMaxDate:function(H,G,I){var J=G[0];if(E.isString(J)){J=this._parseDate(J);this.cfg.setProperty(B.MAXDATE.key,D.getDate(J[0],(J[1]-1),J[2]));}},configSelected:function(I,G,K){var H=G[0],J=B.SELECTED.key;if(H){if(E.isString(H)){this.cfg.setProperty(J,this._parseDates(H),true);}}if(!this._selectedDates){this._selectedDates=this.cfg.getProperty(J);}},configOptions:function(H,G,I){this.Options[H.toUpperCase()]=G[0];},configLocale:function(H,G,I){this.Locale[H.toUpperCase()]=G[0];this.cfg.refireEvent(B.LOCALE_MONTHS.key);this.cfg.refireEvent(B.LOCALE_WEEKDAYS.key);},configLocaleValues:function(J,I,K){J=J.toLowerCase();var M=I[0],H=this.cfg,N=this.Locale;switch(J){case B.LOCALE_MONTHS.key:switch(M){case F.SHORT:N.LOCALE_MONTHS=H.getProperty(B.MONTHS_SHORT.key).concat();break;case F.LONG:N.LOCALE_MONTHS=H.getProperty(B.MONTHS_LONG.key).concat();break;}break;case B.LOCALE_WEEKDAYS.key:switch(M){case F.ONE_CHAR:N.LOCALE_WEEKDAYS=H.getProperty(B.WEEKDAYS_1CHAR.key).concat();break;case F.SHORT:N.LOCALE_WEEKDAYS=H.getProperty(B.WEEKDAYS_SHORT.key).concat();break;case F.MEDIUM:N.LOCALE_WEEKDAYS=H.getProperty(B.WEEKDAYS_MEDIUM.key).concat();break;case F.LONG:N.LOCALE_WEEKDAYS=H.getProperty(B.WEEKDAYS_LONG.key).concat();break;}var L=H.getProperty(B.START_WEEKDAY.key);if(L>0){for(var G=0;G<L;++G){N.LOCALE_WEEKDAYS.push(N.LOCALE_WEEKDAYS.shift());}}break;}},configNavigator:function(H,G,I){var J=G[0];if(YAHOO.widget.CalendarNavigator&&(J===true||E.isObject(J))){if(!this.oNavigator){this.oNavigator=new YAHOO.widget.CalendarNavigator(this);this.beforeRenderEvent.subscribe(function(){if(!this.pages){this.oNavigator.erase();}},this,true);}}else{if(this.oNavigator){this.oNavigator.destroy();this.oNavigator=null;}}},initStyles:function(){var G=F._STYLES;this.Style={CSS_ROW_HEADER:G.CSS_ROW_HEADER,CSS_ROW_FOOTER:G.CSS_ROW_FOOTER,CSS_CELL:G.CSS_CELL,CSS_CELL_SELECTOR:G.CSS_CELL_SELECTOR,CSS_CELL_SELECTED:G.CSS_CELL_SELECTED,CSS_CELL_SELECTABLE:G.CSS_CELL_SELECTABLE,CSS_CELL_RESTRICTED:G.CSS_CELL_RESTRICTED,CSS_CELL_TODAY:G.CSS_CELL_TODAY,CSS_CELL_OOM:G.CSS_CELL_OOM,CSS_CELL_OOB:G.CSS_CELL_OOB,CSS_HEADER:G.CSS_HEADER,CSS_HEADER_TEXT:G.CSS_HEADER_TEXT,CSS_BODY:G.CSS_BODY,CSS_WEEKDAY_CELL:G.CSS_WEEKDAY_CELL,CSS_WEEKDAY_ROW:G.CSS_WEEKDAY_ROW,CSS_FOOTER:G.CSS_FOOTER,CSS_CALENDAR:G.CSS_CALENDAR,CSS_SINGLE:G.CSS_SINGLE,CSS_CONTAINER:G.CSS_CONTAINER,CSS_NAV_LEFT:G.CSS_NAV_LEFT,CSS_NAV_RIGHT:G.CSS_NAV_RIGHT,CSS_NAV:G.CSS_NAV,CSS_CLOSE:G.CSS_CLOSE,CSS_CELL_TOP:G.CSS_CELL_TOP,CSS_CELL_LEFT:G.CSS_CELL_LEFT,CSS_CELL_RIGHT:G.CSS_CELL_RIGHT,CSS_CELL_BOTTOM:G.CSS_CELL_BOTTOM,CSS_CELL_HOVER:G.CSS_CELL_HOVER,CSS_CELL_HIGHLIGHT1:G.CSS_CELL_HIGHLIGHT1,CSS_CELL_HIGHLIGHT2:G.CSS_CELL_HIGHLIGHT2,CSS_CELL_HIGHLIGHT3:G.CSS_CELL_HIGHLIGHT3,CSS_CELL_HIGHLIGHT4:G.CSS_CELL_HIGHLIGHT4};},buildMonthLabel:function(){return this._buildMonthLabel(this.cfg.getProperty(B.PAGEDATE.key));},_buildMonthLabel:function(G){var I=this.Locale.LOCALE_MONTHS[G.getMonth()]+this.Locale.MY_LABEL_MONTH_SUFFIX,H=G.getFullYear()+this.Locale.MY_LABEL_YEAR_SUFFIX;
if(this.Locale.MY_LABEL_MONTH_POSITION==2||this.Locale.MY_LABEL_YEAR_POSITION==1){return H+I;}else{return I+H;}},buildDayLabel:function(G){return G.getDate();},createTitleBar:function(G){var H=C.getElementsByClassName(YAHOO.widget.CalendarGroup.CSS_2UPTITLE,"div",this.oDomContainer)[0]||document.createElement("div");H.className=YAHOO.widget.CalendarGroup.CSS_2UPTITLE;H.innerHTML=G;this.oDomContainer.insertBefore(H,this.oDomContainer.firstChild);C.addClass(this.oDomContainer,"withtitle");return H;},removeTitleBar:function(){var G=C.getElementsByClassName(YAHOO.widget.CalendarGroup.CSS_2UPTITLE,"div",this.oDomContainer)[0]||null;if(G){A.purgeElement(G);this.oDomContainer.removeChild(G);}C.removeClass(this.oDomContainer,"withtitle");},createCloseButton:function(){var J=YAHOO.widget.CalendarGroup.CSS_2UPCLOSE,L="us/my/bn/x_d.gif",K=C.getElementsByClassName("link-close","a",this.oDomContainer)[0],G=this.cfg.getProperty(B.STRINGS.key),H=(G&&G.close)?G.close:"";if(!K){K=document.createElement("a");A.addListener(K,"click",function(N,M){M.hide();A.preventDefault(N);},this);}K.href="#";K.className="link-close";if(F.IMG_ROOT!==null){var I=C.getElementsByClassName(J,"img",K)[0]||document.createElement("img");I.src=F.IMG_ROOT+L;I.className=J;K.appendChild(I);}else{K.innerHTML='<span class="'+J+" "+this.Style.CSS_CLOSE+'">'+H+"</span>";}this.oDomContainer.appendChild(K);return K;},removeCloseButton:function(){var G=C.getElementsByClassName("link-close","a",this.oDomContainer)[0]||null;if(G){A.purgeElement(G);this.oDomContainer.removeChild(G);}},renderHeader:function(Q){var P=7,O="us/tr/callt.gif",G="us/tr/calrt.gif",N=this.cfg,K=N.getProperty(B.PAGEDATE.key),L=N.getProperty(B.STRINGS.key),V=(L&&L.previousMonth)?L.previousMonth:"",H=(L&&L.nextMonth)?L.nextMonth:"",M;if(N.getProperty(B.SHOW_WEEK_HEADER.key)){P+=1;}if(N.getProperty(B.SHOW_WEEK_FOOTER.key)){P+=1;}Q[Q.length]="<thead>";Q[Q.length]="<tr>";Q[Q.length]='<th colspan="'+P+'" class="'+this.Style.CSS_HEADER_TEXT+'">';Q[Q.length]='<div class="'+this.Style.CSS_HEADER+'">';var X,U=false;if(this.parent){if(this.index===0){X=true;}if(this.index==(this.parent.cfg.getProperty("pages")-1)){U=true;}}else{X=true;U=true;}if(X){M=this._buildMonthLabel(D.subtract(K,D.MONTH,1));var R=N.getProperty(B.NAV_ARROW_LEFT.key);if(R===null&&F.IMG_ROOT!==null){R=F.IMG_ROOT+O;}var I=(R===null)?"":' style="background-image:url('+R+')"';Q[Q.length]='<a class="'+this.Style.CSS_NAV_LEFT+'"'+I+' href="#">'+V+" ("+M+")"+"</a>";}var W=this.buildMonthLabel();var S=this.parent||this;if(S.cfg.getProperty("navigator")){W='<a class="'+this.Style.CSS_NAV+'" href="#">'+W+"</a>";}Q[Q.length]=W;if(U){M=this._buildMonthLabel(D.add(K,D.MONTH,1));var T=N.getProperty(B.NAV_ARROW_RIGHT.key);if(T===null&&F.IMG_ROOT!==null){T=F.IMG_ROOT+G;}var J=(T===null)?"":' style="background-image:url('+T+')"';Q[Q.length]='<a class="'+this.Style.CSS_NAV_RIGHT+'"'+J+' href="#">'+H+" ("+M+")"+"</a>";}Q[Q.length]="</div>\n</th>\n</tr>";if(N.getProperty(B.SHOW_WEEKDAYS.key)){Q=this.buildWeekdays(Q);}Q[Q.length]="</thead>";return Q;},buildWeekdays:function(H){H[H.length]='<tr class="'+this.Style.CSS_WEEKDAY_ROW+'">';if(this.cfg.getProperty(B.SHOW_WEEK_HEADER.key)){H[H.length]="<th>&#160;</th>";}for(var G=0;G<this.Locale.LOCALE_WEEKDAYS.length;++G){H[H.length]='<th class="calweekdaycell">'+this.Locale.LOCALE_WEEKDAYS[G]+"</th>";}if(this.cfg.getProperty(B.SHOW_WEEK_FOOTER.key)){H[H.length]="<th>&#160;</th>";}H[H.length]="</tr>";return H;},renderBody:function(l,j){var AJ=this.cfg.getProperty(B.START_WEEKDAY.key);this.preMonthDays=l.getDay();if(AJ>0){this.preMonthDays-=AJ;}if(this.preMonthDays<0){this.preMonthDays+=7;}this.monthDays=D.findMonthEnd(l).getDate();this.postMonthDays=F.DISPLAY_DAYS-this.preMonthDays-this.monthDays;l=D.subtract(l,D.DAY,this.preMonthDays);var X,N,M="w",e="_cell",b="wd",v="d",P,q,AB=this.today,O=this.cfg,V=AB.getFullYear(),u=AB.getMonth(),J=AB.getDate(),AA=O.getProperty(B.PAGEDATE.key),I=O.getProperty(B.HIDE_BLANK_WEEKS.key),h=O.getProperty(B.SHOW_WEEK_FOOTER.key),a=O.getProperty(B.SHOW_WEEK_HEADER.key),T=O.getProperty(B.MINDATE.key),Z=O.getProperty(B.MAXDATE.key);if(T){T=D.clearTime(T);}if(Z){Z=D.clearTime(Z);}j[j.length]='<tbody class="m'+(AA.getMonth()+1)+" "+this.Style.CSS_BODY+'">';var AH=0,Q=document.createElement("div"),k=document.createElement("td");Q.appendChild(k);var z=this.parent||this;for(var AD=0;AD<6;AD++){X=D.getWeekNumber(l,AJ);N=M+X;if(AD!==0&&I===true&&l.getMonth()!=AA.getMonth()){break;}else{j[j.length]='<tr class="'+N+'">';if(a){j=this.renderRowHeader(X,j);}for(var AI=0;AI<7;AI++){P=[];this.clearElement(k);k.className=this.Style.CSS_CELL;k.id=this.id+e+AH;if(l.getDate()==J&&l.getMonth()==u&&l.getFullYear()==V){P[P.length]=z.renderCellStyleToday;}var Y=[l.getFullYear(),l.getMonth()+1,l.getDate()];this.cellDates[this.cellDates.length]=Y;if(l.getMonth()!=AA.getMonth()){P[P.length]=z.renderCellNotThisMonth;}else{C.addClass(k,b+l.getDay());C.addClass(k,v+l.getDate());for(var AC=0;AC<this.renderStack.length;++AC){q=null;var w=this.renderStack[AC],AK=w[0],H,c,L;switch(AK){case F.DATE:H=w[1][1];c=w[1][2];L=w[1][0];if(l.getMonth()+1==H&&l.getDate()==c&&l.getFullYear()==L){q=w[2];this.renderStack.splice(AC,1);}break;case F.MONTH_DAY:H=w[1][0];c=w[1][1];if(l.getMonth()+1==H&&l.getDate()==c){q=w[2];this.renderStack.splice(AC,1);}break;case F.RANGE:var g=w[1][0],f=w[1][1],m=g[1],S=g[2],W=g[0],AG=D.getDate(W,m-1,S),K=f[1],o=f[2],G=f[0],AF=D.getDate(G,K-1,o);if(l.getTime()>=AG.getTime()&&l.getTime()<=AF.getTime()){q=w[2];if(l.getTime()==AF.getTime()){this.renderStack.splice(AC,1);}}break;case F.WEEKDAY:var R=w[1][0];if(l.getDay()+1==R){q=w[2];}break;case F.MONTH:H=w[1][0];if(l.getMonth()+1==H){q=w[2];}break;}if(q){P[P.length]=q;}}}if(this._indexOfSelectedFieldArray(Y)>-1){P[P.length]=z.renderCellStyleSelected;}if((T&&(l.getTime()<T.getTime()))||(Z&&(l.getTime()>Z.getTime()))){P[P.length]=z.renderOutOfBoundsDate;}else{P[P.length]=z.styleCellDefault;P[P.length]=z.renderCellDefault;}for(var y=0;
y<P.length;++y){if(P[y].call(z,l,k)==F.STOP_RENDER){break;}}l.setTime(l.getTime()+D.ONE_DAY_MS);l=D.clearTime(l);if(AH>=0&&AH<=6){C.addClass(k,this.Style.CSS_CELL_TOP);}if((AH%7)===0){C.addClass(k,this.Style.CSS_CELL_LEFT);}if(((AH+1)%7)===0){C.addClass(k,this.Style.CSS_CELL_RIGHT);}var n=this.postMonthDays;if(I&&n>=7){var U=Math.floor(n/7);for(var AE=0;AE<U;++AE){n-=7;}}if(AH>=((this.preMonthDays+n+this.monthDays)-7)){C.addClass(k,this.Style.CSS_CELL_BOTTOM);}j[j.length]=Q.innerHTML;AH++;}if(h){j=this.renderRowFooter(X,j);}j[j.length]="</tr>";}}j[j.length]="</tbody>";return j;},renderFooter:function(G){return G;},render:function(){this.beforeRenderEvent.fire();var H=D.findMonthStart(this.cfg.getProperty(B.PAGEDATE.key));this.resetRenderers();this.cellDates.length=0;A.purgeElement(this.oDomContainer,true);var G=[];G[G.length]='<table cellSpacing="0" class="'+this.Style.CSS_CALENDAR+" y"+H.getFullYear()+'" id="'+this.id+'">';G=this.renderHeader(G);G=this.renderBody(H,G);G=this.renderFooter(G);G[G.length]="</table>";this.oDomContainer.innerHTML=G.join("\n");this.applyListeners();this.cells=this.oDomContainer.getElementsByTagName("td");this.cfg.refireEvent(B.TITLE.key);this.cfg.refireEvent(B.CLOSE.key);this.cfg.refireEvent(B.IFRAME.key);this.renderEvent.fire();},applyListeners:function(){var P=this.oDomContainer,H=this.parent||this,L="a",S="click";var M=C.getElementsByClassName(this.Style.CSS_NAV_LEFT,L,P),I=C.getElementsByClassName(this.Style.CSS_NAV_RIGHT,L,P);if(M&&M.length>0){this.linkLeft=M[0];A.addListener(this.linkLeft,S,this.doPreviousMonthNav,H,true);}if(I&&I.length>0){this.linkRight=I[0];A.addListener(this.linkRight,S,this.doNextMonthNav,H,true);}if(H.cfg.getProperty("navigator")!==null){this.applyNavListeners();}if(this.domEventMap){var J,G;for(var R in this.domEventMap){if(E.hasOwnProperty(this.domEventMap,R)){var N=this.domEventMap[R];if(!(N instanceof Array)){N=[N];}for(var K=0;K<N.length;K++){var Q=N[K];G=C.getElementsByClassName(R,Q.tag,this.oDomContainer);for(var O=0;O<G.length;O++){J=G[O];A.addListener(J,Q.event,Q.handler,Q.scope,Q.correct);}}}}}A.addListener(this.oDomContainer,"click",this.doSelectCell,this);A.addListener(this.oDomContainer,"mouseover",this.doCellMouseOver,this);A.addListener(this.oDomContainer,"mouseout",this.doCellMouseOut,this);},applyNavListeners:function(){var H=this.parent||this,I=this,G=C.getElementsByClassName(this.Style.CSS_NAV,"a",this.oDomContainer);if(G.length>0){A.addListener(G,"click",function(N,M){var L=A.getTarget(N);if(this===L||C.isAncestor(this,L)){A.preventDefault(N);}var J=H.oNavigator;if(J){var K=I.cfg.getProperty("pagedate");J.setYear(K.getFullYear());J.setMonth(K.getMonth());J.show();}});}},getDateByCellId:function(H){var G=this.getDateFieldsByCellId(H);return(G)?D.getDate(G[0],G[1]-1,G[2]):null;},getDateFieldsByCellId:function(G){G=this.getIndexFromId(G);return(G>-1)?this.cellDates[G]:null;},getCellIndex:function(I){var H=-1;if(I){var G=I.getMonth(),N=I.getFullYear(),M=I.getDate(),K=this.cellDates;for(var J=0;J<K.length;++J){var L=K[J];if(L[0]===N&&L[1]===G+1&&L[2]===M){H=J;break;}}}return H;},getIndexFromId:function(I){var H=-1,G=I.lastIndexOf("_cell");if(G>-1){H=parseInt(I.substring(G+5),10);}return H;},renderOutOfBoundsDate:function(H,G){C.addClass(G,this.Style.CSS_CELL_OOB);G.innerHTML=H.getDate();return F.STOP_RENDER;},renderRowHeader:function(H,G){G[G.length]='<th class="calrowhead">'+H+"</th>";return G;},renderRowFooter:function(H,G){G[G.length]='<th class="calrowfoot">'+H+"</th>";return G;},renderCellDefault:function(H,G){G.innerHTML='<a href="#" class="'+this.Style.CSS_CELL_SELECTOR+'">'+this.buildDayLabel(H)+"</a>";},styleCellDefault:function(H,G){C.addClass(G,this.Style.CSS_CELL_SELECTABLE);},renderCellStyleHighlight1:function(H,G){C.addClass(G,this.Style.CSS_CELL_HIGHLIGHT1);},renderCellStyleHighlight2:function(H,G){C.addClass(G,this.Style.CSS_CELL_HIGHLIGHT2);},renderCellStyleHighlight3:function(H,G){C.addClass(G,this.Style.CSS_CELL_HIGHLIGHT3);},renderCellStyleHighlight4:function(H,G){C.addClass(G,this.Style.CSS_CELL_HIGHLIGHT4);},renderCellStyleToday:function(H,G){C.addClass(G,this.Style.CSS_CELL_TODAY);},renderCellStyleSelected:function(H,G){C.addClass(G,this.Style.CSS_CELL_SELECTED);},renderCellNotThisMonth:function(H,G){C.addClass(G,this.Style.CSS_CELL_OOM);G.innerHTML=H.getDate();return F.STOP_RENDER;},renderBodyCellRestricted:function(H,G){C.addClass(G,this.Style.CSS_CELL);C.addClass(G,this.Style.CSS_CELL_RESTRICTED);G.innerHTML=H.getDate();return F.STOP_RENDER;},addMonths:function(H){var G=B.PAGEDATE.key;this.cfg.setProperty(G,D.add(this.cfg.getProperty(G),D.MONTH,H));this.resetRenderers();this.changePageEvent.fire();},subtractMonths:function(H){var G=B.PAGEDATE.key;this.cfg.setProperty(G,D.subtract(this.cfg.getProperty(G),D.MONTH,H));this.resetRenderers();this.changePageEvent.fire();},addYears:function(H){var G=B.PAGEDATE.key;this.cfg.setProperty(G,D.add(this.cfg.getProperty(G),D.YEAR,H));this.resetRenderers();this.changePageEvent.fire();},subtractYears:function(H){var G=B.PAGEDATE.key;this.cfg.setProperty(G,D.subtract(this.cfg.getProperty(G),D.YEAR,H));this.resetRenderers();this.changePageEvent.fire();},nextMonth:function(){this.addMonths(1);},previousMonth:function(){this.subtractMonths(1);},nextYear:function(){this.addYears(1);},previousYear:function(){this.subtractYears(1);},reset:function(){this.cfg.resetProperty(B.SELECTED.key);this.cfg.resetProperty(B.PAGEDATE.key);this.resetEvent.fire();},clear:function(){this.cfg.setProperty(B.SELECTED.key,[]);this.cfg.setProperty(B.PAGEDATE.key,new Date(this.today.getTime()));this.clearEvent.fire();},select:function(I){var L=this._toFieldArray(I),H=[],K=[],M=B.SELECTED.key;for(var G=0;G<L.length;++G){var J=L[G];if(!this.isDateOOB(this._toDate(J))){if(H.length===0){this.beforeSelectEvent.fire();K=this.cfg.getProperty(M);}H.push(J);if(this._indexOfSelectedFieldArray(J)==-1){K[K.length]=J;}}}if(H.length>0){if(this.parent){this.parent.cfg.setProperty(M,K);}else{this.cfg.setProperty(M,K);
}this.selectEvent.fire(H);}return this.getSelectedDates();},selectCell:function(J){var H=this.cells[J],N=this.cellDates[J],M=this._toDate(N),I=C.hasClass(H,this.Style.CSS_CELL_SELECTABLE);if(I){this.beforeSelectEvent.fire();var L=B.SELECTED.key;var K=this.cfg.getProperty(L);var G=N.concat();if(this._indexOfSelectedFieldArray(G)==-1){K[K.length]=G;}if(this.parent){this.parent.cfg.setProperty(L,K);}else{this.cfg.setProperty(L,K);}this.renderCellStyleSelected(M,H);this.selectEvent.fire([G]);this.doCellMouseOut.call(H,null,this);}return this.getSelectedDates();},deselect:function(K){var G=this._toFieldArray(K),J=[],M=[],N=B.SELECTED.key;for(var H=0;H<G.length;++H){var L=G[H];if(!this.isDateOOB(this._toDate(L))){if(J.length===0){this.beforeDeselectEvent.fire();M=this.cfg.getProperty(N);}J.push(L);var I=this._indexOfSelectedFieldArray(L);if(I!=-1){M.splice(I,1);}}}if(J.length>0){if(this.parent){this.parent.cfg.setProperty(N,M);}else{this.cfg.setProperty(N,M);}this.deselectEvent.fire(J);}return this.getSelectedDates();},deselectCell:function(K){var H=this.cells[K],N=this.cellDates[K],I=this._indexOfSelectedFieldArray(N);var J=C.hasClass(H,this.Style.CSS_CELL_SELECTABLE);if(J){this.beforeDeselectEvent.fire();var L=this.cfg.getProperty(B.SELECTED.key),M=this._toDate(N),G=N.concat();if(I>-1){if(this.cfg.getProperty(B.PAGEDATE.key).getMonth()==M.getMonth()&&this.cfg.getProperty(B.PAGEDATE.key).getFullYear()==M.getFullYear()){C.removeClass(H,this.Style.CSS_CELL_SELECTED);}L.splice(I,1);}if(this.parent){this.parent.cfg.setProperty(B.SELECTED.key,L);}else{this.cfg.setProperty(B.SELECTED.key,L);}this.deselectEvent.fire([G]);}return this.getSelectedDates();},deselectAll:function(){this.beforeDeselectEvent.fire();var J=B.SELECTED.key,G=this.cfg.getProperty(J),H=G.length,I=G.concat();if(this.parent){this.parent.cfg.setProperty(J,[]);}else{this.cfg.setProperty(J,[]);}if(H>0){this.deselectEvent.fire(I);}return this.getSelectedDates();},_toFieldArray:function(H){var G=[];if(H instanceof Date){G=[[H.getFullYear(),H.getMonth()+1,H.getDate()]];}else{if(E.isString(H)){G=this._parseDates(H);}else{if(E.isArray(H)){for(var I=0;I<H.length;++I){var J=H[I];G[G.length]=[J.getFullYear(),J.getMonth()+1,J.getDate()];}}}}return G;},toDate:function(G){return this._toDate(G);},_toDate:function(G){if(G instanceof Date){return G;}else{return D.getDate(G[0],G[1]-1,G[2]);}},_fieldArraysAreEqual:function(I,H){var G=false;if(I[0]==H[0]&&I[1]==H[1]&&I[2]==H[2]){G=true;}return G;},_indexOfSelectedFieldArray:function(K){var J=-1,G=this.cfg.getProperty(B.SELECTED.key);for(var I=0;I<G.length;++I){var H=G[I];if(K[0]==H[0]&&K[1]==H[1]&&K[2]==H[2]){J=I;break;}}return J;},isDateOOM:function(G){return(G.getMonth()!=this.cfg.getProperty(B.PAGEDATE.key).getMonth());},isDateOOB:function(I){var J=this.cfg.getProperty(B.MINDATE.key),K=this.cfg.getProperty(B.MAXDATE.key),H=D;if(J){J=H.clearTime(J);}if(K){K=H.clearTime(K);}var G=new Date(I.getTime());G=H.clearTime(G);return((J&&G.getTime()<J.getTime())||(K&&G.getTime()>K.getTime()));},_parsePageDate:function(G){var J;if(G){if(G instanceof Date){J=D.findMonthStart(G);}else{var K,I,H;H=G.split(this.cfg.getProperty(B.DATE_FIELD_DELIMITER.key));K=parseInt(H[this.cfg.getProperty(B.MY_MONTH_POSITION.key)-1],10)-1;I=parseInt(H[this.cfg.getProperty(B.MY_YEAR_POSITION.key)-1],10);J=D.getDate(I,K,1);}}else{J=D.getDate(this.today.getFullYear(),this.today.getMonth(),1);}return J;},onBeforeSelect:function(){if(this.cfg.getProperty(B.MULTI_SELECT.key)===false){if(this.parent){this.parent.callChildFunction("clearAllBodyCellStyles",this.Style.CSS_CELL_SELECTED);this.parent.deselectAll();}else{this.clearAllBodyCellStyles(this.Style.CSS_CELL_SELECTED);this.deselectAll();}}},onSelect:function(G){},onBeforeDeselect:function(){},onDeselect:function(G){},onChangePage:function(){this.render();},onRender:function(){},onReset:function(){this.render();},onClear:function(){this.render();},validate:function(){return true;},_parseDate:function(I){var J=I.split(this.Locale.DATE_FIELD_DELIMITER),G;if(J.length==2){G=[J[this.Locale.MD_MONTH_POSITION-1],J[this.Locale.MD_DAY_POSITION-1]];G.type=F.MONTH_DAY;}else{G=[J[this.Locale.MDY_YEAR_POSITION-1],J[this.Locale.MDY_MONTH_POSITION-1],J[this.Locale.MDY_DAY_POSITION-1]];G.type=F.DATE;}for(var H=0;H<G.length;H++){G[H]=parseInt(G[H],10);}return G;},_parseDates:function(H){var O=[],N=H.split(this.Locale.DATE_DELIMITER);for(var M=0;M<N.length;++M){var L=N[M];if(L.indexOf(this.Locale.DATE_RANGE_DELIMITER)!=-1){var G=L.split(this.Locale.DATE_RANGE_DELIMITER),K=this._parseDate(G[0]),P=this._parseDate(G[1]),J=this._parseRange(K,P);O=O.concat(J);}else{var I=this._parseDate(L);O.push(I);}}return O;},_parseRange:function(G,K){var H=D.add(D.getDate(G[0],G[1]-1,G[2]),D.DAY,1),J=D.getDate(K[0],K[1]-1,K[2]),I=[];I.push(G);while(H.getTime()<=J.getTime()){I.push([H.getFullYear(),H.getMonth()+1,H.getDate()]);H=D.add(H,D.DAY,1);}return I;},resetRenderers:function(){this.renderStack=this._renderStack.concat();},removeRenderers:function(){this._renderStack=[];this.renderStack=[];},clearElement:function(G){G.innerHTML="&#160;";G.className="";},addRenderer:function(G,H){var J=this._parseDates(G);for(var I=0;I<J.length;++I){var K=J[I];if(K.length==2){if(K[0] instanceof Array){this._addRenderer(F.RANGE,K,H);}else{this._addRenderer(F.MONTH_DAY,K,H);}}else{if(K.length==3){this._addRenderer(F.DATE,K,H);}}}},_addRenderer:function(H,I,G){var J=[H,I,G];this.renderStack.unshift(J);this._renderStack=this.renderStack.concat();},addMonthRenderer:function(H,G){this._addRenderer(F.MONTH,[H],G);},addWeekdayRenderer:function(H,G){this._addRenderer(F.WEEKDAY,[H],G);},clearAllBodyCellStyles:function(G){for(var H=0;H<this.cells.length;++H){C.removeClass(this.cells[H],G);}},setMonth:function(I){var G=B.PAGEDATE.key,H=this.cfg.getProperty(G);H.setMonth(parseInt(I,10));this.cfg.setProperty(G,H);},setYear:function(H){var G=B.PAGEDATE.key,I=this.cfg.getProperty(G);I.setFullYear(parseInt(H,10));this.cfg.setProperty(G,I);},getSelectedDates:function(){var I=[],H=this.cfg.getProperty(B.SELECTED.key);
for(var K=0;K<H.length;++K){var J=H[K];var G=D.getDate(J[0],J[1]-1,J[2]);I.push(G);}I.sort(function(M,L){return M-L;});return I;},hide:function(){if(this.beforeHideEvent.fire()){this.oDomContainer.style.display="none";this.hideEvent.fire();}},show:function(){if(this.beforeShowEvent.fire()){this.oDomContainer.style.display="block";this.showEvent.fire();}},browser:(function(){var G=navigator.userAgent.toLowerCase();if(G.indexOf("opera")!=-1){return"opera";}else{if(G.indexOf("msie 7")!=-1){return"ie7";}else{if(G.indexOf("msie")!=-1){return"ie";}else{if(G.indexOf("safari")!=-1){return"safari";}else{if(G.indexOf("gecko")!=-1){return"gecko";}else{return false;}}}}}})(),toString:function(){return"Calendar "+this.id;},destroy:function(){if(this.beforeDestroyEvent.fire()){var G=this;if(G.navigator){G.navigator.destroy();}if(G.cfg){G.cfg.destroy();}A.purgeElement(G.oDomContainer,true);C.removeClass(G.oDomContainer,"withtitle");C.removeClass(G.oDomContainer,G.Style.CSS_CONTAINER);C.removeClass(G.oDomContainer,G.Style.CSS_SINGLE);G.oDomContainer.innerHTML="";G.oDomContainer=null;G.cells=null;this.destroyEvent.fire();}}};YAHOO.widget.Calendar=F;YAHOO.widget.Calendar_Core=YAHOO.widget.Calendar;YAHOO.widget.Cal_Core=YAHOO.widget.Calendar;})();(function(){var D=YAHOO.util.Dom,F=YAHOO.widget.DateMath,A=YAHOO.util.Event,E=YAHOO.lang,G=YAHOO.widget.Calendar;function B(J,H,I){if(arguments.length>0){this.init.apply(this,arguments);}}B._DEFAULT_CONFIG=G._DEFAULT_CONFIG;B._DEFAULT_CONFIG.PAGES={key:"pages",value:2};var C=B._DEFAULT_CONFIG;B.prototype={init:function(K,I,J){var H=this._parseArgs(arguments);K=H.id;I=H.container;J=H.config;this.oDomContainer=D.get(I);if(!this.oDomContainer.id){this.oDomContainer.id=D.generateId();}if(!K){K=this.oDomContainer.id+"_t";}this.id=K;this.containerId=this.oDomContainer.id;this.initEvents();this.initStyles();this.pages=[];D.addClass(this.oDomContainer,B.CSS_CONTAINER);D.addClass(this.oDomContainer,B.CSS_MULTI_UP);this.cfg=new YAHOO.util.Config(this);this.Options={};this.Locale={};this.setupConfig();if(J){this.cfg.applyConfig(J,true);}this.cfg.fireQueue();if(YAHOO.env.ua.opera){this.renderEvent.subscribe(this._fixWidth,this,true);this.showEvent.subscribe(this._fixWidth,this,true);}},setupConfig:function(){var H=this.cfg;H.addProperty(C.PAGES.key,{value:C.PAGES.value,validator:H.checkNumber,handler:this.configPages});H.addProperty(C.PAGEDATE.key,{value:new Date(),handler:this.configPageDate});H.addProperty(C.SELECTED.key,{value:[],handler:this.configSelected});H.addProperty(C.TITLE.key,{value:C.TITLE.value,handler:this.configTitle});H.addProperty(C.CLOSE.key,{value:C.CLOSE.value,handler:this.configClose});H.addProperty(C.IFRAME.key,{value:C.IFRAME.value,handler:this.configIframe,validator:H.checkBoolean});H.addProperty(C.MINDATE.key,{value:C.MINDATE.value,handler:this.delegateConfig});H.addProperty(C.MAXDATE.key,{value:C.MAXDATE.value,handler:this.delegateConfig});H.addProperty(C.MULTI_SELECT.key,{value:C.MULTI_SELECT.value,handler:this.delegateConfig,validator:H.checkBoolean});H.addProperty(C.START_WEEKDAY.key,{value:C.START_WEEKDAY.value,handler:this.delegateConfig,validator:H.checkNumber});H.addProperty(C.SHOW_WEEKDAYS.key,{value:C.SHOW_WEEKDAYS.value,handler:this.delegateConfig,validator:H.checkBoolean});H.addProperty(C.SHOW_WEEK_HEADER.key,{value:C.SHOW_WEEK_HEADER.value,handler:this.delegateConfig,validator:H.checkBoolean});H.addProperty(C.SHOW_WEEK_FOOTER.key,{value:C.SHOW_WEEK_FOOTER.value,handler:this.delegateConfig,validator:H.checkBoolean});H.addProperty(C.HIDE_BLANK_WEEKS.key,{value:C.HIDE_BLANK_WEEKS.value,handler:this.delegateConfig,validator:H.checkBoolean});H.addProperty(C.NAV_ARROW_LEFT.key,{value:C.NAV_ARROW_LEFT.value,handler:this.delegateConfig});H.addProperty(C.NAV_ARROW_RIGHT.key,{value:C.NAV_ARROW_RIGHT.value,handler:this.delegateConfig});H.addProperty(C.MONTHS_SHORT.key,{value:C.MONTHS_SHORT.value,handler:this.delegateConfig});H.addProperty(C.MONTHS_LONG.key,{value:C.MONTHS_LONG.value,handler:this.delegateConfig});H.addProperty(C.WEEKDAYS_1CHAR.key,{value:C.WEEKDAYS_1CHAR.value,handler:this.delegateConfig});H.addProperty(C.WEEKDAYS_SHORT.key,{value:C.WEEKDAYS_SHORT.value,handler:this.delegateConfig});H.addProperty(C.WEEKDAYS_MEDIUM.key,{value:C.WEEKDAYS_MEDIUM.value,handler:this.delegateConfig});H.addProperty(C.WEEKDAYS_LONG.key,{value:C.WEEKDAYS_LONG.value,handler:this.delegateConfig});H.addProperty(C.LOCALE_MONTHS.key,{value:C.LOCALE_MONTHS.value,handler:this.delegateConfig});H.addProperty(C.LOCALE_WEEKDAYS.key,{value:C.LOCALE_WEEKDAYS.value,handler:this.delegateConfig});H.addProperty(C.DATE_DELIMITER.key,{value:C.DATE_DELIMITER.value,handler:this.delegateConfig});H.addProperty(C.DATE_FIELD_DELIMITER.key,{value:C.DATE_FIELD_DELIMITER.value,handler:this.delegateConfig});H.addProperty(C.DATE_RANGE_DELIMITER.key,{value:C.DATE_RANGE_DELIMITER.value,handler:this.delegateConfig});H.addProperty(C.MY_MONTH_POSITION.key,{value:C.MY_MONTH_POSITION.value,handler:this.delegateConfig,validator:H.checkNumber});H.addProperty(C.MY_YEAR_POSITION.key,{value:C.MY_YEAR_POSITION.value,handler:this.delegateConfig,validator:H.checkNumber});H.addProperty(C.MD_MONTH_POSITION.key,{value:C.MD_MONTH_POSITION.value,handler:this.delegateConfig,validator:H.checkNumber});H.addProperty(C.MD_DAY_POSITION.key,{value:C.MD_DAY_POSITION.value,handler:this.delegateConfig,validator:H.checkNumber});H.addProperty(C.MDY_MONTH_POSITION.key,{value:C.MDY_MONTH_POSITION.value,handler:this.delegateConfig,validator:H.checkNumber});H.addProperty(C.MDY_DAY_POSITION.key,{value:C.MDY_DAY_POSITION.value,handler:this.delegateConfig,validator:H.checkNumber});H.addProperty(C.MDY_YEAR_POSITION.key,{value:C.MDY_YEAR_POSITION.value,handler:this.delegateConfig,validator:H.checkNumber});H.addProperty(C.MY_LABEL_MONTH_POSITION.key,{value:C.MY_LABEL_MONTH_POSITION.value,handler:this.delegateConfig,validator:H.checkNumber});H.addProperty(C.MY_LABEL_YEAR_POSITION.key,{value:C.MY_LABEL_YEAR_POSITION.value,handler:this.delegateConfig,validator:H.checkNumber});
H.addProperty(C.MY_LABEL_MONTH_SUFFIX.key,{value:C.MY_LABEL_MONTH_SUFFIX.value,handler:this.delegateConfig});H.addProperty(C.MY_LABEL_YEAR_SUFFIX.key,{value:C.MY_LABEL_YEAR_SUFFIX.value,handler:this.delegateConfig});H.addProperty(C.NAV.key,{value:C.NAV.value,handler:this.configNavigator});H.addProperty(C.STRINGS.key,{value:C.STRINGS.value,handler:this.configStrings,validator:function(I){return E.isObject(I);},supercedes:C.STRINGS.supercedes});},initEvents:function(){var J=this,L="Event",M=YAHOO.util.CustomEvent;var I=function(O,R,N){for(var Q=0;Q<J.pages.length;++Q){var P=J.pages[Q];P[this.type+L].subscribe(O,R,N);}};var H=function(N,Q){for(var P=0;P<J.pages.length;++P){var O=J.pages[P];O[this.type+L].unsubscribe(N,Q);}};var K=G._EVENT_TYPES;J.beforeSelectEvent=new M(K.BEFORE_SELECT);J.beforeSelectEvent.subscribe=I;J.beforeSelectEvent.unsubscribe=H;J.selectEvent=new M(K.SELECT);J.selectEvent.subscribe=I;J.selectEvent.unsubscribe=H;J.beforeDeselectEvent=new M(K.BEFORE_DESELECT);J.beforeDeselectEvent.subscribe=I;J.beforeDeselectEvent.unsubscribe=H;J.deselectEvent=new M(K.DESELECT);J.deselectEvent.subscribe=I;J.deselectEvent.unsubscribe=H;J.changePageEvent=new M(K.CHANGE_PAGE);J.changePageEvent.subscribe=I;J.changePageEvent.unsubscribe=H;J.beforeRenderEvent=new M(K.BEFORE_RENDER);J.beforeRenderEvent.subscribe=I;J.beforeRenderEvent.unsubscribe=H;J.renderEvent=new M(K.RENDER);J.renderEvent.subscribe=I;J.renderEvent.unsubscribe=H;J.resetEvent=new M(K.RESET);J.resetEvent.subscribe=I;J.resetEvent.unsubscribe=H;J.clearEvent=new M(K.CLEAR);J.clearEvent.subscribe=I;J.clearEvent.unsubscribe=H;J.beforeShowEvent=new M(K.BEFORE_SHOW);J.showEvent=new M(K.SHOW);J.beforeHideEvent=new M(K.BEFORE_HIDE);J.hideEvent=new M(K.HIDE);J.beforeShowNavEvent=new M(K.BEFORE_SHOW_NAV);J.showNavEvent=new M(K.SHOW_NAV);J.beforeHideNavEvent=new M(K.BEFORE_HIDE_NAV);J.hideNavEvent=new M(K.HIDE_NAV);J.beforeRenderNavEvent=new M(K.BEFORE_RENDER_NAV);J.renderNavEvent=new M(K.RENDER_NAV);J.beforeDestroyEvent=new M(K.BEFORE_DESTROY);J.destroyEvent=new M(K.DESTROY);},configPages:function(T,R,N){var L=R[0],J=C.PAGEDATE.key,W="_",M,O=null,S="groupcal",V="first-of-type",K="last-of-type";for(var I=0;I<L;++I){var U=this.id+W+I,Q=this.containerId+W+I,P=this.cfg.getConfig();P.close=false;P.title=false;P.navigator=null;if(I>0){M=new Date(O);this._setMonthOnDate(M,M.getMonth()+I);P.pageDate=M;}var H=this.constructChild(U,Q,P);D.removeClass(H.oDomContainer,this.Style.CSS_SINGLE);D.addClass(H.oDomContainer,S);if(I===0){O=H.cfg.getProperty(J);D.addClass(H.oDomContainer,V);}if(I==(L-1)){D.addClass(H.oDomContainer,K);}H.parent=this;H.index=I;this.pages[this.pages.length]=H;}},configPageDate:function(O,N,L){var J=N[0],M;var K=C.PAGEDATE.key;for(var I=0;I<this.pages.length;++I){var H=this.pages[I];if(I===0){M=H._parsePageDate(J);H.cfg.setProperty(K,M);}else{var P=new Date(M);this._setMonthOnDate(P,P.getMonth()+I);H.cfg.setProperty(K,P);}}},configSelected:function(J,H,L){var K=C.SELECTED.key;this.delegateConfig(J,H,L);var I=(this.pages.length>0)?this.pages[0].cfg.getProperty(K):[];this.cfg.setProperty(K,I,true);},delegateConfig:function(I,H,L){var M=H[0];var K;for(var J=0;J<this.pages.length;J++){K=this.pages[J];K.cfg.setProperty(I,M);}},setChildFunction:function(K,I){var H=this.cfg.getProperty(C.PAGES.key);for(var J=0;J<H;++J){this.pages[J][K]=I;}},callChildFunction:function(M,I){var H=this.cfg.getProperty(C.PAGES.key);for(var L=0;L<H;++L){var K=this.pages[L];if(K[M]){var J=K[M];J.call(K,I);}}},constructChild:function(K,I,J){var H=document.getElementById(I);if(!H){H=document.createElement("div");H.id=I;this.oDomContainer.appendChild(H);}return new G(K,I,J);},setMonth:function(L){L=parseInt(L,10);var M;var I=C.PAGEDATE.key;for(var K=0;K<this.pages.length;++K){var J=this.pages[K];var H=J.cfg.getProperty(I);if(K===0){M=H.getFullYear();}else{H.setFullYear(M);}this._setMonthOnDate(H,L+K);J.cfg.setProperty(I,H);}},setYear:function(J){var I=C.PAGEDATE.key;J=parseInt(J,10);for(var L=0;L<this.pages.length;++L){var K=this.pages[L];var H=K.cfg.getProperty(I);if((H.getMonth()+1)==1&&L>0){J+=1;}K.setYear(J);}},render:function(){this.renderHeader();for(var I=0;I<this.pages.length;++I){var H=this.pages[I];H.render();}this.renderFooter();},select:function(H){for(var J=0;J<this.pages.length;++J){var I=this.pages[J];I.select(H);}return this.getSelectedDates();},selectCell:function(H){for(var J=0;J<this.pages.length;++J){var I=this.pages[J];I.selectCell(H);}return this.getSelectedDates();},deselect:function(H){for(var J=0;J<this.pages.length;++J){var I=this.pages[J];I.deselect(H);}return this.getSelectedDates();},deselectAll:function(){for(var I=0;I<this.pages.length;++I){var H=this.pages[I];H.deselectAll();}return this.getSelectedDates();},deselectCell:function(H){for(var J=0;J<this.pages.length;++J){var I=this.pages[J];I.deselectCell(H);}return this.getSelectedDates();},reset:function(){for(var I=0;I<this.pages.length;++I){var H=this.pages[I];H.reset();}},clear:function(){for(var I=0;I<this.pages.length;++I){var H=this.pages[I];H.clear();}this.cfg.setProperty(C.SELECTED.key,[]);this.cfg.setProperty(C.PAGEDATE.key,new Date(this.pages[0].today.getTime()));this.render();},nextMonth:function(){for(var I=0;I<this.pages.length;++I){var H=this.pages[I];H.nextMonth();}},previousMonth:function(){for(var I=this.pages.length-1;I>=0;--I){var H=this.pages[I];H.previousMonth();}},nextYear:function(){for(var I=0;I<this.pages.length;++I){var H=this.pages[I];H.nextYear();}},previousYear:function(){for(var I=0;I<this.pages.length;++I){var H=this.pages[I];H.previousYear();}},getSelectedDates:function(){var J=[];var I=this.cfg.getProperty(C.SELECTED.key);for(var L=0;L<I.length;++L){var K=I[L];var H=F.getDate(K[0],K[1]-1,K[2]);J.push(H);}J.sort(function(N,M){return N-M;});return J;},addRenderer:function(H,I){for(var K=0;K<this.pages.length;++K){var J=this.pages[K];J.addRenderer(H,I);}},addMonthRenderer:function(K,H){for(var J=0;J<this.pages.length;++J){var I=this.pages[J];I.addMonthRenderer(K,H);
}},addWeekdayRenderer:function(I,H){for(var K=0;K<this.pages.length;++K){var J=this.pages[K];J.addWeekdayRenderer(I,H);}},removeRenderers:function(){this.callChildFunction("removeRenderers");},renderHeader:function(){},renderFooter:function(){},addMonths:function(H){this.callChildFunction("addMonths",H);},subtractMonths:function(H){this.callChildFunction("subtractMonths",H);},addYears:function(H){this.callChildFunction("addYears",H);},subtractYears:function(H){this.callChildFunction("subtractYears",H);},getCalendarPage:function(K){var M=null;if(K){var N=K.getFullYear(),J=K.getMonth();var I=this.pages;for(var L=0;L<I.length;++L){var H=I[L].cfg.getProperty("pagedate");if(H.getFullYear()===N&&H.getMonth()===J){M=I[L];break;}}}return M;},_setMonthOnDate:function(I,J){if(YAHOO.env.ua.webkit&&YAHOO.env.ua.webkit<420&&(J<0||J>11)){var H=F.add(I,F.MONTH,J-I.getMonth());I.setTime(H.getTime());}else{I.setMonth(J);}},_fixWidth:function(){var H=0;for(var J=0;J<this.pages.length;++J){var I=this.pages[J];H+=I.oDomContainer.offsetWidth;}if(H>0){this.oDomContainer.style.width=H+"px";}},toString:function(){return"CalendarGroup "+this.id;},destroy:function(){if(this.beforeDestroyEvent.fire()){var J=this;if(J.navigator){J.navigator.destroy();}if(J.cfg){J.cfg.destroy();}A.purgeElement(J.oDomContainer,true);D.removeClass(J.oDomContainer,B.CSS_CONTAINER);D.removeClass(J.oDomContainer,B.CSS_MULTI_UP);for(var I=0,H=J.pages.length;I<H;I++){J.pages[I].destroy();J.pages[I]=null;}J.oDomContainer.innerHTML="";J.oDomContainer=null;this.destroyEvent.fire();}}};B.CSS_CONTAINER="yui-calcontainer";B.CSS_MULTI_UP="multi";B.CSS_2UPTITLE="title";B.CSS_2UPCLOSE="close-icon";YAHOO.lang.augmentProto(B,G,"buildDayLabel","buildMonthLabel","renderOutOfBoundsDate","renderRowHeader","renderRowFooter","renderCellDefault","styleCellDefault","renderCellStyleHighlight1","renderCellStyleHighlight2","renderCellStyleHighlight3","renderCellStyleHighlight4","renderCellStyleToday","renderCellStyleSelected","renderCellNotThisMonth","renderBodyCellRestricted","initStyles","configTitle","configClose","configIframe","configStrings","configNavigator","createTitleBar","createCloseButton","removeTitleBar","removeCloseButton","hide","show","toDate","_toDate","_parseArgs","browser");YAHOO.widget.CalGrp=B;YAHOO.widget.CalendarGroup=B;YAHOO.widget.Calendar2up=function(J,H,I){this.init(J,H,I);};YAHOO.extend(YAHOO.widget.Calendar2up,B);YAHOO.widget.Cal2up=YAHOO.widget.Calendar2up;})();YAHOO.widget.CalendarNavigator=function(A){this.init(A);};(function(){var A=YAHOO.widget.CalendarNavigator;A.CLASSES={NAV:"yui-cal-nav",NAV_VISIBLE:"yui-cal-nav-visible",MASK:"yui-cal-nav-mask",YEAR:"yui-cal-nav-y",MONTH:"yui-cal-nav-m",BUTTONS:"yui-cal-nav-b",BUTTON:"yui-cal-nav-btn",ERROR:"yui-cal-nav-e",YEAR_CTRL:"yui-cal-nav-yc",MONTH_CTRL:"yui-cal-nav-mc",INVALID:"yui-invalid",DEFAULT:"yui-default"};A._DEFAULT_CFG={strings:{month:"Month",year:"Year",submit:"Okay",cancel:"Cancel",invalidYear:"Year needs to be a number"},monthFormat:YAHOO.widget.Calendar.LONG,initialFocus:"year"};A.ID_SUFFIX="_nav";A.MONTH_SUFFIX="_month";A.YEAR_SUFFIX="_year";A.ERROR_SUFFIX="_error";A.CANCEL_SUFFIX="_cancel";A.SUBMIT_SUFFIX="_submit";A.YR_MAX_DIGITS=4;A.YR_MINOR_INC=1;A.YR_MAJOR_INC=10;A.UPDATE_DELAY=50;A.YR_PATTERN=/^\d+$/;A.TRIM=/^\s*(.*?)\s*$/;})();YAHOO.widget.CalendarNavigator.prototype={id:null,cal:null,navEl:null,maskEl:null,yearEl:null,monthEl:null,errorEl:null,submitEl:null,cancelEl:null,firstCtrl:null,lastCtrl:null,_doc:null,_year:null,_month:0,__rendered:false,init:function(A){var C=A.oDomContainer;this.cal=A;this.id=C.id+YAHOO.widget.CalendarNavigator.ID_SUFFIX;this._doc=C.ownerDocument;var B=YAHOO.env.ua.ie;this.__isIEQuirks=(B&&((B<=6)||(this._doc.compatMode=="BackCompat")));},show:function(){var A=YAHOO.widget.CalendarNavigator.CLASSES;if(this.cal.beforeShowNavEvent.fire()){if(!this.__rendered){this.render();}this.clearErrors();this._updateMonthUI();this._updateYearUI();this._show(this.navEl,true);this.setInitialFocus();this.showMask();YAHOO.util.Dom.addClass(this.cal.oDomContainer,A.NAV_VISIBLE);this.cal.showNavEvent.fire();}},hide:function(){var A=YAHOO.widget.CalendarNavigator.CLASSES;if(this.cal.beforeHideNavEvent.fire()){this._show(this.navEl,false);this.hideMask();YAHOO.util.Dom.removeClass(this.cal.oDomContainer,A.NAV_VISIBLE);this.cal.hideNavEvent.fire();}},showMask:function(){this._show(this.maskEl,true);if(this.__isIEQuirks){this._syncMask();}},hideMask:function(){this._show(this.maskEl,false);},getMonth:function(){return this._month;},getYear:function(){return this._year;},setMonth:function(A){if(A>=0&&A<12){this._month=A;}this._updateMonthUI();},setYear:function(B){var A=YAHOO.widget.CalendarNavigator.YR_PATTERN;if(YAHOO.lang.isNumber(B)&&A.test(B+"")){this._year=B;}this._updateYearUI();},render:function(){this.cal.beforeRenderNavEvent.fire();if(!this.__rendered){this.createNav();this.createMask();this.applyListeners();this.__rendered=true;}this.cal.renderNavEvent.fire();},createNav:function(){var B=YAHOO.widget.CalendarNavigator;var C=this._doc;var D=C.createElement("div");D.className=B.CLASSES.NAV;var A=this.renderNavContents([]);D.innerHTML=A.join("");this.cal.oDomContainer.appendChild(D);this.navEl=D;this.yearEl=C.getElementById(this.id+B.YEAR_SUFFIX);this.monthEl=C.getElementById(this.id+B.MONTH_SUFFIX);this.errorEl=C.getElementById(this.id+B.ERROR_SUFFIX);this.submitEl=C.getElementById(this.id+B.SUBMIT_SUFFIX);this.cancelEl=C.getElementById(this.id+B.CANCEL_SUFFIX);if(YAHOO.env.ua.gecko&&this.yearEl&&this.yearEl.type=="text"){this.yearEl.setAttribute("autocomplete","off");}this._setFirstLastElements();},createMask:function(){var B=YAHOO.widget.CalendarNavigator.CLASSES;var A=this._doc.createElement("div");A.className=B.MASK;this.cal.oDomContainer.appendChild(A);this.maskEl=A;},_syncMask:function(){var B=this.cal.oDomContainer;if(B&&this.maskEl){var A=YAHOO.util.Dom.getRegion(B);YAHOO.util.Dom.setStyle(this.maskEl,"width",A.right-A.left+"px");YAHOO.util.Dom.setStyle(this.maskEl,"height",A.bottom-A.top+"px");
}},renderNavContents:function(A){var D=YAHOO.widget.CalendarNavigator,E=D.CLASSES,B=A;B[B.length]='<div class="'+E.MONTH+'">';this.renderMonth(B);B[B.length]="</div>";B[B.length]='<div class="'+E.YEAR+'">';this.renderYear(B);B[B.length]="</div>";B[B.length]='<div class="'+E.BUTTONS+'">';this.renderButtons(B);B[B.length]="</div>";B[B.length]='<div class="'+E.ERROR+'" id="'+this.id+D.ERROR_SUFFIX+'"></div>';return B;},renderMonth:function(D){var G=YAHOO.widget.CalendarNavigator,H=G.CLASSES;var I=this.id+G.MONTH_SUFFIX,F=this.__getCfg("monthFormat"),A=this.cal.cfg.getProperty((F==YAHOO.widget.Calendar.SHORT)?"MONTHS_SHORT":"MONTHS_LONG"),E=D;if(A&&A.length>0){E[E.length]='<label for="'+I+'">';E[E.length]=this.__getCfg("month",true);E[E.length]="</label>";E[E.length]='<select name="'+I+'" id="'+I+'" class="'+H.MONTH_CTRL+'">';for(var B=0;B<A.length;B++){E[E.length]='<option value="'+B+'">';E[E.length]=A[B];E[E.length]="</option>";}E[E.length]="</select>";}return E;},renderYear:function(B){var E=YAHOO.widget.CalendarNavigator,F=E.CLASSES;var G=this.id+E.YEAR_SUFFIX,A=E.YR_MAX_DIGITS,D=B;D[D.length]='<label for="'+G+'">';D[D.length]=this.__getCfg("year",true);D[D.length]="</label>";D[D.length]='<input type="text" name="'+G+'" id="'+G+'" class="'+F.YEAR_CTRL+'" maxlength="'+A+'"/>';return D;},renderButtons:function(A){var D=YAHOO.widget.CalendarNavigator.CLASSES;var B=A;B[B.length]='<span class="'+D.BUTTON+" "+D.DEFAULT+'">';B[B.length]='<button type="button" id="'+this.id+"_submit"+'">';B[B.length]=this.__getCfg("submit",true);B[B.length]="</button>";B[B.length]="</span>";B[B.length]='<span class="'+D.BUTTON+'">';B[B.length]='<button type="button" id="'+this.id+"_cancel"+'">';B[B.length]=this.__getCfg("cancel",true);B[B.length]="</button>";B[B.length]="</span>";return B;},applyListeners:function(){var B=YAHOO.util.Event;function A(){if(this.validate()){this.setYear(this._getYearFromUI());}}function C(){this.setMonth(this._getMonthFromUI());}B.on(this.submitEl,"click",this.submit,this,true);B.on(this.cancelEl,"click",this.cancel,this,true);B.on(this.yearEl,"blur",A,this,true);B.on(this.monthEl,"change",C,this,true);if(this.__isIEQuirks){YAHOO.util.Event.on(this.cal.oDomContainer,"resize",this._syncMask,this,true);}this.applyKeyListeners();},purgeListeners:function(){var A=YAHOO.util.Event;A.removeListener(this.submitEl,"click",this.submit);A.removeListener(this.cancelEl,"click",this.cancel);A.removeListener(this.yearEl,"blur");A.removeListener(this.monthEl,"change");if(this.__isIEQuirks){A.removeListener(this.cal.oDomContainer,"resize",this._syncMask);}this.purgeKeyListeners();},applyKeyListeners:function(){var D=YAHOO.util.Event,A=YAHOO.env.ua;var C=(A.ie||A.webkit)?"keydown":"keypress";var B=(A.ie||A.opera||A.webkit)?"keydown":"keypress";D.on(this.yearEl,"keypress",this._handleEnterKey,this,true);D.on(this.yearEl,C,this._handleDirectionKeys,this,true);D.on(this.lastCtrl,B,this._handleTabKey,this,true);D.on(this.firstCtrl,B,this._handleShiftTabKey,this,true);},purgeKeyListeners:function(){var D=YAHOO.util.Event,A=YAHOO.env.ua;var C=(A.ie||A.webkit)?"keydown":"keypress";var B=(A.ie||A.opera||A.webkit)?"keydown":"keypress";D.removeListener(this.yearEl,"keypress",this._handleEnterKey);D.removeListener(this.yearEl,C,this._handleDirectionKeys);D.removeListener(this.lastCtrl,B,this._handleTabKey);D.removeListener(this.firstCtrl,B,this._handleShiftTabKey);},submit:function(){if(this.validate()){this.hide();this.setMonth(this._getMonthFromUI());this.setYear(this._getYearFromUI());var B=this.cal;var A=YAHOO.widget.CalendarNavigator.UPDATE_DELAY;if(A>0){var C=this;window.setTimeout(function(){C._update(B);},A);}else{this._update(B);}}},_update:function(A){A.setYear(this.getYear());A.setMonth(this.getMonth());A.render();},cancel:function(){this.hide();},validate:function(){if(this._getYearFromUI()!==null){this.clearErrors();return true;}else{this.setYearError();this.setError(this.__getCfg("invalidYear",true));return false;}},setError:function(A){if(this.errorEl){this.errorEl.innerHTML=A;this._show(this.errorEl,true);}},clearError:function(){if(this.errorEl){this.errorEl.innerHTML="";this._show(this.errorEl,false);}},setYearError:function(){YAHOO.util.Dom.addClass(this.yearEl,YAHOO.widget.CalendarNavigator.CLASSES.INVALID);},clearYearError:function(){YAHOO.util.Dom.removeClass(this.yearEl,YAHOO.widget.CalendarNavigator.CLASSES.INVALID);},clearErrors:function(){this.clearError();this.clearYearError();},setInitialFocus:function(){var A=this.submitEl,C=this.__getCfg("initialFocus");if(C&&C.toLowerCase){C=C.toLowerCase();if(C=="year"){A=this.yearEl;try{this.yearEl.select();}catch(B){}}else{if(C=="month"){A=this.monthEl;}}}if(A&&YAHOO.lang.isFunction(A.focus)){try{A.focus();}catch(D){}}},erase:function(){if(this.__rendered){this.purgeListeners();this.yearEl=null;this.monthEl=null;this.errorEl=null;this.submitEl=null;this.cancelEl=null;this.firstCtrl=null;this.lastCtrl=null;if(this.navEl){this.navEl.innerHTML="";}var B=this.navEl.parentNode;if(B){B.removeChild(this.navEl);}this.navEl=null;var A=this.maskEl.parentNode;if(A){A.removeChild(this.maskEl);}this.maskEl=null;this.__rendered=false;}},destroy:function(){this.erase();this._doc=null;this.cal=null;this.id=null;},_show:function(B,A){if(B){YAHOO.util.Dom.setStyle(B,"display",(A)?"block":"none");}},_getMonthFromUI:function(){if(this.monthEl){return this.monthEl.selectedIndex;}else{return 0;}},_getYearFromUI:function(){var B=YAHOO.widget.CalendarNavigator;var A=null;if(this.yearEl){var C=this.yearEl.value;C=C.replace(B.TRIM,"$1");if(B.YR_PATTERN.test(C)){A=parseInt(C,10);}}return A;},_updateYearUI:function(){if(this.yearEl&&this._year!==null){this.yearEl.value=this._year;}},_updateMonthUI:function(){if(this.monthEl){this.monthEl.selectedIndex=this._month;}},_setFirstLastElements:function(){this.firstCtrl=this.monthEl;this.lastCtrl=this.cancelEl;if(this.__isMac){if(YAHOO.env.ua.webkit&&YAHOO.env.ua.webkit<420){this.firstCtrl=this.monthEl;this.lastCtrl=this.yearEl;
}if(YAHOO.env.ua.gecko){this.firstCtrl=this.yearEl;this.lastCtrl=this.yearEl;}}},_handleEnterKey:function(B){var A=YAHOO.util.KeyListener.KEY;if(YAHOO.util.Event.getCharCode(B)==A.ENTER){YAHOO.util.Event.preventDefault(B);this.submit();}},_handleDirectionKeys:function(H){var G=YAHOO.util.Event,A=YAHOO.util.KeyListener.KEY,D=YAHOO.widget.CalendarNavigator;var F=(this.yearEl.value)?parseInt(this.yearEl.value,10):null;if(isFinite(F)){var B=false;switch(G.getCharCode(H)){case A.UP:this.yearEl.value=F+D.YR_MINOR_INC;B=true;break;case A.DOWN:this.yearEl.value=Math.max(F-D.YR_MINOR_INC,0);B=true;break;case A.PAGE_UP:this.yearEl.value=F+D.YR_MAJOR_INC;B=true;break;case A.PAGE_DOWN:this.yearEl.value=Math.max(F-D.YR_MAJOR_INC,0);B=true;break;default:break;}if(B){G.preventDefault(H);try{this.yearEl.select();}catch(C){}}}},_handleTabKey:function(D){var C=YAHOO.util.Event,A=YAHOO.util.KeyListener.KEY;if(C.getCharCode(D)==A.TAB&&!D.shiftKey){try{C.preventDefault(D);this.firstCtrl.focus();}catch(B){}}},_handleShiftTabKey:function(D){var C=YAHOO.util.Event,A=YAHOO.util.KeyListener.KEY;if(D.shiftKey&&C.getCharCode(D)==A.TAB){try{C.preventDefault(D);this.lastCtrl.focus();}catch(B){}}},__getCfg:function(D,B){var C=YAHOO.widget.CalendarNavigator._DEFAULT_CFG;var A=this.cal.cfg.getProperty("navigator");if(B){return(A!==true&&A.strings&&A.strings[D])?A.strings[D]:C.strings[D];}else{return(A!==true&&A[D])?A[D]:C[D];}},__isMac:(navigator.userAgent.toLowerCase().indexOf("macintosh")!=-1)};YAHOO.register("calendar",YAHOO.widget.Calendar,{version:"2.7.0",build:"1799"});
// lib/cmecf.js v5.8
window.CMECF=window.CMECF||{};CMECF.namespace=function(c){if(!c||!c.length){return null}var d=c.split(".");var b=CMECF;for(var a=(d[0]==="CMECF")?1:0;a<d.length;++a){b[d[a]]=b[d[a]]||{};b=b[d[a]]}return b};CMECF.namespace("util");CMECF.namespace("widget");CMECF.namespace("lang");CMECF.namespace("env");CMECF.lang=YAHOO.lang;CMECF.widget.Dialog=YAHOO.widget.Dialog;CMECF.util.Connect=YAHOO.util.Connect;CMECF.util.Connect.asyncRequest=YAHOO.util.Connect.asyncRequest;CMECF.env.ua=YAHOO.env.ua;if(!window.console){window.console={timers:{},values:{open:false},openwin:function(){window.top.debugWindow=window.open("","Debug","left=0,top=530,width=1000,height=50,scrollbars=yes,status=yes,resizable=yes");window.top.debugWindow.opener=self;window.top.debugWindow.document.open();window.top.debugWindow.document.write("<html><head><title>debug window</title></head><body><pre>");window.console.values[open]=true},log:function(a){if(!window.console.values[open]){window.console.openwin()}window.top.debugWindow.document.write(a+"\n");window.top.debugWindow.scroll(0,window.top.debugWindow.document.body.scrollHeight)},time:function(a){window.console.timers[a]=new Date().getTime()},timeEnd:function(b){var a=new Date().getTime()-window.console.timers[b];console.log(["<strong>",b,"</strong>: ",a,"ms"].join(""))}}}CMECF.util.unencode=function(c){var b=new RegExp("&#0*(\\d+);","g");var a;while((a=b.exec(c))!==null){c=c.substring(0,a.index)+String.fromCharCode(a[1])+c.substring(a.index+a[0].length)}return c};CMECF.util.verifyLoginThenRun=function(d){var e="/bin/info?do=check_login";var b;function c(){if(b){var g=b.document;if(g){var h=g.lastChild;if(h&&h.innerHTML.match(/good login/)){b.close();if(d){d()}return 1}window.setTimeout(c,1000)}}}function a(h){if(h&&h.responseText){var g=h.responseText;if(g==="good login"){if(d){d()}return 1}}b=window.open(e,"Available");b.focus();window.setTimeout(c,1000)}var f={success:a,failure:a,cache:false};CMECF.util.Connect.asyncRequest("GET",e,f)};CMECF.util.Event=YAHOO.util.Event;CMECF.pageHasLoaded=false;CMECF.util.Event.addListener(window,"load",function(){CMECF.pageHasLoaded=true});CMECF.whenPageHasLoaded=function(a){if(CMECF.pageHasLoaded){return a()}else{CMECF.util.Event.addListener(window,"load",a)}return 1};CMECF.util.queuedFunctions=[];CMECF.util.runQueuedFunctions=function(){var b=CMECF.util.queuedFunctions.length;for(var a=0;a<b;a++){CMECF.util.queuedFunctions[a]()}};CMECF.isIE=function(a,b){if(!YAHOO.env.ua.ie){return false}if(!a){return true}if(!b){return(YAHOO.env.ua.ie===a)}if(b==="or later"){return(YAHOO.env.ua.ie>=a)}if(b==="or earlier"){return(YAHOO.env.ua.ie<=a)}};CMECF.insertAfter=function(b,a){a.parentNode.insertBefore(b,a.nextSibling)};
// lib/dls_url.js v5.15
function goDLS(n,i,c,g,a,d,k,m,f,b){var j="go_dls_url";var h;if(document.getElementById(j)){var e=document.getElementById(j);document.body.removeChild(e)}var l=document.createElement("form");l.setAttribute("action",n);l.setAttribute("method","post");l.setAttribute("id",j);document.body.appendChild(l);if(i.length>0){h=document.createElement("input");h.setAttribute("type","hidden");h.setAttribute("name","caseid");h.setAttribute("value",i);l.appendChild(h)}if(c.length>0){h=document.createElement("input");h.setAttribute("type","hidden");h.setAttribute("name","de_seq_num");h.setAttribute("value",c);l.appendChild(h)}if(g.length>0){h=document.createElement("input");h.setAttribute("type","hidden");h.setAttribute("name","got_receipt");h.setAttribute("value",g);l.appendChild(h)}if(a.length>0){h=document.createElement("input");h.setAttribute("type","hidden");h.setAttribute("name","pdf_header");h.setAttribute("value",a);l.appendChild(h)}if(d.length>0){h=document.createElement("input");h.setAttribute("type","hidden");h.setAttribute("name","pdf_toggle_possible");h.setAttribute("value",d);l.appendChild(h)}if(k.length>0){h=document.createElement("input");h.setAttribute("type","hidden");h.setAttribute("name","magic_num");h.setAttribute("value",k);l.appendChild(h)}if(m.length>0){h=document.createElement("input");h.setAttribute("type","hidden");h.setAttribute("name","claim_id");h.setAttribute("value",m);l.appendChild(h)}if(f.length>0){h=document.createElement("input");h.setAttribute("type","hidden");h.setAttribute("name","claim_num");h.setAttribute("value",f);l.appendChild(h)}if(b.length>0){h=document.createElement("input");h.setAttribute("type","hidden");h.setAttribute("name","claim_doc_seq");h.setAttribute("value",b);l.appendChild(h)}document.getElementById(j).submit()}CMECF.widget.DocLink=function(h){var f=false;var c=false;var e=document.getElementById(h);var a=false;if(!e){window.console.log("Could not find link "+h);return}function i(q){if(q&&q.type){CMECF.util.Event.stopEvent(q)}if(!c){window.setTimeout(i,100);return}var p="go_dls_url";if(document.getElementById(p)){var m=document.getElementById(p);document.body.removeChild(m)}var l=document.createElement("form");l.setAttribute("action",e.href.replace(/https:\/\/[^\/]+/,""));l.setAttribute("method","post");l.setAttribute("id",p);var r=h.replace(/^documentK/,"").split("K");var j=r.length;for(var n=0;n<j;n++){var k=r[n].split("V");if(k.length===2){var o=document.createElement("input");o.setAttribute("type","hidden");o.setAttribute("name",k[0]);o.setAttribute("value",k[1]);l.appendChild(o)}}document.body.appendChild(l).submit()}function b(j){if(c){if(a){a.hide()}CMECF.util.Event.removeListener(e,"contextmenu",a);return 1}if(!a){a=new CMECF.widget.Panel("pausepanel"+h,{fixedcenter:true,close:false,constraintoviewport:true,visible:false});a.setBody("Loading document link....");a.render(document.body);a.show()}window.setTimeout(b,100);return}function d(l){if(l&&l.responseText){var j=l.responseText;if(j&&j.match(/^http/)){e.href=j}}c=true;if(l&&l.argument){var k=l.argument;if(k&&k==="click"){i()}}CMECF.util.Event.removeListener(e,"contextmenu",a)}function g(j){if(j.type!=="contextmenu"){CMECF.util.Event.stopEvent(j)}if(!f){f=true;var k={success:d,failure:d,argument:j.type};CMECF.util.Connect.asyncRequest("GET","/cgi-bin/document_link.pl?"+h,k);CMECF.util.Event.removeListener(e,"mouseover",g);CMECF.util.Event.removeListener(e,"contextmenu",g);CMECF.util.Event.removeListener(e,"click");CMECF.util.Event.addListener(e,"click",i);CMECF.util.Event.addListener(e,"contextmenu",b);return}if(j.type==="click"){window.setTimeout(i,100)}else{if(j.type==="contextmenu"){b()}}}CMECF.util.Event.addListener(e,"click",g);CMECF.util.Event.addListener(e,"mouseover",g);CMECF.util.Event.addListener(e,"contextmenu",g)};
// lib/top_nav_menu.js v6.3
CMECF.namespace("MainMenu");CMECF.util.Event=YAHOO.util.Event;CMECF.util.Dom=YAHOO.util.Dom;CMECF.util.Connect=YAHOO.util.Connect;CMECF.widget.Panel=YAHOO.widget.Panel;CMECF.widget.Module=YAHOO.widget.Module;CMECF.MainMenu.Menu=YAHOO.widget.Menu;CMECF.MainMenu.MenuItem=YAHOO.widget.MenuItem;CMECF.MainMenu.MenuBar=YAHOO.widget.MenuBar;CMECF.MainMenu.MenuBarItem=YAHOO.widget.MenuBarItem;CMECF.MainMenu.OverlayManager=new YAHOO.widget.OverlayManager();CMECF.MainMenu.MenuItem.prototype.COLLAPSED_SUBMENU_INDICATOR_TEXT=">";CMECF.MainMenu.MenuItem.prototype.EXPANDED_SUBMENU_INDICATOR_TEXT=">";CMECF.MainMenu.MenuItem.prototype.DISABLED_SUBMENU_INDICATOR_TEXT="X";CMECF.MainMenu.MenuBarItem.prototype.COLLAPSED_SUBMENU_INDICATOR_TEXT="v";CMECF.MainMenu.MenuBarItem.prototype.EXPANDED_SUBMENU_INDICATOR_TEXT="v";CMECF.MainMenu.MenuBarItem.prototype.DISABLED_SUBMENU_INDICATOR_TEXT="X";CMECF.MainMenu.hideSubmenus=function(){if(CMECF.MainMenu.TopMenu.activeItem){var a=CMECF.MainMenu.TopMenu.activeItem.cfg.getProperty("submenu");if(a){a.hide()}}CMECF.MainMenu.focusOnFirstItem()};CMECF.MainMenu.focusOnMainMenuItem=function(b){var a=b.parent.activeItem;if(a&&a!==b){b.parent.clearActiveItem()}b.cfg.setProperty("selected",true);b.focus();var c=b.cfg.getProperty("submenu");if(c){c.show()}};CMECF.MainMenu.addMainMenuItem=function(b,a,c){if(a){b.cfg.setProperty("submenu",{id:a,itemdata:CMECF.MainMenu.oMenuData[a],useClass:"cmecfsubmenu1"})}if(!CMECF.MainMenu.hotkeys){CMECF.MainMenu.hotkeys={}}if(c){CMECF.MainMenu.hotkeys[c]=b}};CMECF.MainMenu.helpImageOn=function(){if(!CMECF.MainMenu.rendered){return false}if(CMECF.MainMenu.imageHoverTimeout){window.clearTimeout(CMECF.MainMenu.imageHoverTimeout)}if(!CMECF.MainMenu.helpImageNode){CMECF.MainMenu.helpImageNode=document.getElementById("helpImage")}CMECF.MainMenu.imageHoverTimeout=window.setTimeout("CMECF.MainMenu.helpImageNode.src='/graphics/menubar-help-hover.gif'",300);return true};CMECF.MainMenu.helpImageOff=function(){if(!CMECF.MainMenu.rendered){return false}if(CMECF.MainMenu.imageHoverTimeout){window.clearTimeout(CMECF.MainMenu.imageHoverTimeout)}if(!CMECF.MainMenu.helpImageNode){CMECF.MainMenu.helpImageNode=document.getElementById("helpImage")}if(CMECF.MainMenu.helpImageNode){CMECF.MainMenu.helpImageNode.src="/graphics/menubar-help-out.gif"}return true};CMECF.MainMenu.hotKeys=function(a,c){var b=a.keyCode;if(b===27){CMECF.MainMenu.hideSubmenus();CMECF.MainMenu.TopMenu.clearActiveItem();window.setTimeout(CMECF.MainMenu.focusOnFirstItem,0);return false}else{if(a.altKey&&CMECF.MainMenu.hotkeys[b]){CMECF.MainMenu.focusOnMainMenuItem(CMECF.MainMenu.hotkeys[b]);return false}}return true};CMECF.MainMenu.focusOnFirstItem=function(){var d=document.forms[0];if(d){for(var b=0;b<d.elements.length;b++){var a=d.elements[b];if(a.type!=="hidden"){a.focus();return 1}}}var c=document.getElementById("cmecfMainContent");if(c){if(c.setAttribute){c.setAttribute("autocomplete","off")}if(c.focus){c.focus()}}};CMECF.MainMenu.renderMainMenu=function(a){if(CMECF.MainMenu.hideMenuInPopUp()){return false}a.render();a.show();CMECF.MainMenu.setMainContentSize();CMECF.util.Event.addListener(window,"resize",CMECF.MainMenu.setMainContentSize);CMECF.util.Event.addListener(document,"keydown",CMECF.MainMenu.hotKeys);CMECF.MainMenu.helpImageOn();CMECF.MainMenu.helpImageOff();CMECF.MainMenu.rendered=true;window.setTimeout(CMECF.MainMenu.fixPageSlipInIE,30)};CMECF.MainMenu.renderSimpleMenu=function(){if(CMECF.MainMenu.hideMenuInPopUp()){return false}CMECF.MainMenu.setMainContentSize();CMECF.util.Event.addListener(window,"resize",CMECF.MainMenu.setMainContentSize);CMECF.MainMenu.helpImageOn();CMECF.MainMenu.helpImageOff();CMECF.MainMenu.rendered=true;window.setTimeout(CMECF.MainMenu.fixPageSlipInIE,30)};CMECF.MainMenu.contentMayScroll=function(){return(CMECF.MainMenu.mainContent.offsetHeight>=CMECF.MainMenu.mainContent.scrollHeight)};CMECF.MainMenu.contentScrolled=function(a){CMECF.MainMenu.mainContentScroll.value=CMECF.MainMenu.mainContent.scrollTop};CMECF.MainMenu.setContentScroll=function(a){if(!CMECF.MainMenu.mainContentScroll){CMECF.MainMenu.mainContentScroll=document.getElementById("cmecfMainContentScroll")}if(CMECF.MainMenu.mainContentScroll&&CMECF.MainMenu.mainContentScroll.value>0){CMECF.MainMenu.mainContent.scrollTop=CMECF.MainMenu.mainContentScroll.value}CMECF.util.Event.addListener(CMECF.MainMenu.mainContent,"scroll",CMECF.MainMenu.contentScrolled)};CMECF.MainMenu.hideMenuInPopUp=function(){try{if(self.opener&&self.opener.CMECF&&!self.location.match(/\/bin\//)){document.getElementById("cmecfLogo").style.display="none";document.getElementById("eorderInfo").style.display="none";document.getElementById("helpImage").style.display="none";document.getElementById("topmenu").style.display="none";document.getElementById("cmecfMainContent").style.height="100%";return true}}catch(a){}return false};CMECF.MainMenu.getMainContentSize=function(d){var c=document.getElementById("topmenu");var e=CMECF.MainMenu.getWindowHeight();var b=0;if(c){b=c.offsetHeight}if(!d&&CMECF.toolbar.topStaticContent){b+=CMECF.toolbar.topStaticContent.offsetHeight+1}if(!d&&CMECF.toolbar.bottomStaticContent&&CMECF.toolbar.bottomIsStatic()){b+=CMECF.toolbar.bottomStaticContent.offsetHeight+1}for(var a=0;a<CMECF.MainMenu.toolbars.length;a++){b+=CMECF.MainMenu.toolbars[a].offsetHeight+1}return(e-b)+"px"};CMECF.MainMenu.setMainContentSize=function(){if(!CMECF.MainMenu.mainContent){CMECF.MainMenu.mainContent=document.getElementById("cmecfMainContent");if(!CMECF.MainMenu.mainContent){window.setTimeout(CMECF.MainMenu.setMainContentSize,10);return}}CMECF.MainMenu.mainContent.style.height=CMECF.MainMenu.getMainContentSize();if(CMECF.sidebar.sidebarNode){CMECF.sidebar.sidebarNode.style.height=CMECF.MainMenu.getMainContentSize(true)}CMECF.MainMenu.mainContentScroll=document.getElementById("cmecfMainContentScroll");if(navigator.appVersion.indexOf("MSIE")!==-1){CMECF.MainMenu.setContentScroll()}else{CMECF.util.Event.addListener(window,"load",CMECF.MainMenu.setContentScroll);if(navigator.userAgent.match(/Netscape/)){CMECF.MainMenu.mainContent.style.overflow="visible"}}};CMECF.MainMenu.getWindowHeight=function(){if(typeof(window.innerWidth)==="number"){return window.innerHeight}if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){return document.documentElement.clientHeight}if(document.body&&(document.body.clientWidth||document.body.clientHeight)){return document.body.clientHeight}return 600};CMECF.MainMenu.getWindowWidth=function(){if(typeof(window.innerWidth)==="number"){return window.innerWidth}if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){return document.documentElement.clientWidth}if(document.body&&(document.body.clientWidth||document.body.clientHeight)){return document.body.clientWidth}return 800};CMECF.MainMenu.showCourtInformation=function(){if(!CMECF.MainMenu.rendered){window.setTimeout(CMECF.MainMenu.showCourtInformation,1000);return false}if(!CMECF.MainMenu.courtInformationPanel){CMECF.MainMenu.courtInformationPanel=new CMECF.widget.Panel("thiscourtinformation",{width:"25em",fixedcenter:true,constraintoviewport:true,close:true,visible:false,draggable:true});CMECF.MainMenu.courtInformationPanel.setHeader("Court Summary");CMECF.MainMenu.courtInformationPanel.setBody(CMECF.MainMenu.courtInformation);CMECF.MainMenu.courtInformationPanel.render(document.body);CMECF.MainMenu.courtInformationPanel.bringToTop();CMECF.util.Event.addListener(CMECF.MainMenu.courtInformationPanel.element,"mousedown",function(){CMECF.MainMenu.courtInformationPanel.bringToTop()})}CMECF.MainMenu.courtInformationPanel.show()};function deleteCookie(b){var a=new Date();a.setTime(a.getTime());document.cookie=b+="=; expires="+a.toGMTString()}CMECF.MainMenu.currentHelpLocation="";CMECF.MainMenu.showHelpPage=function(b,a){if(!CMECF.MainMenu.rendered){window.setTimeout(CMECF.MainMenu.showHelpPage,1000);return false}var f;if(a){f="HelpURL="+a+"|";deleteCookie("HELP")}else{f="HELP="+(b?b:document.location);deleteCookie("HelpURL")}if(!(CMECF.MainMenu.helpPanel&&CMECF.MainMenu.currentHelpLocation===f)){if(!CMECF.MainMenu.helpPanel){CMECF.MainMenu.helpPanel=new CMECF.widget.Panel("helpPage",{width:"25em",height:"25em",fixedcenter:true,constraintoviewport:true,close:true,visible:false,draggable:true});CMECF.MainMenu.helpPanel.setHeader("Help")}CMECF.MainMenu.helpPanel.setBody("<h3>Getting help text.</h3>");CMECF.MainMenu.helpPanel.render(document.body);CMECF.MainMenu.helpPanel.bringToTop();CMECF.util.Event.addListener(CMECF.MainMenu.helpPanel.element,"mousedown",function(){CMECF.MainMenu.helpPanel.bringToTop()});document.cookie=f;CMECF.MainMenu.currentHelpLocation=f;var e=Math.random();var d="/cgi-bin/chelp.pl?";var c=window.location.href.match(/[^?]*\/bin\/(.*)$/);if(c!==null){d="/bin/help?page="+c[1].replace(/\?/,"&")+"&"}CMECF.util.Connect.asyncRequest("GET",d+"number="+e,{success:CMECF.MainMenu.updateHelpPage})}CMECF.MainMenu.helpPanel.show()};CMECF.MainMenu.updateHelpPage=function(b){var a=b.responseText;if(a.match(/"login"/)){a="Your login has expired.  Please refresh this page."}if(CMECF.MainMenu.helpPanel){CMECF.MainMenu.helpPanel.setBody(a);CMECF.MainMenu.helpPanel.body.style.height="23em";CMECF.MainMenu.helpPanel.body.style.width="24.625em"}};CMECF.MainMenu.searchPrompt=function(){if(!CMECF.MainMenu.searchPanel){CMECF.MainMenu.searchPanel=new CMECF.widget.Panel("search",{width:"300px",context:["cmecfMainContent","tr","tr"],constraintoviewport:true,close:true,visible:false,draggable:true,appendtodocumentbody:true});CMECF.MainMenu.searchPanel.setHeader("Search Menus and Events");CMECF.MainMenu.searchPanel.setBody(CMECF.MainMenu.searchPage);CMECF.MainMenu.searchPanel.render(document.body)}CMECF.MainMenu.searchPanel.show();function a(){var b=document.getElementById("searchTerm");if(b){b.focus()}}window.setTimeout(a,0)};CMECF.MainMenu.searchPage="<form name='search_form' enctype='multipart/form-data' method='post' action='/cgi-bin/Search.pl?3141592135-L_9999_1-1'><input type='text' class='searchTerm' name='searchTerm' id='searchTerm' style='width:260px' onFocus='this.select()' autocomplete=\"off\" onKeyDown=\"var key = ((navigator.appVersion.indexOf('MSIE') == -1) ? event.which : event.keyCode);if (key == 10 || key == 13) {CMECF.util.Event.stopEvent(event);return false;}\" onKeyUp=\"var key = ((navigator.appVersion.indexOf('MSIE') == -1) ? event.which : event.keyCode);if (key == 10 || key == 13) {CMECF.util.Event.stopEvent(event);CMECF.MainMenu.submitSearch();return false;}\" /><img src=\"/graphics/search.gif\" alt=\"Search\" title=\"Search\" onClick='CMECF.MainMenu.submitSearch()' id=\"searchTerm_button\" class='searchButton' /></form>";CMECF.MainMenu.submitSearch=function(){var a=document.getElementById("searchTerm");if(a.value.length&&a.value.match("[^ \n\t\r]")){document.forms.search_form.submit()}};CMECF.MainMenu.moveIfOutsideWindow=function(c,d,a){var e,g,b,f;if(!d){d=parseInt(CMECF.util.Dom.getStyle(c,"width"),10)}if(!a){a=parseInt(CMECF.util.Dom.getStyle(c,"height"),10)}e=CMECF.util.Dom.getX(c)+d;g=CMECF.util.Dom.getY(c)+a;b=CMECF.MainMenu.getWindowWidth()-25;f=CMECF.MainMenu.getWindowHeight();if(CMECF.toolbar.bottomStaticContent&&CMECF.toolbar.bottomIsStatic()){f-=CMECF.toolbar.bottomStaticContent.offsetHeight+1}if(e>b){CMECF.util.Dom.setX(c,b-d)}if(g>f){CMECF.util.Dom.setY(c,f-a)}return true};CMECF.MainMenu.fixPageSlipInIE=function(){if(CMECF.isIE()){try{document.getElementById("cmecfMainContent").style.marginTop="0px";document.forms[0].style.marginTop="0px"}catch(a){}}};
// lib/toolbars.js v5.33
CMECF.namespace("toolbar");if(!CMECF.MainMenu.toolbars){CMECF.MainMenu.toolbars=[];CMECF.toolbar.buttons={};CMECF.toolbar.dateFields={};CMECF.toolbar.alreadyToggled=false;CMECF.toolbar.movedForm=false;CMECF.toolbar.movedTitle=false;CMECF.toolbar.topStaticContent="";CMECF.toolbar.bottomStaticContent="";CMECF.toolbar.justPlacedBottomStaticContent=false}CMECF.toolbar.todaysDate="";CMECF.toolbar.add=function(e,b,c){var f,d,g,a;if(!c){window.setTimeout(function(){CMECF.toolbar.add(e,b,true)},0);return}b.size=(b.size||"small");if(!CMECF.MainMenu.mainContent){CMECF.MainMenu.mainContent=document.getElementById("cmecfMainContent")}if(!CMECF.MainMenu.mainContent){return}a=document.getElementById("topmenu");if(!a){return}f=document.createElement("div");f.id=e;f.className="toolbar-"+b.size;if(b.size==="small"){f.className+=" smallertext"}if(b.label){d=document.createElement("span");d.className="toolbar-label";d.appendChild(document.createTextNode(b.label));f.appendChild(d)}if(b.items){for(i=0;i<b.items.length;i++){if(b.items[i].id===undefined){b.items[i].id=e+"-"+(i+1)+"-item"}if(b.items[i]){if(b.items[i].html){g=CMECF.toolbar.getHTMLItem(b.items[i])}else{b.items[i].size=b.size;if(b.items[i].iconOnly===undefined&&b.iconOnly!==undefined){b.items[i].iconOnly=b.iconOnly}if(b.items[i].textOnly===undefined&&b.textOnly!==undefined){b.items[i].textOnly=b.textOnly}if(b.items[i].href){g=CMECF.toolbar.getLinkItem(b.items[i])}else{g=CMECF.toolbar.getButtonItem(b.items[i])}}f.appendChild(g);if(b.items[i].separator){f.appendChild(CMECF.toolbar.getSeparator());CMECF.util.Dom.addClass(g,"toolbar-item-has-separator")}}}}CMECF.insertAfter(f,a);CMECF.toolbar.initializeDateFields();CMECF.MainMenu.toolbars.push(f);CMECF.MainMenu.setMainContentSize();return true};CMECF.toolbar.initializeDateFields=function(a){var c,b;if(CMECF.isIE()){CMECF.whenPageHasLoaded(CMECF.toolbar.createDateFields);return}for(c in CMECF.toolbar.dateFields){CMECF.CalendarButton.item(c)}};CMECF.toolbar.createDateFields=function(){var b,a;for(b in CMECF.toolbar.dateFields){a=CMECF.toolbar.dateFields[b];document.getElementById(b+"-container").innerHTML=a;CMECF.CalendarButton.item(b)}CMECF.MainMenu.setMainContentSize()};CMECF.toolbar.readCookie=function(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null};CMECF.toolbar.getDateFieldForLink=function(b){var g=b.id+"-date";var a=document.createElement("div");a.id=g+"-container";a.className="toolbar-html";var f="";var e="";var c={"/cgi-bin/CalEvents.pl":"CalEvents","/cgi-bin/DailyCal.pl":"DailyCal","/cgi-bin/DoCalendar.pl":"DoCalendar"};var d=c[b.href];f=CMECF.toolbar.readCookie(d);if(!CMECF.toolbar.todaysDate){CMECF.toolbar.todaysDate=CMECF.toolbar.getTodaysDate()}e=(f?f:CMECF.toolbar.todaysDate);CMECF.toolbar.dateFields[g]='<span name="'+g+'" id="'+g+'" class="dateTextField" /><div id="'+g+'_button" class="calendarButton" tabindex="10000" >'+e+'</div><span class="calendarWrapper"><span id="'+g+'_calendar_container"></span></span>';if(!CMECF.isIE()){a.innerHTML=CMECF.toolbar.dateFields[g]}return a};CMECF.toolbar.getTodaysDate=function(){var b=new Date();var a=b.getDate();var e=b.getMonth()+1;var c=b.getFullYear();var d=e+"/"+a+"/"+c;return d};CMECF.toolbar.getHTMLItem=function(b){var a=document.createElement("div");a.id=b.id;a.className="toolbar-html";a.innerHTML+=b.html;return a};CMECF.toolbar.getSeparator=function(){var a=document.createElement("div");a.className="toolbar-separator";a.innerHTML+="<span class='toolbar-separator-left'>&nbsp;</span><span class='toolbar-separator-right'>&nbsp;</span>";return a};CMECF.toolbar.getButtonItem=function(c){var f=true,b=true;if(c.textOnly){f=false}else{if(c.iconOnly&&c.iconName){b=false}}var a=document.createElement("div");a.id=c.id;a.className="toolbar-item-"+c.size;if(f){var e=document.createElement("div");e.id=c.id+"-icon";e.className=" toolbar-icon-"+c.size+"  toolbar-icon-"+c.size+"-"+c.iconName;e.alt=(b?"":c.label);e.title=(b?"":c.label);e.innerHTML="&nbsp;";a.appendChild(e)}if(b){var d=document.createElement("span");d.className="toolbar-item-label";d.appendChild(document.createTextNode((f?" ":"")+c.label));a.appendChild(d)}if(c.toggle){c.toggleMode=false}CMECF.toolbar.buttons[c.id]=c;if(c.disabled){CMECF.toolbar._disableButton(a,e)}else{CMECF.toolbar._enableButton(c,a)}return a};CMECF.toolbar.getLinkItem=function(c){var h=true,b=true;if(c.textOnly){h=false}else{if(c.iconOnly&&c.iconName){b=false}}var a=document.createElement("div");a.id=c.id;a.className="toolbar-item-"+c.size;var e=document.createElement("a");e.id=c.id+"-anchor";e.setAttribute("href",c.href);if(h){var g=document.createElement("div");g.id=c.id+"-icon";g.className=" toolbar-icon-"+c.size+"  toolbar-icon-"+c.size+"-"+c.iconName;g.alt=(b?"":c.label);g.title=(b?"":c.label);g.innerHTML="&nbsp;";e.appendChild(g)}if(b){var d=document.createElement("span");d.className="toolbar-item-label";d.appendChild(document.createTextNode((h?" ":"")+c.label));e.appendChild(d)}a.appendChild(e);var f=a;if(c.date){a.appendChild(CMECF.toolbar.getDateFieldForLink(c));f=e}if(c.click){CMECF.util.Event.on(f.id,"click",new Function(c.click))}CMECF.util.Event.on(a.id,"mouseover",CMECF.toolbar.buttonMouseoverHandler,a);CMECF.util.Event.on(a.id,"mouseout",CMECF.toolbar.buttonMouseoutHandler,a);CMECF.util.Event.on(f.id,"mousedown",CMECF.toolbar.buttonMousedownHandler,a);CMECF.util.Event.on(f.id,"mouseup",CMECF.toolbar.buttonMouseupHandler,a);return a};CMECF.toolbar.changeToggleMode=function(a,b){if(CMECF.toolbar.alreadyToggled){CMECF.toolbar.alreadyToggled=false;return}CMECF.toolbar.buttons[b.id].toggleMode=!CMECF.toolbar.buttons[b.id].toggleMode;CMECF.toolbar.fixToggleButtonListeners(b);CMECF.toolbar.alreadyToggled=true};CMECF.toolbar.fixToggleButtonListeners=function(a){if(CMECF.toolbar.buttons[a.id].toggleMode){CMECF.toolbar.buttonMousedownHandler("",a);CMECF.util.Dom.addClass(a,"yuimenuitem-selected");CMECF.util.Event.purgeElement(a,false,"mouseup");CMECF.util.Event.purgeElement(a,false,"mouseover");CMECF.util.Event.purgeElement(a,false,"mouseout")}else{CMECF.toolbar.buttonMouseupHandler("",a);CMECF.util.Dom.removeClass(a,"yuimenuitem-selected");CMECF.util.Event.on(a.id,"mouseup",CMECF.toolbar.buttonMouseupHandler,a);CMECF.util.Event.on(a.id,"mouseover",CMECF.toolbar.buttonMouseoverHandler,a);CMECF.util.Event.on(a.id,"mouseout",CMECF.toolbar.buttonMouseoutHandler,a)}};CMECF.toolbar.getToggleMode=function(a){return CMECF.toolbar.buttons[a].toggleMode};CMECF.toolbar.enableButton=function(d){if(!CMECF.toolbar.buttons[d]){console.log(d+" is not a valid button id");return}var c=document.getElementById(d);var b=document.getElementById(d+"-icon");var a=CMECF.toolbar.buttons[d];if(!CMECF.util.Dom.hasClass(c,"disabledLabel")){return}return CMECF.toolbar._enableButton(a,c,b)};CMECF.toolbar._enableButton=function(a,c,b){var d=c.id;CMECF.util.Dom.removeClass(c,"disabledLabel");if(b){CMECF.util.Dom.removeClass(b,"toolbar-icon-disabled")}if(a.toggle){CMECF.toolbar.fixToggleButtonListeners(c)}else{CMECF.util.Event.on(c.id,"mouseover",CMECF.toolbar.buttonMouseoverHandler,c);CMECF.util.Event.on(c.id,"mousedown",CMECF.toolbar.buttonMousedownHandler,c);CMECF.util.Event.on(c.id,"mouseup",CMECF.toolbar.buttonMouseupHandler,c);CMECF.util.Event.on(c.id,"mouseout",CMECF.toolbar.buttonMouseoutHandler,c)}if(a.toggle){CMECF.util.Event.on(d,"click",CMECF.toolbar.changeToggleMode,c)}if(a.click){CMECF.util.Event.on(d,"click",new Function(a.click))}if(a.toggle){CMECF.util.Event.on(d,"click",CMECF.toolbar.changeToggleMode,c)}};CMECF.toolbar.disableButton=function(c){if(!CMECF.toolbar.buttons[c]){console.log(c+" is not a valid button id");return}var b=document.getElementById(c);var a=document.getElementById(c+"-icon");if(CMECF.util.Dom.hasClass(b,"disabledLabel")){return}return CMECF.toolbar._disableButton(b,a)};CMECF.toolbar._disableButton=function(b,a){var c=b.id;CMECF.util.Event.purgeElement(b);CMECF.util.Dom.addClass(b,"disabledLabel");if(a){CMECF.util.Dom.addClass(a,"toolbar-icon-disabled")}CMECF.util.Dom.removeClass(c,"toolbar-item-selected");CMECF.util.Dom.removeClass(c,"toolbar-item-pressed")};CMECF.toolbar.buttonMousedownHandler=function(a,b){CMECF.util.Dom.addClass(b,"toolbar-item-pressed")};CMECF.toolbar.buttonMouseupHandler=function(a,b){CMECF.util.Dom.removeClass(b,"toolbar-item-pressed")};CMECF.toolbar.buttonMouseoverHandler=function(a,b){CMECF.util.Dom.addClass(b,"toolbar-item-selected")};CMECF.toolbar.buttonMouseoutHandler=function(a,b){CMECF.util.Dom.removeClass(b,"toolbar-item-selected");CMECF.util.Dom.removeClass(b,"toolbar-item-pressed")};CMECF.toolbar.makeContentStatic=function(b,d){var a,c,g,h,f,e;if(CMECF.isIE()&&!d){CMECF.util.Event.onDOMReady(function(){CMECF.toolbar.makeContentStatic(b,true)});return}if(!CMECF.MainMenu.mainContent){CMECF.MainMenu.mainContent=document.getElementById("cmecfMainContent")}if(!CMECF.MainMenu.mainContent){return}b.position=(b.position==="bottom"?"bottom":"top");if(b.moveTitle===undefined){b.moveTitle=(b.position==="top")}if(b.moveTitle&&!CMECF.toolbar.movedTitle){CMECF.toolbar.movedTitle=true;b.items=(b.items||[]);b.items.unshift("main-page-title")}if(!b.items){console.log("no items specified to set as static content");return}if(b.moveForm===undefined){b.moveForm=true}if(b.moveForm){CMECF.toolbar.moveForm()}c="static-content-"+b.position;a=document.getElementById(c);if(!a){a=document.createElement("div");a.id=c;a.className="static-content";if(b.position==="top"){CMECF.MainMenu.mainContent.parentNode.insertBefore(a,CMECF.MainMenu.mainContent);CMECF.toolbar.topStaticContent=a}else{CMECF.toolbar.bottomStaticContent=a;CMECF.toolbar.placeBottomStaticContent();CMECF.util.Event.addListener(window,"resize",CMECF.toolbar.placeBottomStaticContent)}}for(g=0;g<b.items.length;g++){h=document.getElementById(b.items[g]);if(h){a.appendChild(h)}}CMECF.MainMenu.fixPageSlipInIE();CMECF.MainMenu.setMainContentSize()};CMECF.toolbar.placeBottomStaticContent=function(b,a){if(!CMECF.toolbar.bottomStaticContent){return}if(CMECF.toolbar.justPlacedBottomStaticContent){return}if(CMECF.isIE()&&!a){window.setTimeout("CMECF.toolbar.placeBottomStaticContent('',true)",0);return}CMECF.toolbar.justPlacedBottomStaticContent=true;window.setTimeout("CMECF.toolbar.justPlacedBottomStaticContent = false",500);if(CMECF.MainMenu.contentMayScroll()){CMECF.toolbar.stickContentToBottom()}else{CMECF.toolbar.floatContentAtBottom()}if(!b){CMECF.MainMenu.setMainContentSize()}};CMECF.toolbar.stickContentToBottom=function(){if(CMECF.toolbar.bottomStaticContent.parentNode!==CMECF.MainMenu.mainContent){CMECF.MainMenu.mainContent.appendChild(CMECF.toolbar.bottomStaticContent)}};CMECF.toolbar.floatContentAtBottom=function(){if(CMECF.toolbar.bottomStaticContent.parentNode!==CMECF.MainMenu.mainContent.parentNode){CMECF.MainMenu.mainContent.parentNode.appendChild(CMECF.toolbar.bottomStaticContent)}};CMECF.toolbar.bottomIsStatic=function(){return(CMECF.toolbar.bottomStaticContent.parentNode!==CMECF.MainMenu.mainContent)};CMECF.toolbar.moveForm=function(b){var d,c;if(CMECF.toolbar.movedForm){return}function a(e){if(CMECF.isIE()){return e.removeNode(false)}while(e.firstChild){e.parentNode.insertBefore(e.firstChild,e)}return e}c=CMECF.MainMenu.mainContent.getElementsByTagName("form");if(c){d=a(c[0]);CMECF.MainMenu.mainContent.parentNode.appendChild(d);d.appendChild(CMECF.MainMenu.mainContent);CMECF.toolbar.movedForm=true}};CMECF.namespace("sidebar");CMECF.sidebar.add=function(n,j,g){var b,c,e,q,f,m,k,p,o,l,a,d;var h=document.forms.length;if(CMECF.isIE()&&!g){CMECF.util.Event.onDOMReady(function(){CMECF.sidebar.add(n,j,true)});return}j=j||{};j.position=j.position||"right";j.width=j.width||"14";if(j.moveTitle===undefined){j.moveTitle=false}l=document.getElementById(n);if(!l){return}if(j.moveTitle&&!CMECF.toolbar.movedTitle){d=document.getElementById("main-page-title");if(d){document.body.appendChild(d);CMECF.toolbar.movedTitle=true;CMECF.MainMenu.toolbars.push(d);CMECF.MainMenu.setMainContentSize()}}b=document.getElementById("static-content-top");c=document.getElementById("static-content-bottom");e=document.getElementById("cmecfMainContent");q=document.createElement("table");f=document.createElement("tbody");m=document.createElement("tr");k=document.createElement("td");p=document.createElement("td");o=document.createElement("td");q.id="sidebar-table";m.id="sidebar-table-row";k.id="sidebar-table-cell";p.id="sidebar-main-content-table-cell";o.id="sidebar-resize-table-cell";o.onclick=function(){CMECF.sidebar.toggleSidebar(j.position)};o.onmouseover=function(){this.className="mouseover"};o.onmouseout=function(){this.className=""};o.title="Close the sidebar";o.innerHTML='<img id="toggle-icon" src="/graphics/resize-bar-'+(j.position==="right"?"rt":"lt")+'.gif">';if(j.position=="right"){p.style.paddingRight=".5em"}else{p.style.paddingLeft=".5em"}document.body.appendChild(q);q.appendChild(f);f.appendChild(m);if(j.position==="right"){m.appendChild(p);m.appendChild(o);m.appendChild(k)}else{m.appendChild(k);m.appendChild(o);m.appendChild(p)}if(b){p.appendChild(b)}if(e){p.appendChild(e)}if(c){p.appendChild(c)}if(j.label){a=document.createElement("div");a.id="sidebar-label";a.innerHTML=j.label;k.appendChild(a)}l.className="sidebar-container-"+j.position;l.style.visibility="visible";l.style.width=j.width+"em";k.style.width=j.width+"em";k.appendChild(l);if(h!==document.forms.length){document.forms[0].removeNode()}CMECF.sidebar.sidebarNode=l;CMECF.MainMenu.fixPageSlipInIE()};CMECF.sidebar.toggleSidebar=function(a){var f=document.getElementById("sidebar-table-cell");var c=document.getElementById("sidebar-resize-table-cell");var b=document.getElementById("toggle-icon");var d=(a==="right"?"/graphics/resize-bar-lt.gif":"/graphics/resize-bar-rt.gif");var h=(a==="right"?"/graphics/resize-bar-rt.gif":"/graphics/resize-bar-lt.gif");if(f.style.display!=="none"){f.style.display="none";b.src=d;c.title="Open the sidebar"}else{try{f.style.display="table-cell"}catch(g){f.style.display="block"}b.src=h;c.title="Close the sidebar";c.parentNode.focus()}CMECF.MainMenu.setMainContentSize()};
// lib/shortcut_bar.js v5.14
CMECF.widget.Dialog=YAHOO.widget.Dialog;CMECF.util.Connect.asyncRequest=YAHOO.util.Connect.asyncRequest;var favoritePanel;function runProgram(a){var c=this.href;var b=c.indexOf("caseid");var d="";if(b!=-1){c=c.match(/(.*)\?(.*)/)[1]}d=setURL(c,this.id);if(d.match(/wrongDateFormat/)){return false}this.href=d;return true}function setURL(a,h){var c=readCookie("CASE_NUM");if(c){var g=c.match(/(.*)\((.*)\).?$/);var f=g[1];var e=g[2];if(a.match(/Cal|Calendar/)){var n="";var k="";var l="";var m="";var o=h.match(/(.*)-anchor/)[1];o=o+"-date";var d=document.getElementById(o).firstChild.innerHTML;var i=d.split("/");k=i[0];m=i[1];l=i[2];if(!checkDateFormat(l,k,m)){return"wrongDateFormat"}var j="";var b="";j=a.match(/cgi\-bin\/(.*)\.pl/)[1];b=d;if(a.match(/DoCalendar/)){n="&month="+k+"&year="+l}else{n="&month="+k+"&day="+m+"&year="+l}a=a+"?caseid="+e+n;createCookie(j,b,2)}else{a=a+"?caseid="+e}}return a}function setFavorites(c){var e=document.getElementById("generic_favorite_panel");if(e){favoritePanel.destroy()}favoritePanel=new CMECF.widget.Panel("generic_favorite_panel",{width:"43.75em",height:"15em",fixedcenter:true,close:true,visible:true,constraintoviewport:true});var b="<center>My case list</center>";if(c!="favorites"){b="<center>Recent cases</center>"}favoritePanel.setHeader(b);var a="/cgi-bin/shortcut_bar_cases.pl?item="+c;var d={success:favoritePanelSuccess,failure:favoritePanelFailure,argument:favoritePanel};CMECF.util.Connect.asyncRequest("GET",a,d)}function favoritePanelSuccess(c){var b=c.responseText;var a=c.argument;if(a){a.setBody(b);a.render(document.body)}}function favoritePanelFailure(b){var a=b.argument;if(a){a.setBody("ERROR: submission failed. "+b.status);a.render(document.body)}}function readCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null}function setCookie(c,b,a){document.cookie="CASE_NUM="+c;b.href=a;if(favoritePanel){favoritePanel.destroy()}return true}function createCookie(c,e,d){var b=new Date();b.setTime(b.getTime()+(d*60000));var a="; expires="+b.toGMTString();document.cookie=c+"="+e+a+";"}function runCalendar(f){var c;if(f.which){c=f.which}else{c=f.keyCode}if(c==13){var a=this.id;var b=a.match(/(.*)-date/)[1];var g=document.getElementById(b+"-anchor");var d=g.href.indexOf("caseid");if(d!=-1){g.href=g.href.match(/(.*)\?(.*)/)[1]}var e=setURL(g.href,g.id);if(e.match(/wrongDateFormat/)){return false}g.href=e;document.location=g.href;return true}return true}function pickIcon(e){var c=window.location.search;var b=c.split(/_/);var d="iconDisplay_"+b[1];var a="iconName_"+b[1];if(window.opener&&!window.opener.closed){window.opener.document.getElementById(d).value=e;window.opener.document.getElementById(a).value=e;window.close()}}function checkDateFormat(c,d,b){var a=[31,28,31,30,31,30,31,31,30,31,30,31];if(!d||!b||!c){return false}if(c<1850||c>3000){return false}if(isLeapYear(c)){if(d==2){if(b>29){return false}}}if(d<=0||d>12){return false}if(b<=0||b>a[d-1]){return false}return true}function isLeapYear(a){return a%400==0||(a%100!=0&&a%4==0)}function verifyIconElementsWereIncluded(){var c=document.getElementById("mainTable").rows.length;for(var l=1;l<=c-1;l++){var j="iconDisplay_"+l;var g="shortcutTitle_"+l;var i="iconButton_"+l;var d="Item_"+l;var b=document.getElementById(j);var e=document.getElementById(g);var a=document.getElementById(i);var h=document.getElementById(d);var f=h.options[h.selectedIndex].text;var k="";if(!b.value){if(e.value&&f){k="The "+f+" item is incomplete: you must select an icon."}else{if(f){k="The "+f+" item is incomplete: you must enter a title and an icon."}else{if(e.value){k="The "+e.value+" item is incomplete: you must select a report and an icon."}else{continue}}}a.focus()}else{if(e.value&&f){continue}else{if(f){k="The "+f+" item is incomplete: you must enter a title.";e.focus()}else{if(e.value){k="The "+e.value+" item is incomplete: you must select a report.";h.focus()}else{k="The item is incomplete: you must enter a title and select a report.";e.focus()}}}}if(k){alert(k);return false}}return true}function verifyUseOfSpecialCharacters(){var c=document.getElementById("mainTable").rows.length;var e=/(<|>|\\)/g;for(var f=1;f<=c-1;f++){var d="shortcutTitle_"+f;var b=document.getElementById(d);var g=b.value;if(!g){continue}var a=0;if(g.match(e)){a=1}if(a){alert('The title "'+g+'" contains an illegal character (<, > or \\).');return false}}return true};
// lib/validate_case_number.js v5.3
CMECF.util.Connect.asyncRequest=YAHOO.util.Connect.asyncRequest;CMECF.namespace("CaseNumberSelect");CMECF.CaseNumberSelect.AddCaseNumberLine=function(b){if(!b){b=""}var i=0;if(CMECF.CaseNumberSelect.CaseIdForLine){i=CMECF.CaseNumberSelect.CaseIdForLine.length;CMECF.CaseNumberSelect.MainCaseNumberSpan.appendChild(document.createElement("br"))}else{CMECF.CaseNumberSelect.MainCaseNumberSpan=document.getElementById("case_number_area");CMECF.CaseNumberSelect.MainCaseNumberSpan.style.whiteSpace="nowrap";var c=["optional","multiple","additionally","message","no_lookup","allow_unfound_case","case_num_field_name","case_number_must_contain","no_submit_on_enter"];CMECF.CaseNumberSelect.option={};var h=c.length;for(var g=0;g<h;g++){var o=c[g];CMECF.CaseNumberSelect.option[o]=(CMECF.CaseNumberSelect.MainCaseNumberSpan.getAttribute(o)||"")}if(!CMECF.CaseNumberSelect.option.optional){CMECF.widget.DisableNextButton()}CMECF.CaseNumberSelect.RequestedNumberForLine=[];CMECF.CaseNumberSelect.NeedToLookUpLine=[];CMECF.CaseNumberSelect.LastKnownNumberForLine=[];CMECF.CaseNumberSelect.CaseIdForLine=[];CMECF.CaseNumberSelect.CurrentMessage=[];CMECF.widget.addClearFunction(CMECF.CaseNumberSelect.ClearFields);var f=document.getElementById("all_case_ids").value;if(f){if(f==="0"){b=""}else{b="cookie"}}}CMECF.CaseNumberSelect.RequestedNumberForLine[i]="";CMECF.CaseNumberSelect.LastKnownNumberForLine[i]="never_will_match_this";CMECF.CaseNumberSelect.CaseIdForLine[i]="new";CMECF.CaseNumberSelect.NeedToLookUpLine[i]=false;CMECF.CaseNumberSelect.CurrentMessage[i]="";var s="input";if(CMECF.CaseNumberSelect.option.multiple){s="textarea"}var e=CMECF.CaseNumberSelect.create_element_with_id_of("case_number_text_area_"+i,s);if(s==="textarea"){e.rows=1;e.style.height="1.8em";e.style.overflow="hidden"}e.name=(CMECF.CaseNumberSelect.option.case_num_field_name||"case_num");e.setAttribute("autocomplete","off");CMECF.util.Event.addListener(e,"keydown",CMECF.CaseNumberSelect.CheckKeyDownOnCaseNumberField,i);CMECF.util.Event.addListener(e,"keyup",CMECF.CaseNumberSelect.ResetField,i);CMECF.util.Event.addListener(e,"paste",CMECF.CaseNumberSelect.ResetField,i);CMECF.util.Event.addListener(e,"blur",CMECF.CaseNumberSelect.ResetField,i);var l=CMECF.CaseNumberSelect.create_element_with_id_of("case_number_show_button_"+i,"button");l.value="Show Case List";CMECF.util.Event.addListener(l,"click",CMECF.CaseNumberSelect.ShowPickArea,i);var n=CMECF.CaseNumberSelect.create_element_with_id_of("case_number_hide_button_"+i,"button");n.value="Hide Case List";CMECF.util.Event.addListener(n,"click",CMECF.CaseNumberSelect.HidePickArea,i);var m=CMECF.CaseNumberSelect.create_element_with_id_of("case_number_find_button_"+i,"button");m.value="Find This Case";if(CMECF.CaseNumberSelect.option.no_lookup){m.value="Verify Number Format";m.style.width=""}CMECF.util.Event.addListener(m,"click",CMECF.CaseNumberSelect.ValidateCaseNumber,i);var u=document.createElement("span");u.id="case_number_message_area_"+i;CMECF.CaseNumberSelect.MainCaseNumberSpan.appendChild(u);var t=document.createElement("div");t.id="case_number_pick_area_"+i;t.style.display="none";CMECF.CaseNumberSelect.MainCaseNumberSpan.appendChild(t);if(b){if(b==="cookie"){var d=document.cookie;var q=d.indexOf("CASE_NUM=");if(q===-1){b=""}else{var j=q+9;var p=d.indexOf(";",j);b=d.substring(j,p);b=b.replace(/\|$/,"")}}if(!CMECF.CaseNumberSelect.option.multiple){b=b.replace(/^.+\+/,"")}var k=new RegExp("^([^\\(\\)\\+]+)(\\(([\\d,]+)\\))?\\+?(.*)$");var v=new RegExp("[a-zA-Z]{2}");var r;if(CMECF.CaseNumberSelect.option.case_number_must_contain){r=new RegExp(CMECF.CaseNumberSelect.option.case_number_must_contain)}var a=k.exec(b);if(a){if(r&&v.exec(a[1])&&!r.exec(a[1])){CMECF.CaseNumberSelect.CaseIdForLine[i]="reset";CMECF.CaseNumberSelect.ResetField(null,i);CMECF.CaseNumberSelect.ChangeMessageTo(i);a[1]="";a[3]=""}else{e.value=a[1];CMECF.CaseNumberSelect.LastKnownNumberForLine[i]=e.value;if(a[3]){CMECF.CaseNumberSelect.CaseIdForLine[i]=a[3].replace(/,.*/,"");CMECF.CaseNumberSelect.ChangeMessageTo(i)}else{CMECF.CaseNumberSelect.ValidateCaseNumber("",i)}}if(a[4]&&a[4].length&&CMECF.CaseNumberSelect.option.multiple){CMECF.CaseNumberSelect.NewCaseToLookUp(a[4])}else{if(a[3]){CMECF.CaseNumberSelect.UpdateCaseidValue()}}}}if(!b){CMECF.CaseNumberSelect.CaseIdForLine[i]="reset"}CMECF.CaseNumberSelect.SetNextButton();return true};CMECF.CaseNumberSelect.create_element_with_id_of=function(b,d){var c=document.getElementById(b);if(!c){var a="";if(d==="button"){d="input";a="button"}if(!d){d="input"}c=document.createElement(d);c.id=b;if(a==="button"){c.type="button";c.style.display="none";c.style.width="8em"}CMECF.CaseNumberSelect.MainCaseNumberSpan.appendChild(c)}else{if(d==="button"){c.style.display="none";c.style.width="8em"}}return c};CMECF.CaseNumberSelect.focusOnCaseNumberField=function(a){var b=document.getElementById("case_number_text_area_"+a);if(b){if(b.focus){b.focus()}}else{window.setTimeout(function(){CMECF.CaseNumberSelect.focusOnCaseNumberField(a)},1)}};CMECF.CaseNumberSelect.ChangeMessageTo=function(a,c){if(!a){a=0}document.getElementById("case_number_show_button_"+a).style.display="none";document.getElementById("case_number_find_button_"+a).style.display="none";document.getElementById("case_number_hide_button_"+a).style.display="none";var d="case_number_message_area_"+a;var b=document.getElementById(d);if(!b){alert("Cannot find message area "+a);return true}var e=document.createElement("span");e.id=d;if(c){e.style.fontSize="small";e.appendChild(document.createTextNode(" "+c))}b.parentNode.replaceChild(e,b)};CMECF.CaseNumberSelect.UpdateCaseidValue=function(){var d={};var f=[];var c=0;while(CMECF.CaseNumberSelect.CaseIdForLine.length>c){var b=CMECF.CaseNumberSelect.CaseIdForLine[c];if(b.length>0){if(b.match(/\d/)&&!d[b]){d[b]=1;var e=document.getElementById("case_number_text_area_"+c).value+"("+b+")";f.push(e)}}c++}var a=[];for(var g in d){if(g){g=g.replace(/\D+/,"");if(g){a.push(g)}}}if(a.length===0){a.push(0)}document.getElementById("all_case_ids").value=a.join(",");if(f.length>0){document.cookie="CASE_NUM="+f.join("+")+";"}CMECF.CaseNumberSelect.SetNextButton()};CMECF.CaseNumberSelect.radiosFor=function(d,f){if(!d){d=0}var e=document.getElementsByTagName("input");var g=[];var a=new RegExp("case_number_radio_"+d);for(var c=0;c<e.length;c++){var b=e[c];if(a.exec(b.id)!==null){g.push(b);if(f&&b.checked){b.click();b.focus()}}}return g};CMECF.CaseNumberSelect.CheckClickOnCaseNumber=function(a,b){if(b){b.click()}return 0};CMECF.CaseNumberSelect.CheckKeyDownOnRadioButton=function(a,c){var d=a.keyCode;if(d==13){var b=document.forms[0].button1;if(!b.disabled){b.onclick()}}if(d===32){CMECF.util.Event.stopEvent(a);window.setTimeout(CMECF.CaseNumberSelect.FocusOnFirstBlankLine,1);window.setTimeout(function(){CMECF.CaseNumberSelect.HidePickArea("",c,"Already focused on case number.")},2);return false}return true};CMECF.CaseNumberSelect.UpdateCaseNumberField=function(e,d){if(!d.case_number){d.case_number=""}if(!d.case_id){d.case_id=""}var f=d.field_number;var b=document.getElementById("case_number_text_area_"+f);if(!b){alert("Cannot find case_number_text_area_"+f+" to update it.");return true}var h=CMECF.CaseNumberSelect.radiosFor(f);if(h.length<=1){var g="";var a=new RegExp(" (([\\(\\*](archived|sealed|closed)[\\)\\*]\\s*)+)$");var c=a.exec(d.case_title);if(c){g=c[1]}CMECF.CaseNumberSelect.ChangeMessageTo(f,g)}b.value=d.case_number;CMECF.CaseNumberSelect.LastKnownNumberForLine[f]=b.value;CMECF.CaseNumberSelect.CaseIdForLine[f]=d.case_id;if(b.value.length===0){b.value=CMECF.CaseNumberSelect.RequestedNumberForLine[f];CMECF.CaseNumberSelect.LastKnownNumberForLine[f]=b.value}else{CMECF.CaseNumberSelect.NeedToLookUpLine[f]=false}CMECF.CaseNumberSelect.UpdateCaseidValue();return true};CMECF.CaseNumberSelect.HidePickArea=function(a,c,b){document.getElementById("case_number_show_button_"+c).style.display="inline";document.getElementById("case_number_find_button_"+c).style.display="none";document.getElementById("case_number_hide_button_"+c).style.display="none";document.getElementById("case_number_message_area_"+c).style.display="none";document.getElementById("case_number_pick_area_"+c).style.display="none";if(!b){CMECF.CaseNumberSelect.focusOnCaseNumberField(c)}};CMECF.CaseNumberSelect.ShowPickArea=function(a,b){document.getElementById("case_number_show_button_"+b).style.display="none";document.getElementById("case_number_find_button_"+b).style.display="none";document.getElementById("case_number_hide_button_"+b).style.display="inline";document.getElementById("case_number_message_area_"+b).style.display="inline";document.getElementById("case_number_pick_area_"+b).style.display="inline";CMECF.CaseNumberSelect.radiosFor(b,"focus")};CMECF.CaseNumberSelect.CaseNumberLookupSuccess=function(m){var h=m.argument;if(!h){h=0}if(CMECF.CaseNumberSelect.RequestedNumberForLine[h].length===0||CMECF.CaseNumberSelect.RequestedNumberForLine[h]==="will_never_match_this_one_either"){return false}var a=m.responseXML;if(a===undefined){alert("Failed to get a response from the server, cannot verify this case number.");CMECF.CaseNumberSelect.ChangeMessageTo(h,"Cannot verify case.");CMECF.widget.ReleaseNextButton();return true}var f=a.getElementsByTagName("request")[0];if(f===undefined){alert("Failed to get a useful response from the server, cannot verify this case number..");CMECF.CaseNumberSelect.ChangeMessageTo(h,"Cannot verify case.");CMECF.widget.ReleaseNextButton();return true}var s=f.getAttribute("number");if(s===undefined){alert("Failed to get a useful response from the server, cannot verify this case number.");CMECF.CaseNumberSelect.ChangeMessageTo(h,"Cannot verify case.");CMECF.widget.ReleaseNextButton();return true}var b=a.getElementsByTagName("case");if(b.length<=0){CMECF.CaseNumberSelect.UpdateCaseNumberField("",{field_number:h});var j="Cannot find case "+s;var l=a.getElementsByTagName("message");if(l.length>0){j=l[0].getAttribute("text")}CMECF.CaseNumberSelect.ChangeMessageTo(h,j);CMECF.widget.RunTrappedFunction=false}else{if(b.length===1){CMECF.CaseNumberSelect.ChangeMessageTo(h);var d=b[0];CMECF.CaseNumberSelect.UpdateCaseNumberField("",{field_number:h,case_number:d.getAttribute("number"),case_id:d.getAttribute("id"),case_title:d.getAttribute("title")})}else{if(b.length>1){CMECF.widget.RunTrappedFunction=false;CMECF.CaseNumberSelect.ChangeMessageTo(h);var u=document.createElement("div");u.id="case_number_pick_area_"+h;u.style.whiteSpace="nowrap";u.style.display="none";u.appendChild(document.createElement("br"));for(var g=0;g<b.length;g++){var t=document.createElement("div");CMECF.util.Dom.addClass(t,"caselist");var k=b[g].getAttribute("number");var p=b[g].getAttribute("title");var c=b[g].getAttribute("id");t.id="case_line_"+h+"_"+c;var q;var e;if(CMECF.env.ua.ie){var n="";if(g===0){n="checked"}e=document.createElement('<input type="radio" name="case_number_radio_'+h+'" id=case_number_radio_'+h+"_"+c+'" '+n+" />")}else{e=document.createElement("input");e.setAttribute("autocomplete","off");e.type="radio";e.name="case_number_radio_"+h;e.id="case_number_radio_"+h+"_"+c}var r={field_number:h,case_number:k,case_id:c};e.value=k;CMECF.util.Event.addListener(e,"click",CMECF.CaseNumberSelect.UpdateCaseNumberField,r);CMECF.util.Event.addListener(e,"keydown",CMECF.CaseNumberSelect.CheckKeyDownOnRadioButton,h);t.appendChild(e);q=document.createElement("a");q.style.cursor="pointer";q.appendChild(document.createTextNode(p));CMECF.util.Event.addListener(q,"click",CMECF.CaseNumberSelect.CheckClickOnCaseNumber,e);CMECF.util.Event.addListener(q,"click",CMECF.CaseNumberSelect.HidePickArea,h);CMECF.util.Event.addListener(q,"click",CMECF.CaseNumberSelect.FocusOnFirstBlankLine);t.appendChild(q);u.appendChild(t);if(g===0){window.setTimeout("var item=document.getElementById('case_number_radio_"+h+"_"+c+"'); if (item) { item.click(); item.focus();};",0)}}var i=document.getElementById(u.id);i.parentNode.replaceChild(u,i);CMECF.CaseNumberSelect.ShowPickArea("",h);CMECF.CaseNumberSelect.radiosFor(h,"focus");CMECF.CaseNumberSelect.TrapNextButton();CMECF.widget.DisableNextButton()}else{CMECF.CaseNumberSelect.ChangeMessageTo(h,"Cannot find case "+s+" ...")}}}CMECF.CaseNumberSelect.SetNextButton();return true};CMECF.CaseNumberSelect.CaseNumberLookupFailure=function(a){CMECF.widget.ReleaseNextButton();return true};CMECF.CaseNumberSelect.SetNextButton=function(){var f=false;var c=false;var b=0;while(CMECF.CaseNumberSelect.CaseIdForLine.length>b){if(CMECF.CaseNumberSelect.NeedToLookUpLine[b]){f=true}var d=CMECF.CaseNumberSelect.CaseIdForLine[b];if((d.length===0||d===0)&&document.getElementById("case_number_text_area_"+b).value.length>0&&!document.getElementById("case_number_text_area_"+b).value.match(/^\s+$/)&&!CMECF.CaseNumberSelect.option.allow_unfound_case&&!CMECF.CaseNumberSelect.option.no_lookup){c=true}b++}if(CMECF.CaseNumberSelect.option.multiple){var a=document.getElementById("case_number_text_area_"+(CMECF.CaseNumberSelect.CaseIdForLine.length-1));if(a.value.length>0&&!a.value.match(/^\s+$/)){CMECF.CaseNumberSelect.AddCaseNumberLine()}}if(f){CMECF.CaseNumberSelect.TrapNextButton();return false}if(c){CMECF.widget.DisableNextButton();return false}if(CMECF.CaseNumberSelect.option.no_lookup){CMECF.widget.ReleaseNextButton();return true}if(CMECF.CaseNumberSelect.option.optional){CMECF.widget.ReleaseNextButton();return true}if(CMECF.CaseNumberSelect.option.allow_unfound_case){var e=true;b=0;while(CMECF.CaseNumberSelect.CaseIdForLine.length>b){if(document.getElementById("case_number_text_area_"+b).value.length===0){e=false}else{if(CMECF.CaseNumberSelect.CurrentMessage[b].search(/Cannot find case/)<0){e=false}}b++}if(e){CMECF.widget.ReleaseNextButton();return true}}if(document.getElementById("all_case_ids").value.length>0&&document.getElementById("all_case_ids").value!=="0"){CMECF.widget.ReleaseNextButton();return true}CMECF.widget.DisableNextButton();return false};CMECF.CaseNumberSelect.CheckKeyDownOnCaseNumberField=function(a,b){var c=a.keyCode;if(c===13){CMECF.util.Event.stopEvent(a);CMECF.widget.RunTrappedFunction=true;if(CMECF.CaseNumberSelect.ValidateCaseNumber("",b)){if(CMECF.CaseNumberSelect.option.optional){CMECF.widget.ReleaseNextButton();return true}}CMECF.CaseNumberSelect.FocusOnFirstBlankLine();return false}if(c===32){CMECF.util.Event.stopEvent(a);if(document.getElementById("case_number_show_button_"+b).style.display==="inline"){window.setTimeout(function(){CMECF.CaseNumberSelect.ShowPickArea("",b)},0)}else{if(document.getElementById("case_number_hide_button_"+b).style.display==="inline"){CMECF.CaseNumberSelect.HidePickArea("",b)}else{if(document.getElementById("case_number_find_button_"+b).style.display==="inline"){CMECF.CaseNumberSelect.ValidateCaseNumber("",b);CMECF.CaseNumberSelect.FocusOnFirstBlankLine()}}}return false}return true};CMECF.CaseNumberSelect.ClearFields=function(){var a=CMECF.CaseNumberSelect.CaseIdForLine.length;for(var b=0;b<a;b++){CMECF.CaseNumberSelect.CaseIdForLine[b]="clear";CMECF.CaseNumberSelect.RequestedNumberForLine[b]="";CMECF.CaseNumberSelect.LastKnownNumberForLine[b]="never_will_match_this_either";document.getElementById("case_number_text_area_"+b).value="";CMECF.CaseNumberSelect.ChangeMessageTo(b);CMECF.CaseNumberSelect.ResetField(null,b);document.cookie="CASE_NUM=;"}return true};CMECF.CaseNumberSelect.ResetField=function(c,e){var b=document.getElementById("case_number_text_area_"+e);var d=b.value;if(d!==CMECF.CaseNumberSelect.LastKnownNumberForLine[e]){CMECF.CaseNumberSelect.LastKnownNumberForLine[e]=d;var a=document.getElementById("case_number_find_button_"+e);if(CMECF.CaseNumberSelect.CaseIdForLine[e].length>0||CMECF.CaseNumberSelect.RequestedNumberForLine[e].length>0||document.getElementById("case_number_hide_button_"+e).style.display==="inline"){if(CMECF.CaseNumberSelect.RequestedNumberForLine[e]!=="will_never_match_this_one_either"){CMECF.CaseNumberSelect.RequestedNumberForLine[e]="will_never_match_this_one_either";CMECF.CaseNumberSelect.CaseIdForLine[e]="";CMECF.CaseNumberSelect.HidePickArea("",e,"do not focus on the case number");CMECF.CaseNumberSelect.ChangeMessageTo(e,(e===0?CMECF.CaseNumberSelect.option.message:""));CMECF.CaseNumberSelect.UpdateCaseidValue()}}if(d.length>0&&!d.match(/^\s+$/)){if(d.match(/\S\s+/)){CMECF.CaseNumberSelect.ValidateCaseNumber("",e);CMECF.CaseNumberSelect.FocusOnFirstBlankLine()}else{CMECF.CaseNumberSelect.ChangeMessageTo(e);a.style.display="inline";CMECF.CaseNumberSelect.CaseIdForLine[e]="";CMECF.CaseNumberSelect.NeedToLookUpLine[e]=true}}else{a.style.display="none";CMECF.CaseNumberSelect.NeedToLookUpLine[e]=false}}CMECF.CaseNumberSelect.SetNextButton();return true};CMECF.CaseNumberSelect.ValidateCaseNumber=function(g,a){if(!a){a=0}CMECF.CaseNumberSelect.NeedToLookUpLine[a]=false;var l=document.getElementById("case_number_text_area_"+a);if(l.value.length===0){return true}if(CMECF.CaseNumberSelect.CaseIdForLine[a].length>0&&CMECF.CaseNumberSelect.CaseIdForLine[a]>0){if(CMECF.widget.RunTrappedFunction&&CMECF.CaseNumberSelect.SetNextButton()){CMECF.CaseNumberSelect.TrapNextButton();CMECF.widget.ReleaseNextButton()}return true}var k=l.value.split(/[\s;,]+/);if(k[0]===""){k.shift()}if(k.length>0&&k[-1]===""){k.pop()}if(k.length===0){k[0]=""}var f=k.shift();l.value=f;CMECF.CaseNumberSelect.LastKnownNumberForLine[a]=l.value;if(CMECF.CaseNumberSelect.option.multiple){while(k.length>0){var e=k.shift();if(e&&e.length){CMECF.CaseNumberSelect.NewCaseToLookUp(e)}}}if(f.length===0){CMECF.CaseNumberSelect.CaseIdForLine[a]="none_found";CMECF.CaseNumberSelect.UpdateCaseidValue();return false}if(CMECF.CaseNumberSelect.RequestedNumberForLine[a]===f){return false}CMECF.widget.DisableNextButton();CMECF.CaseNumberSelect.RequestedNumberForLine[a]=f;if(CMECF.CaseNumberSelect.CaseIdForLine[a]){CMECF.CaseNumberSelect.CaseIdForLine[a]="looking_up";CMECF.CaseNumberSelect.UpdateCaseidValue()}CMECF.CaseNumberSelect.ChangeMessageTo(a,"Looking up case number "+f+"...");var j;var c=f.match(/^\s*((\w)[:\-])?(\d{1,4})[:\-]?([a-zA-Z]{2})[:\-]?(\d+)/);if(c){if(c[2]&&c[2].length>0){c[2]=c[2].toLowerCase()+":"}else{c[2]=""}c[4]=c[4].toLowerCase();if(c[4].length>0&&CMECF.CaseNumberSelect.option.case_number_must_contain){var d=new RegExp(CMECF.CaseNumberSelect.option.case_number_must_contain);if(!d.exec(c[4])){CMECF.CaseNumberSelect.ChangeMessageTo(a,'"'+c[4]+'" is not an allowed case type here.');return false}}j=c[2]+c[3]+"-"+c[4]+"-"+c[5]}else{c=f.match(/^\s*((\w):)?(\d{1,4})-?(\d+)/);if(c){if(c[2]&&c[2].length>0){c[2]=c[2].toLowerCase()+":"}else{c[2]=""}j=c[2]+c[3]+"-"+c[4]}else{CMECF.CaseNumberSelect.ChangeMessageTo(a,"Invalid case number, check help for valid formats.");CMECF.CaseNumberSelect.focusOnCaseNumberField(a);return false}}if(j){CMECF.CaseNumberSelect.RequestedNumberForLine[a]=j;l.value=j;CMECF.CaseNumberSelect.LastKnownNumberForLine[a]=j;if(CMECF.CaseNumberSelect.option.no_lookup){CMECF.CaseNumberSelect.ChangeMessageTo(a);CMECF.CaseNumberSelect.NeedToLookUpLine[a]=false;CMECF.widget.ReleaseNextButton()}else{if(CMECF.CaseNumberSelect.option.additionally.length>0){CMECF.CaseNumberSelect.option.additionally=CMECF.CaseNumberSelect.option.additionally+";"}var b="number="+Math.random();var i="possible_case_numbers.pl?"+j+";"+CMECF.CaseNumberSelect.option.additionally+b;var h={success:CMECF.CaseNumberSelect.CaseNumberLookupSuccess,failure:CMECF.CaseNumberSelect.CaseNumberLookupFailure,argument:a};CMECF.util.Connect.asyncRequest("GET",i,h)}if(g){CMECF.CaseNumberSelect.FocusOnFirstBlankLine();return true}}return false};CMECF.CaseNumberSelect.ValidateAndSubmit=function(){CMECF.widget.RunTrappedFunction=true;var b=CMECF.CaseNumberSelect.CaseIdForLine.length;for(var a=0;a<b;a++){CMECF.CaseNumberSelect.ValidateCaseNumber("",a)}return true};CMECF.CaseNumberSelect.TrapNextButton=function(){CMECF.widget.TrapNextButton(CMECF.CaseNumberSelect.ValidateAndSubmit)};CMECF.CaseNumberSelect.NewCaseToLookUp=function(c){var b=0;while(CMECF.CaseNumberSelect.CaseIdForLine.length>b){var a=document.getElementById("case_number_text_area_"+b);if(a.value.length===0){a.value=c;return CMECF.CaseNumberSelect.ValidateCaseNumber("",b)}b++}return CMECF.CaseNumberSelect.AddCaseNumberLine(c)};CMECF.CaseNumberSelect.FocusOnFirstBlankLine=function(){var a=0;if(CMECF.CaseNumberSelect.option.multiple){while(true){var b=document.getElementById("case_number_text_area_"+a);if(!b){a=CMECF.CaseNumberSelect.CaseIdForLine.length-1;break}if(b.value.length===0){break}a++}}CMECF.CaseNumberSelect.focusOnCaseNumberField(a);return};
// lib/collapse.js v5.4
CMECF.widget.ExpandCollapse=function(e,c){var a=document.getElementById(e+"_collapse");if(!a){window.console.log("Could not find the collapse button for "+e);return}var b=document.getElementById(e+"_expand");if(!b){window.console.log("Could not find the expand button for "+e);return}var d=document.getElementById(e);if(!d){window.console.log("Could not find the viewing area for "+e);return}if(c==="collapse"){a.style.display="none";b.style.display="block";d.style.display="none"}else{a.style.display="block";b.style.display="none";d.style.display="block"}};
// lib/form_controls.js v5.4
CMECF.namespace("FormControls");CMECF.FormControls.Initialize=function(){CMECF.FormControls.NextButton=document.getElementById("next_button");CMECF.FormControls.ClearButton=document.getElementById("clear_button");CMECF.FormControls.RegisteredFields={};CMECF.FormControls.NextButtonTextWhenReady=CMECF.FormControls.NextButton.value;CMECF.FormControls.NextButton.disabled=false;CMECF.util.Event.addListener(CMECF.FormControls.NextButton,"click",CMECF.FormControls.SubmitForm);if(CMECF.FormControls.ClearButton){CMECF.util.Event.addListener(CMECF.FormControls.ClearButton,"click",CMECF.FormControls.ClearForm)}CMECF.FormControls.NextButtonSet(true);for(var b=0;b<document.forms.length;b++){var g=document.forms[b];for(var a=0;a<g.elements.length;a++){var d=g.elements[a];if(d!==null&&d.type!=="textarea"&&d.type!=="button"&&d.type!=="reset"){CMECF.util.Event.addListener(d,"keydown",CMECF.FormControls.preventEnterKeyFromSubmitting)}}}var h=document.getElementById("spec_name");var c=document.getElementById("spec_number");if(h&&c){var f={type:CMECF.FormControls.NextButtonTextWhenReady.replace(/^Run /,"").toLowerCase(),name:h.innerHTML,id:c.value};var e=new CMECF.DialogBoxes.specifications(f)}CMECF.FormControls.Initialized=true};CMECF.FormControls.Register=function(a){if(!CMECF.FormControls.Initialized){setTimeout(function(){CMECF.FormControls.Register(a)},10);return false}var c=a.fieldId;if(CMECF.FormControls.RegisteredFields&&CMECF.FormControls.RegisteredFields[c]){window.console.log("Error: Registered "+c+" twice");return false}var b=document.getElementById(c);if(!b){window.console.log("Error: Cannot find id "+c);return false}CMECF.FormControls.RegisteredFields[c]=a;CMECF.FormControls.PublishChangeTo(c)};CMECF.FormControls.CheckAllFields=function(){if(!CMECF.FormControls.Initialized){return false}var c=true;for(var a in CMECF.FormControls.RegisteredFields){if(CMECF.FormControls.RegisteredFields.hasOwnProperty(a)){var b=CMECF.FormControls.RegisteredFields[a].validateFunction;if(b&&!b()){c=false}}}CMECF.FormControls.NextButtonSet(c);return c};CMECF.FormControls.PublishChangeTo=function(c){if(!CMECF.FormControls.Initialized){setTimeout(function(){CMECF.FormControls.PublishChangeTo(c)},20);return false}if(!c){window.console.log("Error: CMECF.FormControls.PublishChangeTo got called without a fieldId.");return true}var b=CMECF.FormControls.RegisteredFields[c];if(!b){return true}var d=b.validateFunction;if(d){var a=d();if(a){CMECF.FormControls.CheckAllFields()}else{CMECF.FormControls.NextButtonSet(false)}}return true};CMECF.FormControls.SubmitForm=function(){if(!CMECF.FormControls.Initialized){setTimeout(CMECF.FormControls.SubmitForm,30);return}if(CMECF.FormControls.CheckAllFields()){CMECF.FormControls.NextButton.value="Submitting";CMECF.FormControls.NextButton.disabled=true;var b=document.forms.main;var a=b.elements.length;var c=(navigator.appVersion.indexOf("MSIE")>-1);for(var g=0;g<a;g++){var f=b.elements[g];if(f.value===""){f.removeAttribute("name")}if(f.name==="all_case_ids"&&f.value==="0"){f.removeAttribute("name")}if(c&&f.tagName==="SELECT"){CMECF.util.Event.addListener(f,"change",CMECF.FormControls.CheckAllFields)}}CMECF.util.Event.addListener(b,"change",CMECF.FormControls.CheckAllFields);b.submit()}else{var e=[];for(var h in CMECF.FormControls.RegisteredFields){if(CMECF.FormControls.RegisteredFields.hasOwnProperty(h)){var j=CMECF.FormControls.RegisteredFields[h].validateFunction;if(j&&!j()){var d=CMECF.FormControls.RegisteredFields[h].invalidFunction;if(d){e.push(d())}}}}if(e.length===0){e.push("Form invalid, could not submit.")}var i=e.join("\n");if(i.length>0){alert(i)}}};CMECF.FormControls.ClearForm=function(){if(!CMECF.FormControls.Initialized){setTimeout(CMECF.FormControls.ClearForm,30);return}for(var b=0;b<document.forms.length;b++){var c=document.forms[b];c.reset()}for(var a in CMECF.FormControls.RegisteredFields){if(CMECF.FormControls.RegisteredFields.hasOwnProperty(a)){var d=CMECF.FormControls.RegisteredFields[a].clearFunction;if(d){d()}}}CMECF.FormControls.CheckAllFields()};CMECF.FormControls.NextButtonSet=function(a){CMECF.FormControls.NextButton.disabled=false;CMECF.FormControls.NextButton.style.color=(a?"black":"gray");CMECF.FormControls.NextButton.value=(a?CMECF.FormControls.NextButtonTextWhenReady:"Not Ready")};CMECF.FormControls.preventEnterKeyFromSubmitting=function(a){if(a.keyCode===13){CMECF.util.Event.stopEvent(a)}};
// lib/validate_form.js v6.3
CMECF.util.Event=YAHOO.util.Event;var BeenHere;CMECF.widget.NextButtonKeypress=function(a){var b=(a?a.keyCode:0);if(b===13&&BeenHere!==1){this.onclick()}return true};CMECF.widget.DisableNextButton=function(a){CMECF.widget.DisableNextButtonTimeout=0;if(a&&a.length>0){var c=document.getElementsByName(a);var b=c[0]}else{var b=document.forms[0].button1}if(b){if(b.length>1){return true}b.disabled=true;return true}CMECF.widget.DisableNextButtonTimeout=setTimeout(CMECF.widget.DisableNextButton,1)};CMECF.widget.EnableNextButton=function(a){if(CMECF.widget.DisableNextButtonTimeout){window.clearTimeout(CMECF.widget.DisableNextButtonTimeout);CMECF.widget.DisableNextButtonTimeout=0}if(a&&a.length>0){var c=document.getElementsByName(a);var b=c[0]}else{var b=document.forms[0].button1}if(b){if(b.length>1){return true}b.disabled=false;CMECF.util.Event.addListener(b,"keypress",CMECF.widget.NextButtonKeypress);return true}CMECF.widget.EnableNextButtonTimeout=setTimeout(CMECF.widget.EnableNextButton,1)};CMECF.widget.SetDisabled=function(c,b,i,h){var g=(c.type==="button"||c.type==="reset");var f=(c.type==="checkbox"||c.type==="radio");var a=(g?c.value:(c.id||c.name))+"|";var j=a+b;if(typeof(h)!=="object"){if(g){h=false}if(h===undefined){h=f}if(h){h=CMECF.widget.getElementsLabel(c)}}if(CMECF.widget.SetDisabled.callers===undefined){CMECF.widget.SetDisabled.callers={}}(i?d():e());return(c.disabled);function d(){CMECF.widget.SetDisabled.callers[j]=true;c.disabled=true;if(h){CMECF.util.Dom.addClass(h,"disabledLabel")}}function e(){if(CMECF.widget.SetDisabled.callers[j]){delete CMECF.widget.SetDisabled.callers[j];for(j in CMECF.widget.SetDisabled.callers){if(j.indexOf(a)!=-1){return}}c.disabled=false;if(h){CMECF.util.Dom.removeClass(h,"disabledLabel")}}}};CMECF.widget.getElementsLabel=function(b){var a=(b.type==="checkbox"||b.type==="radio");var c=(a?b.nextSibling:b.previousSibling);while(c){if(c.tagName==="LABEL"){return c}c=(a?c.nextSibling:c.previousSibling)}return undefined};CMECF.widget.TrapNextButton=function(b){CMECF.widget.TrapNextButtonTimeout=0;var a=document.forms[0].button1;if(a){if(a.length>1){return true}if(!CMECF.widget.TrappedFunction){CMECF.widget.TrappedFunction=a.onclick;a.onclick=b}a.disabled=false;return true}CMECF.widget.TrapNextButtonTimeout=setTimeout(function(){CMECF.widget.TrapNextButton(b)},1)};CMECF.widget.ReleaseNextButton=function(){if(CMECF.widget.DisableNextButtonTimeout){window.clearTimeout(CMECF.widget.DisableNextButtonTimeout);CMECF.widget.DisableNextButtonTimeout=0}if(CMECF.widget.TrapNextButtonTimeout){window.clearTimeout(CMECF.widget.TrapNextButtonTimeout);CMECF.widget.TrapNextButtonTimeout=0}var a=document.forms[0].button1;if(a){if(a.length>1){return true}a.disabled=false;if(CMECF.widget.TrappedFunction){if(CMECF.widget.RunTrappedFunction){if(BeenHere!==1){CMECF.widget.TrappedFunction()}}if(CMECF.widget.TrappedFunction){a.onclick=CMECF.widget.TrappedFunction}CMECF.widget.TrappedFunction=undefined}return true}CMECF.widget.ReleaseNextButtonTimeout=setTimeout(CMECF.widget.ReleaseNextButton,1)};CMECF.widget.TrapButton=function(b,a,c){if(!CMECF.widget.TrappedFunction){CMECF.widget.TrappedFunction={}}if(!CMECF.widget.TrapButtonTimeout){CMECF.widget.TrapButtonTimeout={}}CMECF.widget.TrapButtonTimeout[a.value]=0;if(a){if(a.length>1){return true}if(!CMECF.widget.TrappedFunction[a.value]){CMECF.widget.TrappedFunction[a.value]=a.onclick;a.onclick=b}if(c){a.disabled=false}return true}CMECF.widget.TrapButtonTimeout[a.value]=setTimeout(function(){CMECF.widget.TrapButton(b,a,c)},1)};CMECF.widget.ReleaseButton=function(a,b){if(!CMECF.widget.TrappedFunction){CMECF.widget.TrappedFunction={}}if(!CMECF.widget.TrapButtonTimeout){CMECF.widget.TrapButtonTimeout={}}if(CMECF.widget.TrapButtonTimeout[a.value]){window.clearTimeout(CMECF.widget.TrapButtonTimeout[a.value]);CMECF.widget.TrapButtonTimeout[a.value]=0}if(a){if(a.length>1){return true}if(b){a.disabled=false}if(CMECF.widget.TrappedFunction[a.value]){if(CMECF.widget.RunTrappedFunction){if(BeenHere!==1){CMECF.widget.TrappedFunction[a.value]()}}if(CMECF.widget.TrappedFunction[a.value]){a.onclick=CMECF.widget.TrappedFunction[a.value]}CMECF.widget.TrappedFunction[a.value]=undefined}return true}setTimeout(function(){CMECF.widget.ReleaseButton(a,b)},1)};CMECF.widget.addClearFunction=function(c){var b=document.getElementsByName("reset");var a;if(b.length>0){a=b[0]}if(a){if(a.length>1){return true}CMECF.util.Event.addListener(a,"click",c);return true}setTimeout(function(){CMECF.widget.addClearFunction(c)},1)};CMECF.widget.IgnoreEnterKey=function(a){var b=a.keyCode;if(b===13){CMECF.util.Event.stopEvent(a);return false}return true};CMECF.widget.DisableFormSubmissionOnEnterAfterLoad=function(){var e={textarea:true,select:true,"select-one":true,button:true,reset:true,submit:true};for(var b=0;b<document.forms.length;b++){var d=document.forms[b];for(var a=0;a<d.elements.length;a++){var c=d.elements[a];if(c&&c.type){if(!e[c.type]){CMECF.util.Event.addListener(c,"keyup",CMECF.widget.IgnoreEnterKey);CMECF.util.Event.addListener(c,"keydown",CMECF.widget.IgnoreEnterKey);CMECF.util.Event.addListener(c,"keypress",CMECF.widget.IgnoreEnterKey)}}}}};CMECF.widget.DisableFormSubmissionOnEnter=function(){if(navigator.userAgent.match(/Netscape/)){window.setTimeout(CMECF.widget.DisableFormSubmissionOnEnterAfterLoad,0)}else{CMECF.util.Event.addListener(window,"load",CMECF.widget.DisableFormSubmissionOnEnterAfterLoad)}};CMECF.widget.EnterSubmitForm=function(a){var c=a.keyCode;if(c!==13){return true}if(BeenHere===1){return true}var e=(a.target||a.srcElement);if(!e||!e.type){return true}var d=e.type.toLowerCase();if(CMECF.widget.MakeEnterSubmitButtonFormTypes&&CMECF.widget.MakeEnterSubmitButtonFormTypes[d]){if(e.getAttribute("name")==="button1"){return true}if(e.onclick){e.onclick()}return true}if(!CMECF.widget.MakeEnterSubmitFormTypesToIgnore||CMECF.widget.MakeEnterSubmitFormTypesToIgnore[d]){return true}if(e.id&&e.id=="searchTerm"){return true}if(e.id&&e.id.search(/case_number_/)>=0){return true}CMECF.util.Event.stopEvent(a);var b=document.forms[0].button1;if(b&&!b.disabled){b.onclick()}return false};CMECF.widget.MakeEnterSubmitFormRun=false;CMECF.widget.MakeEnterSubmitForm=function(){if(!CMECF.widget.MakeEnterSubmitFormRun){CMECF.widget.MakeEnterSubmitFormRun=true;CMECF.widget.MakeEnterSubmitFormTypesToIgnore={textarea:true,select:true,"select-multiple":true,"select-one":true};CMECF.widget.MakeEnterSubmitButtonFormTypes={button:true,reset:true,submit:true};CMECF.util.Event.addListener(document,"keydown",CMECF.widget.EnterSubmitForm)}};CMECF.widget.ignoreNonDigits=function(a){var b=a.keyCode;var c=(a.target||a.srcElement);c.value=c.value.replace(/\D+/,"");CMECF.util.Event.stopEvent(a);return false};CMECF.widget.AllowOnlyDigits=function(a){var b=document.getElementsByName(a)[0];if(!b||b.type!=="text"){return false}CMECF.util.Event.addListener(b,"keyup",CMECF.widget.ignoreNonDigits)};CMECF.widget.setContainerElementsDisabled=function(c,f,g){var b=["select","input"],a,e,d;if(typeof(c)==="string"){c=document.getElementById(c)}if(!c){return}for(e=0;e<b.length;e++){a=c.getElementsByTagName(b[e]);for(d=0;d<a.length;d++){a[d].disabled=f}}if(g){if(f){CMECF.util.Dom.addClass(c,"disabledLabel")}else{CMECF.util.Dom.removeClass(c,"disabledLabel")}}};CMECF.widget.updatePageTitle=function(b){var a=document.getElementById("main-page-title-content");if(a){a.innerHTML=b}};CMECF.widget.toggleElementDisplay=function(d,b){var c;var b=b||"block";var a=document.getElementById(d);if(!a){return false}c=a.style.display||b;a.style.display=(c==="none"?b:"none");return(c==="none")};function compareFields(a,d,b){var c="";if(a.value===d.value){return true}if(b==1){c="Primary email address does not match."}else{c="Secondary email addresses do not match."}alert(c);return false};
// lib/book_navigation.js v5.2
CMECF.util.Event=YAHOO.util.Event;CMECF.widget.Menu=YAHOO.widget.Menu;CMECF.util.Dom.getXY=YAHOO.util.Dom.getXY;CMECF.widget.BookNavigation=function(q){var i=[];var o=1;var m=0;var c=document.getElementById(q+"_go_prev");var d=document.getElementById(q+"_go_next");var r=document.getElementById(q+"_counter");var s=document.getElementById(q+"_number_of_pages");var n=document.getElementById(q+"_alltext");var h=document.getElementById(q+"_current_page");var k=[];while(true){var j=q+"_page_"+(m+1);var f=document.getElementById(j);if(f){m++;i[m]=f;var t=f.getAttribute("name");if(t){k[m]=t}}else{break}}if(m===0){return}if(!c){window.console.log("Error: CMECF.widget.BookNavigation called without a button called "+q+"_go_prev");return}if(!d){window.console.log("Error: CMECF.widget.BookNavigation called without a button called "+q+"_go_next");return}if(!r){window.console.log("Error: CMECF.widget.BookNavigation called without a span called "+q+"_counter");return}if(!s){window.console.log("Error: CMECF.widget.BookNavigation called without a span called "+q+"_number_of_pages");return}if(!n){window.console.log("Error: CMECF.widget.BookNavigation called without a span called "+q+"_alltext");return}s.innerHTML=m;function a(u){var v=i[u];if(!v){window.console.log("Error: CMECF.widget.BookNavigation asked to go to page "+u+", which does not exist.");return}i[o].style.display="none";v.style.display="block";o=u;c.style.visibility=(o===1?"hidden":"visible");d.style.visibility=(o===m?"hidden":"visible");r.innerHTML=o;h.value=o}function e(){if(o>1){a(o-1)}}function b(){if(o<m){a(o+1)}}function l(){CMECF.util.Event.removeListener(n,"click",l);var A=n.innerHTML.replace(/<.*$/,"");var y=CMECF.util.Dom.getXY(n);var x=new CMECF.widget.Menu("jump_menu_"+q,{xy:y,maxheight:400,scrollincrement:3});function v(D,C,E){a(E)}var w=[];for(var u=1;u<=m;u++){var z=k[u];var B=A+u+(z?(" - "+z):"");w.push({text:B,onclick:{fn:v,obj:u}})}x.addItems(w);x.render(document.body);x.show();CMECF.util.Event.addListener(n,"click",x.show,null,x)}if(!h.value){h.value=1}a(parseInt(h.value,10));if(m>1){CMECF.util.Event.addListener(c,"click",e);CMECF.util.Event.addListener(d,"click",b);CMECF.util.Event.addListener(n,"click",l);var g=document.getElementById(q+"_book_buttons");g.style.display="block";var p=document.getElementById("cmecfMainContent");p.style.overflowY="scroll"}};
// lib/filter/case_number.js v5.9
CMECF.namespace("CaseNumberWidget");CMECF.CaseNumberWidget.AddCaseNumberLine=function(b){if(!b){b=""}var i=0;if(CMECF.CaseNumberWidget.CaseIdForLine){i=CMECF.CaseNumberWidget.CaseIdForLine.length;CMECF.CaseNumberWidget.MainCaseNumberSpan.appendChild(document.createElement("br"))}else{CMECF.CaseNumberWidget.MainCaseNumberSpan=document.getElementById("case_number_area");CMECF.CaseNumberWidget.MainCaseNumberSpan.style.whiteSpace="nowrap";var c=["optional","multiple","additionally","message","no_lookup","allow_unfound_case","case_num_field_name","case_number_must_contain","no_submit_on_enter"];CMECF.CaseNumberWidget.option={};var h=c.length;for(var g=0;g<h;g++){var o=c[g];CMECF.CaseNumberWidget.option[o]=(CMECF.CaseNumberWidget.MainCaseNumberSpan.getAttribute(o)||"")}CMECF.CaseNumberWidget.RequestedNumberForLine=[];CMECF.CaseNumberWidget.NeedToLookUpLine=[];CMECF.CaseNumberWidget.LastKnownNumberForLine=[];CMECF.CaseNumberWidget.CaseIdForLine=[];CMECF.CaseNumberWidget.CurrentMessage=[];CMECF.FormControls.Register({fieldId:"all_case_ids",validateFunction:CMECF.CaseNumberWidget.Valid,invalidFunction:CMECF.CaseNumberWidget.Invalid,clearFunction:CMECF.CaseNumberWidget.ClearFields});var f=document.getElementById("all_case_ids").value;if(f){if(f==="0"){b=""}else{b="cookie"}}}CMECF.CaseNumberWidget.RequestedNumberForLine[i]="";CMECF.CaseNumberWidget.LastKnownNumberForLine[i]="never_will_match_this";CMECF.CaseNumberWidget.CaseIdForLine[i]="new";CMECF.CaseNumberWidget.NeedToLookUpLine[i]=false;CMECF.CaseNumberWidget.CurrentMessage[i]="";var s="input";if(CMECF.CaseNumberWidget.option.multiple){s="textarea"}var e=CMECF.CaseNumberWidget.create_element_with_id_of("case_number_text_area_"+i,s);if(s==="textarea"){e.rows=1;e.style.height="1.8em";e.style.overflow="hidden"}e.setAttribute("autocomplete","off");CMECF.util.Event.addListener(e,"keydown",CMECF.CaseNumberWidget.CheckKeyDownOnCaseNumberField,i);CMECF.util.Event.addListener(e,"keyup",CMECF.CaseNumberWidget.ResetField,i);CMECF.util.Event.addListener(e,"paste",CMECF.CaseNumberWidget.ResetField,i);CMECF.util.Event.addListener(e,"blur",CMECF.CaseNumberWidget.ResetField,i);var l=CMECF.CaseNumberWidget.create_element_with_id_of("case_number_show_button_"+i,"button");l.value="Show Case List";CMECF.util.Event.addListener(l,"click",CMECF.CaseNumberWidget.ShowPickArea,i);var n=CMECF.CaseNumberWidget.create_element_with_id_of("case_number_hide_button_"+i,"button");n.value="Hide Case List";CMECF.util.Event.addListener(n,"click",CMECF.CaseNumberWidget.HidePickArea,i);var m=CMECF.CaseNumberWidget.create_element_with_id_of("case_number_find_button_"+i,"button");m.value="Find This Case";if(CMECF.CaseNumberWidget.option.no_lookup){m.value="Verify Number Format";m.style.width=""}CMECF.util.Event.addListener(m,"click",CMECF.CaseNumberWidget.ValidateCaseNumber,i);var u=document.createElement("span");u.id="case_number_message_area_"+i;CMECF.CaseNumberWidget.MainCaseNumberSpan.appendChild(u);var t=document.createElement("div");t.id="case_number_pick_area_"+i;t.style.display="none";CMECF.CaseNumberWidget.MainCaseNumberSpan.appendChild(t);if(b){if(b==="cookie"){var d=document.cookie;var q=d.indexOf("CASE_NUM=");if(q===-1){b=""}else{var j=q+9;var p=d.indexOf(";",j);b=d.substring(j,p);b=b.replace(/\|$/,"")}}if(!CMECF.CaseNumberWidget.option.multiple){b=b.replace(/^.+\+/,"")}var k=new RegExp("^([^\\(\\)\\+]+)(\\(([\\d,]+)\\))?\\+?(.*)$");var v=new RegExp("[a-zA-Z]{2}");var r;if(CMECF.CaseNumberWidget.option.case_number_must_contain){r=new RegExp(CMECF.CaseNumberWidget.option.case_number_must_contain)}var a=k.exec(b);if(a){if(r&&v.exec(a[1])&&!r.exec(a[1])){CMECF.CaseNumberWidget.CaseIdForLine[i]="reset";CMECF.CaseNumberWidget.ResetField(null,i);CMECF.CaseNumberWidget.ChangeMessageTo(i);a[1]="";a[3]=""}else{e.value=a[1];CMECF.CaseNumberWidget.LastKnownNumberForLine[i]=e.value;if(a[3]){CMECF.CaseNumberWidget.CaseIdForLine[i]=a[3].replace(/,.*/,"");CMECF.CaseNumberWidget.ChangeMessageTo(i)}else{CMECF.CaseNumberWidget.ValidateCaseNumber("",i)}}if(a[4]&&a[4].length&&CMECF.CaseNumberWidget.option.multiple){CMECF.CaseNumberWidget.NewCaseToLookUp(a[4])}else{if(a[3]){CMECF.CaseNumberWidget.UpdateCaseidValue()}}}}if(!b){CMECF.CaseNumberWidget.CaseIdForLine[i]="reset"}CMECF.CaseNumberWidget.ResetField(null,i);return true};CMECF.CaseNumberWidget.create_element_with_id_of=function(b,d){var c=document.getElementById(b);if(!c){var a="";if(d==="button"){d="input";a="button"}if(!d){d="input"}c=document.createElement(d);c.id=b;if(a==="button"){c.type="button";c.style.display="none";c.style.width="8em"}CMECF.CaseNumberWidget.MainCaseNumberSpan.appendChild(c)}else{if(d==="button"){c.style.display="none";c.style.width="8em"}}return c};CMECF.CaseNumberWidget.focusOnCaseNumberField=function(a){var b=document.getElementById("case_number_text_area_"+a);if(b){if(b.focus){b.focus()}}else{window.setTimeout(function(){CMECF.CaseNumberWidget.focusOnCaseNumberField(a)},1)}};CMECF.CaseNumberWidget.ChangeMessageTo=function(a,c){if(!a){a=0}document.getElementById("case_number_show_button_"+a).style.display="none";document.getElementById("case_number_find_button_"+a).style.display="none";document.getElementById("case_number_hide_button_"+a).style.display="none";var d="case_number_message_area_"+a;var b=document.getElementById(d);if(!b){window.alert("Cannot find message area "+a);return true}var e=document.createElement("span");e.id=d;if(c){e.style.fontSize="small";e.appendChild(document.createTextNode(" "+c))}b.parentNode.replaceChild(e,b)};CMECF.CaseNumberWidget.UpdateCaseidValue=function(){var d={};var f=[];var c=0;while(CMECF.CaseNumberWidget.CaseIdForLine.length>c){var b=CMECF.CaseNumberWidget.CaseIdForLine[c];if(b.length>0){if(b.match(/\d/)&&!d[b]){d[b]=1;var e=document.getElementById("case_number_text_area_"+c).value+"("+b+")";f.push(e)}}c++}var a=[];for(var g in d){if(g){g=g.replace(/\D+/,"");if(g){a.push(g)}}}if(a.length===0){a.push(0)}document.getElementById("all_case_ids").value=a.join(",");if(f.length>0){document.cookie="CASE_NUM="+f.join("+")+";"}};CMECF.CaseNumberWidget.radiosFor=function(d,f){if(!d){d=0}var e=document.getElementsByTagName("input");var g=[];var a=new RegExp("case_number_radio_"+d);for(var c=0;c<e.length;c++){var b=e[c];if(a.exec(b.id)!==null){g.push(b);if(f&&b.checked){b.click();b.focus()}}}return g};CMECF.CaseNumberWidget.CheckClickOnCaseNumber=function(a,b){if(b){b.click()}return 0};CMECF.CaseNumberWidget.CheckKeyDownOnRadioButton=function(a,c){var d=a.keyCode;if(d===13){var b=document.forms[0].button1;if(!b.disabled){b.onclick()}}if(d===32){CMECF.util.Event.stopEvent(a);window.setTimeout(CMECF.CaseNumberWidget.FocusOnFirstBlankLine,1);window.setTimeout(function(){CMECF.CaseNumberWidget.HidePickArea("",c,"Already focused on case number.")},2);return false}return true};CMECF.CaseNumberWidget.UpdateCaseNumberField=function(e,d){if(!d.case_number){d.case_number=""}if(!d.case_id){d.case_id=""}var f=d.field_number;var b=document.getElementById("case_number_text_area_"+f);if(!b){window.alert("Cannot find case_number_text_area_"+f+" to update it.");return true}var h=CMECF.CaseNumberWidget.radiosFor(f);if(h.length<=1){var g="";var a=new RegExp(" (([\\(\\*](archived|sealed|closed)[\\)\\*]\\s*)+)$");var c=a.exec(d.case_title);if(c){g=c[1]}CMECF.CaseNumberWidget.ChangeMessageTo(f,g)}b.value=d.case_number;CMECF.CaseNumberWidget.LastKnownNumberForLine[f]=b.value;CMECF.CaseNumberWidget.CaseIdForLine[f]=d.case_id;if(b.value.length===0){b.value=CMECF.CaseNumberWidget.RequestedNumberForLine[f];CMECF.CaseNumberWidget.LastKnownNumberForLine[f]=b.value}else{CMECF.CaseNumberWidget.NeedToLookUpLine[f]=false}CMECF.CaseNumberWidget.UpdateCaseidValue();return true};CMECF.CaseNumberWidget.HidePickArea=function(a,c,b){document.getElementById("case_number_show_button_"+c).style.display="inline";document.getElementById("case_number_find_button_"+c).style.display="none";document.getElementById("case_number_hide_button_"+c).style.display="none";document.getElementById("case_number_message_area_"+c).style.display="none";document.getElementById("case_number_pick_area_"+c).style.display="none";if(!b){CMECF.CaseNumberWidget.focusOnCaseNumberField(c)}};CMECF.CaseNumberWidget.ShowPickArea=function(a,b){document.getElementById("case_number_show_button_"+b).style.display="none";document.getElementById("case_number_find_button_"+b).style.display="none";document.getElementById("case_number_hide_button_"+b).style.display="inline";document.getElementById("case_number_message_area_"+b).style.display="inline";document.getElementById("case_number_pick_area_"+b).style.display="inline";CMECF.CaseNumberWidget.radiosFor(b,"focus")};CMECF.CaseNumberWidget.CaseNumberLookupSuccess=function(m){var h=m.argument;if(!h){h=0}if(CMECF.CaseNumberWidget.RequestedNumberForLine[h].length===0||CMECF.CaseNumberWidget.RequestedNumberForLine[h]==="will_never_match_this_one_either"){return false}var a=m.responseXML;if(a===undefined){window.alert("Failed to get a response from the server, cannot verify this case number.");CMECF.CaseNumberWidget.ChangeMessageTo(h,"Cannot verify case.");if(CMECF.FormControls){CMECF.FormControls.PublishChangeTo("all_case_ids")}return true}var f=a.getElementsByTagName("request")[0];if(f===undefined){window.alert("Failed to get a useful response from the server, cannot verify this case number..");CMECF.CaseNumberWidget.ChangeMessageTo(h,"Cannot verify case.");if(CMECF.FormControls){CMECF.FormControls.PublishChangeTo("all_case_ids")}return true}var s=f.getAttribute("number");if(s===undefined){window.alert("Failed to get a useful response from the server, cannot verify this case number.");CMECF.CaseNumberWidget.ChangeMessageTo(h,"Cannot verify case.");if(CMECF.FormControls){CMECF.FormControls.PublishChangeTo("all_case_ids")}return true}var b=a.getElementsByTagName("case");if(b.length<=0){CMECF.CaseNumberWidget.UpdateCaseNumberField("",{field_number:h});var j="Cannot find case "+s;var l=a.getElementsByTagName("message");if(l.length>0){j=l[0].getAttribute("text")}CMECF.CaseNumberWidget.ChangeMessageTo(h,j)}else{if(b.length===1){CMECF.CaseNumberWidget.ChangeMessageTo(h);var d=b[0];CMECF.CaseNumberWidget.UpdateCaseNumberField("",{field_number:h,case_number:d.getAttribute("number"),case_id:d.getAttribute("id"),case_title:d.getAttribute("title")})}else{if(b.length>1){CMECF.CaseNumberWidget.ChangeMessageTo(h);var u=document.createElement("div");u.id="case_number_pick_area_"+h;u.style.whiteSpace="nowrap";u.style.display="none";u.appendChild(document.createElement("br"));for(var g=0;g<b.length;g++){var t=document.createElement("div");CMECF.util.Dom.addClass(t,"caselist");var k=b[g].getAttribute("number");var p=b[g].getAttribute("title");var c=b[g].getAttribute("id");t.id="case_line_"+h+"_"+c;var q;var e;if(CMECF.env.ua.ie){var n="";if(g===0){n="checked"}e=document.createElement('<input type="radio" name="case_number_radio_'+h+'" id=case_number_radio_'+h+"_"+c+'" '+n+" />")}else{e=document.createElement("input");e.setAttribute("autocomplete","off");e.type="radio";e.name="case_number_radio_"+h;e.id="case_number_radio_"+h+"_"+c}var r={field_number:h,case_number:k,case_id:c};e.value=k;CMECF.util.Event.addListener(e,"click",CMECF.CaseNumberWidget.UpdateCaseNumberField,r);CMECF.util.Event.addListener(e,"keydown",CMECF.CaseNumberWidget.CheckKeyDownOnRadioButton,h);t.appendChild(e);q=document.createElement("a");q.style.cursor="pointer";q.appendChild(document.createTextNode(p));CMECF.util.Event.addListener(q,"click",CMECF.CaseNumberWidget.CheckClickOnCaseNumber,e);CMECF.util.Event.addListener(q,"click",CMECF.CaseNumberWidget.HidePickArea,h);CMECF.util.Event.addListener(q,"click",CMECF.CaseNumberWidget.FocusOnFirstBlankLine);t.appendChild(q);u.appendChild(t);if(g===0){window.setTimeout("var item=document.getElementById('case_number_radio_"+h+"_"+c+"'); if (item) { item.click(); item.focus();};",0)}}var i=document.getElementById(u.id);i.parentNode.replaceChild(u,i);CMECF.CaseNumberWidget.ShowPickArea("",h);CMECF.CaseNumberWidget.radiosFor(h,"focus")}else{CMECF.CaseNumberWidget.ChangeMessageTo(h,"Cannot find case "+s+" ...")}}}if(CMECF.FormControls){CMECF.FormControls.PublishChangeTo("all_case_ids")}return CMECF.CaseNumberWidget.Valid()};CMECF.CaseNumberWidget.CaseNumberLookupFailure=function(a){if(CMECF.FormControls){CMECF.FormControls.PublishChangeTo("all_case_ids")}return true};CMECF.CaseNumberWidget.Valid=function(c){var f;var g=[];var b=[];var d=0;while(CMECF.CaseNumberWidget.CaseIdForLine.length>d){f=document.getElementById("case_number_text_area_"+d).value;if(CMECF.CaseNumberWidget.NeedToLookUpLine[d]){g.push(f);break}var e=CMECF.CaseNumberWidget.CaseIdForLine[d];if((e.length===0||e===0)&&document.getElementById("case_number_text_area_"+d).value.length>0&&!document.getElementById("case_number_text_area_"+d).value.match(/^\s+$/)&&!CMECF.CaseNumberWidget.option.allow_unfound_case&&!CMECF.CaseNumberWidget.option.no_lookup){b.push(f);break}d++}if(CMECF.CaseNumberWidget.option.multiple){var a=document.getElementById("case_number_text_area_"+(CMECF.CaseNumberWidget.CaseIdForLine.length-1));if(a.value.length>0&&!a.value.match(/^\s+$/)){CMECF.CaseNumberWidget.AddCaseNumberLine()}}if(g.length){if(c){return"Need to look up case number "+g.join(", ")}return false}if(b.length){if(c){return"Need to look up case number "+b.join(", ")}return false}if(CMECF.CaseNumberWidget.option.no_lookup){return true}if(CMECF.CaseNumberWidget.option.optional){return true}if(CMECF.CaseNumberWidget.option.allow_unfound_case){var h=true;d=0;while(CMECF.CaseNumberWidget.CaseIdForLine.length>d){if(document.getElementById("case_number_text_area_"+d).value.length===0){h=false}else{if(CMECF.CaseNumberWidget.CurrentMessage[d].search(/Cannot find case/)<0){h=false}}d++}if(h){return true}}if(document.getElementById("all_case_ids").value.length>0&&document.getElementById("all_case_ids").value!=="0"){return true}if(c){return"A valid case number is required."}return false};CMECF.CaseNumberWidget.Invalid=function(){return CMECF.CaseNumberWidget.Valid("report")};CMECF.CaseNumberWidget.CheckKeyDownOnCaseNumberField=function(a,b){var c=a.keyCode;if(c===13){CMECF.util.Event.stopEvent(a);if(CMECF.CaseNumberWidget.ValidateCaseNumber("",b)){if(CMECF.CaseNumberWidget.option.optional){if(CMECF.FormControls){CMECF.FormControls.PublishChangeTo("all_case_ids")}return true}}CMECF.CaseNumberWidget.FocusOnFirstBlankLine();return false}if(c===32){CMECF.util.Event.stopEvent(a);if(document.getElementById("case_number_show_button_"+b).style.display==="inline"){window.setTimeout(function(){CMECF.CaseNumberWidget.ShowPickArea("",b)},0)}else{if(document.getElementById("case_number_hide_button_"+b).style.display==="inline"){CMECF.CaseNumberWidget.HidePickArea("",b)}else{if(document.getElementById("case_number_find_button_"+b).style.display==="inline"){CMECF.CaseNumberWidget.ValidateCaseNumber("",b);CMECF.CaseNumberWidget.FocusOnFirstBlankLine()}}}return false}return true};CMECF.CaseNumberWidget.ClearFields=function(){var a=CMECF.CaseNumberWidget.CaseIdForLine.length;for(var b=0;b<a;b++){CMECF.CaseNumberWidget.CaseIdForLine[b]="clear";CMECF.CaseNumberWidget.RequestedNumberForLine[b]="";CMECF.CaseNumberWidget.LastKnownNumberForLine[b]="never_will_match_this_either";document.getElementById("case_number_text_area_"+b).value="";CMECF.CaseNumberWidget.ChangeMessageTo(b);CMECF.CaseNumberWidget.ResetField(null,b);document.cookie="CASE_NUM=;"}return true};CMECF.CaseNumberWidget.ResetField=function(c,e){var b=document.getElementById("case_number_text_area_"+e);var d=b.value;if(d!==CMECF.CaseNumberWidget.LastKnownNumberForLine[e]){CMECF.CaseNumberWidget.LastKnownNumberForLine[e]=d;var a=document.getElementById("case_number_find_button_"+e);if(CMECF.CaseNumberWidget.CaseIdForLine[e].length>0||CMECF.CaseNumberWidget.RequestedNumberForLine[e].length>0||document.getElementById("case_number_hide_button_"+e).style.display==="inline"){if(CMECF.CaseNumberWidget.RequestedNumberForLine[e]!=="will_never_match_this_one_either"){CMECF.CaseNumberWidget.RequestedNumberForLine[e]="will_never_match_this_one_either";CMECF.CaseNumberWidget.CaseIdForLine[e]="";CMECF.CaseNumberWidget.HidePickArea("",e,"do not focus on the case number");CMECF.CaseNumberWidget.ChangeMessageTo(e,(e===0?CMECF.CaseNumberWidget.option.message:""));CMECF.CaseNumberWidget.UpdateCaseidValue()}}if(d.length>0&&!d.match(/^\s+$/)){if(d.match(/\S\s+/)){CMECF.CaseNumberWidget.ValidateCaseNumber("",e);CMECF.CaseNumberWidget.FocusOnFirstBlankLine()}else{CMECF.CaseNumberWidget.ChangeMessageTo(e);a.style.display="inline";CMECF.CaseNumberWidget.CaseIdForLine[e]="";CMECF.CaseNumberWidget.NeedToLookUpLine[e]=true}}else{a.style.display="none";CMECF.CaseNumberWidget.NeedToLookUpLine[e]=false}}if(CMECF.FormControls){CMECF.FormControls.PublishChangeTo("all_case_ids")}return true};CMECF.CaseNumberWidget.ValidateCaseNumber=function(g,a){if(!a){a=0}CMECF.CaseNumberWidget.NeedToLookUpLine[a]=false;var l=document.getElementById("case_number_text_area_"+a);if(l.value.length===0){return true}if(CMECF.CaseNumberWidget.CaseIdForLine[a].length>0&&CMECF.CaseNumberWidget.CaseIdForLine[a]>0){return true}var k=l.value.split(/[\s;,]+/);if(k[0]===""){k.shift()}if(k.length>0&&k[-1]===""){k.pop()}if(k.length===0){k[0]=""}var f=k.shift();l.value=f;CMECF.CaseNumberWidget.LastKnownNumberForLine[a]=l.value;if(CMECF.CaseNumberWidget.option.multiple){while(k.length>0){var e=k.shift();if(e&&e.length){CMECF.CaseNumberWidget.NewCaseToLookUp(e)}}}if(f.length===0){CMECF.CaseNumberWidget.CaseIdForLine[a]="none_found";CMECF.CaseNumberWidget.UpdateCaseidValue();return false}if(CMECF.CaseNumberWidget.RequestedNumberForLine[a]===f){return false}CMECF.CaseNumberWidget.RequestedNumberForLine[a]=f;if(CMECF.CaseNumberWidget.CaseIdForLine[a]){CMECF.CaseNumberWidget.CaseIdForLine[a]="looking_up";CMECF.CaseNumberWidget.UpdateCaseidValue()}CMECF.CaseNumberWidget.ChangeMessageTo(a,"Looking up case number "+f+"...");var j;var c=f.match(/^\s*((\w)[:\-])?(\d{1,4})[:\-]?([a-zA-Z]{2})[:\-]?(\d+)/);if(c){if(c[2]&&c[2].length>0){c[2]=c[2].toLowerCase()+":"}else{c[2]=""}c[4]=c[4].toLowerCase();if(c[4].length>0&&CMECF.CaseNumberWidget.option.case_number_must_contain){var d=new RegExp(CMECF.CaseNumberWidget.option.case_number_must_contain);if(!d.exec(c[4])){CMECF.CaseNumberWidget.ChangeMessageTo(a,'"'+c[4]+'" is not an allowed case type here.');return false}}j=c[2]+c[3]+"-"+c[4]+"-"+c[5]}else{c=f.match(/^\s*((\w):)?(\d{1,4})-?(\d+)/);if(c){if(c[2]&&c[2].length>0){c[2]=c[2].toLowerCase()+":"}else{c[2]=""}j=c[2]+c[3]+"-"+c[4]}else{CMECF.CaseNumberWidget.ChangeMessageTo(a,"Invalid case number, check help for valid formats.");CMECF.CaseNumberWidget.focusOnCaseNumberField(a);return false}}if(j){CMECF.CaseNumberWidget.RequestedNumberForLine[a]=j;l.value=j;CMECF.CaseNumberWidget.LastKnownNumberForLine[a]=j;if(CMECF.CaseNumberWidget.option.no_lookup){CMECF.CaseNumberWidget.ChangeMessageTo(a);CMECF.CaseNumberWidget.NeedToLookUpLine[a]=false}else{if(CMECF.CaseNumberWidget.option.additionally.length>0){CMECF.CaseNumberWidget.option.additionally=CMECF.CaseNumberWidget.option.additionally+";"}var b="number="+Math.random();var i="/cgi-bin/possible_case_numbers.pl?"+j+";"+CMECF.CaseNumberWidget.option.additionally+b;var h={success:CMECF.CaseNumberWidget.CaseNumberLookupSuccess,failure:CMECF.CaseNumberWidget.CaseNumberLookupFailure,argument:a};CMECF.util.Connect.asyncRequest("GET",i,h)}if(g){CMECF.CaseNumberWidget.FocusOnFirstBlankLine();return true}}return false};CMECF.CaseNumberWidget.ValidateAndSubmit=function(){var b=CMECF.CaseNumberWidget.CaseIdForLine.length;for(var a=0;a<b;a++){CMECF.CaseNumberWidget.ValidateCaseNumber("",a)}return true};CMECF.CaseNumberWidget.NewCaseToLookUp=function(c){var b=0;while(CMECF.CaseNumberWidget.CaseIdForLine.length>b){var a=document.getElementById("case_number_text_area_"+b);if(a.value.length===0){a.value=c;return CMECF.CaseNumberWidget.ValidateCaseNumber("",b)}b++}return CMECF.CaseNumberWidget.AddCaseNumberLine(c)};CMECF.CaseNumberWidget.FocusOnFirstBlankLine=function(){var a=0;if(CMECF.CaseNumberWidget.option.multiple){while(true){var b=document.getElementById("case_number_text_area_"+a);if(!b){a=CMECF.CaseNumberWidget.CaseIdForLine.length-1;break}if(b.value.length===0){break}a++}}CMECF.CaseNumberWidget.focusOnCaseNumberField(a);return};
// lib/filter/pick_date.js v6.5
CMECF.namespace("CalendarButton");CMECF.util.Event=YAHOO.util.Event;CMECF.widget.Calendar=YAHOO.widget.Calendar;CMECF.CalendarButton.item=function(r,D,n,g){if(!r){window.console.log("Error: CMECF.CalendarButton.item called without a button id.")}g=g||{};if(!g.pages){g.pages=CMECF.CalendarButton.pages||1}var z=document.getElementById(r);var u=document.getElementById(r+"_button");var m=document.getElementById(r+"_calendar_container");var B;if(!z){window.console.log("Error: called CMECF.CalendarButtons.item without "+r+"_text existing.");return false}if(!u){window.console.log("Error: called CMECF.CalendarButtons.item without "+r+"_button existing.");return false}if(!m){window.console.log("Error: called CMECF.CalendarButton.item without "+r+"_calendar_container existing.");return false}var e=z.getAttribute("required");if(!n){n=r.charAt(0).toUpperCase()+r.substring(1).replace(/\_/g," ")}if(z.tagName==="SPAN"){z.value=z.firstChild.innerHTML}var c=n.toLowerCase();var y=n+" date is invalid.";var f=(z.value||"");function h(E){if(z.tagName==="SPAN"){return}z.focus();z.tabIndex=0;if(E){CMECF.util.Event.stopEvent(E)}}var t;function o(){if(z.onchange&&t()){z.onchange()}}function q(G,F){var E=false;var H=F[0][0];if(H[0]&&H[1]&&H[2]){var I=H[1]+"/"+H[2]+"/"+H[0];if(z.value!==I){if(z.tagName==="SPAN"){z.firstChild.innerHTML=I}else{z.value=I}E=true}}B.hide();h();if(E){if(CMECF.FormControls){CMECF.FormControls.PublishChangeTo(r)}o()}}function s(E){if(CMECF.util.Dom.getStyle(m,"display")==="block"){var F=CMECF.util.Event.getTarget(E);if(m!==F&&!CMECF.util.Dom.isAncestor(m,F)){B.hide()}}return true}function v(){var F=CMECF.util.Dom.getElementsByClassName("calcellright","td",m);var E=CMECF.util.Dom.getX(F[0])+27;return(E-CMECF.util.Dom.getX(m))}function j(){var F=CMECF.util.Dom.getElementsByClassName("calcellbottom","td",m);var E=CMECF.util.Dom.getY(F[0])+25;return(E-CMECF.util.Dom.getY(m))}function p(){var G,E;var H=g.pages;var F=1;if(g.pages>3){if(g.pages===9){H=F=3}else{if(g.pages<9){F=2;H=Math.round(g.pages/F)}else{H=4;F=Math.round(g.pages/H)}}}G=v()*H;E=j()*F;return[G,E]}function d(){var E;if(g.pages!==1){E=p();CMECF.util.Dom.setStyle(m,"width",E[0]+"px");CMECF.util.Dom.setStyle(m,"height",E[1]+"px")}}function l(){if(B){return false}var E={hide_blank_weeks:false,navigator:false,pages:g.pages,selected:z.value};B=new CMECF.widget.Calendar(m,E);CMECF.util.Dom.setXY(m.parentNode,CMECF.util.Dom.getXY(u));B.render();d();CMECF.util.Dom.setStyle(m,"visibility","visible");CMECF.util.Event.addListener(document,"mousedown",s);B.selectEvent.subscribe(q);return true}function i(){var E=z.value;var F=E.replace(/\-/g,"/").replace(/[^\d\/]/g,"");if(E!==F){z.value=F}}function A(){i();if(CMECF.FormControls){CMECF.FormControls.PublishChangeTo(r)}}function k(J){var F;if(!J){J=z.value;if(!J){return""}}var E=J.replace(/(\d+\/\d+\/)0+$/,"$1/2000").replace(/(^|\/)[\/0]+/g,"$1").replace(/\/$/,"");if(E){var G=E.match(/^\d+\/\d+\/(\d+)$/);if(G!==null){var H=parseInt(G[1],10);var I=null;if(H<100&&H>=70){I=H+1900}else{if(H<70){I=H+2000}else{if(H<300){I=H+1800}else{if(H>2200){F=new Date();I=F.getFullYear()}}}}if(I){E=E.replace(/(\d+)$/,I)}}else{G=E.match(/^\d+\/(\d+)$/);if(G!==null){if(G[1]<=32){F=new Date();E=E+"/"+F.getFullYear()}}}}return E}function a(){i();var E=z.value;var F=k();if(E!==F){z.value=F;if(CMECF.FormControls){CMECF.FormControls.PublishChangeTo(r)}}}t=function(){if(z.value){var H=k(z.value.replace(/(^|\/)[\/0]+/g,"$1"));var J=Date.parse(H);if(!J){y=z.value+" is not a valid "+c+" date.";return false}var I=new Date(J);var G=(I.getMonth()+1)+"/"+I.getDate()+"/"+I.getFullYear();if(H!==G){y=z.value+" is an invalid "+c+" date.";return false}if(D){var E=Date.parse(D.value);if(E&&E>J){var F=c.replace(/to$/,"from");y="The "+F+" date must come before the "+c+" date.";return false}}}else{if(e){y="A valid "+c+" date is required.";return false}}return true};function b(){return y}function w(){z.value=f}function x(){u.blur();l();a();if(t()){if(z.tagName==="SPAN"){z.value=z.firstChild.innerHTML}B.select(z.value);B.cfg.setProperty("pagedate",z.value.replace(/\/\d+\//,"/"));if(g.pages===12){B.setMonth(0)}else{if(g.pages>2){B.previousMonth()}}B.render()}B.show();CMECF.util.Dom.setXY(m,CMECF.util.Dom.getXY(u));var E=p();CMECF.MainMenu.moveIfOutsideWindow(m,E[0],E[1])}var C={fieldId:r,validateFunction:t,invalidFunction:b,clearFunction:w};if(CMECF.FormControls){CMECF.FormControls.Register(C)}CMECF.util.Event.addListener(u,"focus",h);CMECF.util.Event.addListener(u,"keydown",h);CMECF.util.Event.addListener(u,"click",x);CMECF.util.Event.addListener(z,"keyup",A);CMECF.util.Event.addListener(z,"paste",a);CMECF.util.Event.addListener(z,"blur",a);return C};CMECF.CalendarButton.range=function(b){if(!b){window.console.log("Error: CMECF.CalendarButton.range called without a button id prefix.")}var d=CMECF.CalendarButton.item(b+"_from");if(!d){return false}if(d.fieldId){var c=document.getElementById(d.fieldId);if(!c){return false}var a=CMECF.CalendarButton.item(b+"_to",c);if(!a){return false}}return true};
// lib/filter/document_number.js v5.2
CMECF.util.Event=YAHOO.util.Event;CMECF.widget.Number=function(i){var k=document.getElementById(i);if(!k){window.console.log("Error: CMECF.widget.Number called for an invalid id: "+i);return}var n='"'+i.charAt(0).toUpperCase()+i.substr(1).replace(/_/g," ")+'"';if(i.match(/_to$/)){var g=i.replace(/to$/,"from");var o=document.getElementById(g);if(!o){window.console.log("Error: CMECF.widget.Number called with id "+i+" but there is no "+g);return}var m=n.replace(/to\"/,'from"')}var l=k.value;if(l.length===0){l=""}var f=k.getAttribute("required");var a=new RegExp("^[\\d"+(k.decimal?"\\.":"")+"]"+(f?"+":"*")+"$");var e=new RegExp("[^\\d"+(k.decimal?"\\.":"")+"]","g");var d;function j(p){d=n+" is invalid";if(f&&k.value.length===0){d="A valid "+n+" is required.";return false}if(!a.test(k.value)){d=n+" is an invalid number.";return false}if(o){if(!a.test(o.value)){d="";return false}if(o.value.length>0&&k.value.length>0&&Number(o.value)>Number(k.value)){d=m+" must be less than or equal to "+n.toLowerCase()+".";return false}}return true}function h(){if(d){return d}return""}function b(){k.value=l}function c(){k.value=k.value.replace(e,"");CMECF.FormControls.PublishChangeTo(k.id)}CMECF.util.Event.addListener(i,"keyup",c);CMECF.FormControls.Register({fieldId:i,validateFunction:j,invalidFunction:h,clearFunction:b})};
// lib/filter/terminal_digit.js v5.3
CMECF.util.Event=YAHOO.util.Event;CMECF.widget.TerminalDigits=function(i){var k=document.getElementById(i);if(!k){window.console.log("Error: CMECF.widget.TerminalDigits called for an invalid id: "+i);return}var l=k.value;if(l.length===0){l=""}var f=k.getAttribute("required");var a=new RegExp("^[0-9]{1,2}(-[0-9]{1,2})?(,[0-9]{1,2}(-[0-9]{1,2})?)*$");var h=new RegExp("([0-9]{1,2})-([0-9]{1,2})","g");function c(){var m;h.lastIndex=0;while((m=h.exec(k.value))){if(parseInt(m[1],10)>=parseInt(m[2],10)){return m[1]+" is not less than "+m[2]}}return""}function j(){if(a.test(k.value)&&!c()){return true}if(k.value.length===0&&!f){return true}return false}function g(){var o=i.replace(/_/g," ");var m;if(k.value.length===0&&f){m="A valid "+o+" is required."}else{if(!a.test(k.value)){if(k.value.match(/\d\d\d/)){m="The "+o+" cannot have a number with more than two digits."}else{if(k.value.match(/[,\-]$/)){m="The "+o+" must end with a digit."}else{if(k.value.match(/^[,\-]/)){m="The "+o+" must start with a digit."}else{m="The "+o+' is invalid.  It can be a range and/or a comma separated list, such as "3-5,7,9".'}}}}else{var n=c();if(n){m="The "+o+" is invalid.  "+n+"."}else{m="The "+o+' is invalid.  It can be a range and/or a comma separated list, such as "3-5,7,10".'}}}return m}function b(){k.value=l}var e=new RegExp("[^0-9,-]","g");function d(){k.value=k.value.replace(e,"");CMECF.FormControls.PublishChangeTo(k.id)}CMECF.util.Event.addListener(i,"keyup",d);CMECF.FormControls.Register({fieldId:i,validateFunction:j,invalidFunction:g,clearFunction:b})};
// lib/data/dialog_boxes.js v5.49
CMECF.namespace("DialogBoxes");CMECF.namespace("lang");CMECF.widget.Dialog=YAHOO.widget.Dialog;CMECF.util.Connect.asyncRequest=YAHOO.util.Connect.asyncRequest;CMECF.util.DDM=YAHOO.util.DDM;CMECF.util.DDProxy=YAHOO.util.DDProxy;CMECF.util.DDTarget=YAHOO.util.DDTarget;CMECF.lang=YAHOO.lang;CMECF.env=YAHOO.env;CMECF.DialogBoxes.item=function(b,a){this.itemId=b;this.itemTitle=a;this.resetProperties()};CMECF.DialogBoxes.item.prototype={dialogData:null,itemId:null,itemTitle:null,getDataOnInitialization:true,clickMoves:true,listToWhichNewUserGetsAdded:"granted",lookupUrl:"/bin/not_correctly_set",listItems:{available:true,granted:true},submitFields:{},immobleNames:{},hadNewAttachment:false,accessPanelInstruction:"Click on a user or group to move it to the other list, right click for details.",userSearchInstruction:"Type a name to search for a user.",userSubmitInstruction:"Press Enter to find this person.",id:function(a){return this.itemId+"_"+a},element:function(a){return document.getElementById(this.id(a))},elementValue:function(b){var a=this.element(b);if(a&&a.value){if(a.type==="checkbox"&&!a.checked){return""}return a.value}return""},request:function(d){if(!d.argument){d.argument={}}var a=(d.getdata||("do="+d.action+"&item="+(d.item||this.itemId)));var c=this.lookupUrl+"?"+a;var e={success:d.success,upload:d.success,failure:d.failure,argument:d.argument,scope:this,cache:false};function b(){CMECF.util.Connect.asyncRequest((d.postdata?"POST":"GET"),c,e,(d.postdata||null))}d.argument.redoRequest=b;b()},deletePanel:function(c,a){if(a&&a.destroy&&a.cfg){var b=a.id+"_c";a.destroy();var e=document.getElementById(b);if(e){e.parentNode.removeChild(e)}if(this.openPanels){for(var d=this.openPanels.length-1;d>=0;d--){if(this.openPanels[d].id.match(a.id)){this.openPanels.splice(d,1)}}}}return true},showPanel:function(a){if(a&&a.show){a.show();this.openPanels.push(a);this.bringToFront(null,a);CMECF.util.Event.addListener(a.element,"mousedown",this.bringToFront,a,true)}else{window.console.log("Error: attempted to open non-existing panel: "+a)}},resetProperties:function(){this.openPanels=[];this.mainSubmissionItems={}},deleteAllPanels:function(){if(this.openPanels&&this.openPanels.length>0){var c=this.element("form");if(c){CMECF.util.Connect.setForm(c,false)}var a=this.openPanels.length;for(var b=a-1;b>=0;b--){this.deletePanel(null,this.openPanels[b])}c=this.element("form");if(c){c.parentNode.removeChild(c)}}},displayAlert:function(d,c){var b=new CMECF.widget.Panel(this.id("alert_"+this.openPanels.length),{fixedcenter:true,close:true,constraintoviewport:true,visible:false,zIndex:20});var a=this.id("alert_ok_"+this.openPanels.length);b.setHeader(d);b.setBody(c+"<p style='text-align:center;margin-top:10px;margin-bottom:5px'><input type='button' value='OK' id='"+a+"'></p>");b.render(document.body);CMECF.util.Event.addListener(a,"click",this.deletePanel,b);this.showPanel(b)},showFatalMessage:function(a){this.deleteAllPanels();this.displayAlert("Fatal Error",a)},submitFailure:function(a){if(!a){a=""}if(a.statusText){a=a.statusText}this.showFatalMessage("Failed to submit changes.  Please refresh this screen. "+a)},submitSuccess:function(b){var a;if(b&&b.responseText){a=b.responseText}else{return this.submitFailure("No response text.")}if(a.match(/^Success/)){if(this.onSuccessfulSubmit){this.onSuccessfulSubmit(a)}this.deleteAllPanels()}else{if(a.match(/ECF\s*Login/)){if(b&&b.argument&&b.argument.redoRequest){CMECF.util.verifyLoginThenRun(b.argument.redoRequest);return false}this.showFatalMessage("Your previous session expired, and so your last command did not work. Please refresh this page and try again.")}else{this.showFatalMessage(a)}}},checkValuesBeforeSubmit:function(){if(this.mainSubmissionItems.granted.length===0){this.displayAlert("Submit aborted","You must grant at least one person access to "+this.itemTitle+".");return false}return this.userHasKeptAccess(this.mainSubmissionItems.granted)},userHasKeptAccess:function(b){var a=b.split("+");for(var c=0;c<a.length;c++){if(this.dialogData.your_group_ids[a[c]]){return true}}return window.confirm("You have revoked access from yourself.\nIf you continue, you will not have access to this item.")},groupIdsFrom:function(e){var d=[];var a=e.length;for(var c=0;c<a;c++){var f=e[c].id;if(typeof f==="number"||f.match(/^\d+$/)){d.push(f)}else{var b=f.match(/_([^_]+)$/);if(b!==null){d.push(b[1])}}}return d},handleSubmit:function(){if(this.openPanels.length>0){for(var c in this.listItems){if(this.listItems.hasOwnProperty(c)){if(c!=="available"){var e;var d=this.element(c);if(d&&d.childNodes){e=d.childNodes}else{e=this.dialogData[c]}this.mainSubmissionItems[c]=this.groupIdsFrom(e).join("+")}}}for(var f in this.submitFields){if(this.submitFields.hasOwnProperty(f)){this.mainSubmissionItems[f]=this.elementValue(f).replace(/^\s+/,"").replace(/\s+$/,"");var b=this.submitFields[f];if(b&&this.mainSubmissionItems[f].length===0){this.displayAlert("Submit aborted",b);return false}}}if(this.checkValuesBeforeSubmit()){var g=[];for(var a in this.mainSubmissionItems){if(this.mainSubmissionItems.hasOwnProperty(a)){if(this.mainSubmissionItems[a]&&this.mainSubmissionItems[a].length>0){g.push(a+"="+this.mainSubmissionItems[a].replace(/\%/g,"%25").replace(/\&/g,"%26").replace(/\;/g,"%3B").replace(/\+/g,"%2B"))}}}if(this.elementValue("new_attachment_file")){CMECF.util.Connect.setForm(this.element("form"),true,CMECF.env.ua.ie);this.hadNewAttachment=true}else{this.hadNewAttachment=false}this.request({success:this.submitSuccess,failure:this.submitFailure,action:"save",postdata:g.join("&")});this.deleteAllPanels()}}},rowClass:function(a){return(a%2===0?"data-table-tr-odd":"data-table-tr-even")},formatHistory:function(d){var f="<table rules='all' class='data-table'><tr><th>User</th><th>Date</th><th>Change</th></tr>";var e=d;if(!e){e=[]}var b=e.length;for(var c=0;c<b;c++){var a=e[c];f+="<tr class='"+this.rowClass(c)+"'><td style='white-space:nowrap;padding:0 2px'>"+a.user+"</td><td style='white-space:nowrap;padding:0 2px'>"+a.date+"</td><td style='padding:0 2px'>"+a.text+"</td></tr>"}f+="</table>";if(e.length===0){f="<p>No history.</p>"}return f},panelIsOpen:function(b){var d=this.id(b);var a=this.openPanels.length;for(var c=0;c<a;c++){if(this.openPanels[c].id.match(d)){return this.openPanels[c]}}return false},focusOnInitialField:function(){if(this.initialField){this.initialField.focus()}},handleHistory:function(){if(!this.dialogData){return 0}var a=this.panelIsOpen("history");if(!a){a=new CMECF.widget.Panel(this.id("history"),{width:"60em",height:"20em",fixedcenter:true,close:true,visible:false,zIndex:17});a.setHeader("History of "+this.itemTitle);a.setBody(this.formatHistory(this.dialogData.history));a.body.style.height="18em";this.addCloseButton(a);a.render(document.body);CMECF.util.Event.addListener(a.close,"click",this.focusOnInitialField,this,true)}this.showPanel(a)},obsoleteChange:function(a){var c=(a.target||a.srcElement);var b=c.id.replace(/^\w*(attachment_\d+_obsolete)\w*$/,"$1");this.submitFields[b]="";this.element(b).value=(c.checked?"obsolete":"active")},toggleObsoletesButton:function(){var f=this.element("toggle_obsoletes_button");if(!f){window.console.log("Error: toggleObsoletesButton was called without the toggle_obsoletes_button element existing.");return 0}var h=this.element("attachment_table");if(!h){window.console.log("Error: toggleObsoletesButton was called without the attachment_table element existing.");return 0}var c;var d;if(f.value==="Show Obsolete"){f.value="Hide Obsolete";c="data-table-tr-hidden";d="data-table-tr-disabled"}else{f.value="Show Obsolete";c="data-table-tr-disabled";d="data-table-tr-hidden"}var g=h.firstChild;var b=g.childNodes.length;for(var a=0;a<b;a++){var e=g.childNodes[a];if(CMECF.util.Dom.hasClass(e,c)){CMECF.util.Dom.replaceClass(e,c,d)}}},addButton:function(b,e,f,g,d){d=d||true;var a=e.toLowerCase().replace(/[^\w]/g,"_");a=this.id(a+"_button");var c=document.createElement("input");c.type="button";c.name=c.id=this.buttonName;c.value=e;b.appendToFooter(c);if(f){CMECF.util.Event.on(c,"click",f,g,d)}return c},addCloseButton:function(a,b){b=b||"Close";return this.addButton(a,b,a.hide,a,true)},readyButton:function(a,c){var b=this.element(a);if(b){CMECF.util.Event.addListener(b,"click",c,this,true);b.disabled=false}},handleAttachments:function(){var d=this.panelIsOpen("attachments");if(!d){d=new CMECF.widget.Panel(this.id("attachments"),{width:"60em",height:"15em",fixedcenter:true,visible:false,zIndex:18});d.setHeader("Attachments to "+this.itemTitle);var e="<table rules='all' class='data-table' id='"+this.id("attachment_table")+"'><tr><th>Id</th><th>Description</th><th>Type</th><th>Added On</th><th>Added By</th><th>Size</th><th>Obsolete</th></tr>";var c=this.dialogData.attachments;if(!c){c=[]}var a=this.itemId.replace(/_\d\w*$/,"").replace(/task$/,"tasks");var h=c.length;var k=0;var n=false;for(var f=0;f<h;f++){var p=c[f];var l="attachment_"+p.att_attachmentid+"_obsolete_checkbox";var i="data-table-tr-hidden";var m=false;if(p.att_flags.match(/obsolete/)){m=true;n=true}else{i=this.rowClass(k++)}var o;if(p.att_bytes<=1000){o=p.att_bytes+" bytes"}else{if(p.att_bytes<=10000){o=Math.floor(p.att_bytes/10)/100+" KB"}else{if(p.att_bytes<=100000){o=Math.floor(p.att_bytes/100)/10+" KB"}else{if(p.att_bytes<=1000000){o=Math.floor(p.att_bytes/1000)+" KB"}else{if(p.att_bytes<=10000000){o=Math.floor(p.att_bytes/10000)/100+" MB"}else{if(p.att_bytes<=100000000){o=Math.floor(p.att_bytes/100000)/10+" MB"}else{if(p.att_bytes<=1000000000){o=Math.floor(p.att_bytes/1000000)+" MB"}else{if(p.att_bytes<=10000000000){o=Math.floor(p.att_bytes/10000000)/100+" GB"}else{if(p.att_bytes<=100000000000){o=Math.floor(p.att_bytes/1000000)/10+" GB"}else{o=Math.floor(p.att_bytes/1000000000)+" GB"}}}}}}}}}e+="<tr class='"+i+"'><td style='white-space:nowrap;padding:0 2px'><a target='_blank' href='/bin/attachment?id="+p.att_attachmentid+"&type="+a+"'>"+p.displayid+"</a></td><td style='padding:0 2px'>"+p.att_description+"</td><td style='white-space:nowrap;padding:0 2px'>"+p.att_mime_type+"</td><td style='white-space:nowrap;padding:0 2px'>"+p.att_created+"</td><td style='white-space:nowrap;padding:0 2px'>"+p.creator+"</td><td style='text-align:right;white-space:nowrap;padding:0 2px'>"+o+"</td><td style='text-align:center;padding:0 2px'><input type='checkbox' id='"+l+"' "+(m?" checked":"")+" /><input type='hidden' id='"+this.id("attachment_"+p.att_attachmentid+"_obsolete")+"' /></td></tr>";CMECF.util.Event.addListener(l,"change",this.obsoleteChange,this,true)}var g=this.id("new_attachment_description");var b=this.id("new_attachment_file");e+="<tr class='"+this.rowClass(k)+"'><td><b>New</b></td><td colspan='6'><input type='text' id='"+g+"' size='40' maxlength='255' />&nbsp;<b>File</b>&nbsp;<input type='file' name='new_attachment_file' id='"+b+"' size='40'/></td></tr></table><input type=\"button\" id=\""+this.id("attachments_done_button")+'" value="Close" /> ';if(n){e+="<input type='button' id='"+this.id("toggle_obsoletes_button")+"' value='Show Obsolete' />"}this.submitFields.new_attachment_description="";d.setBody(e);d.body.style.height="13em";d.render(this.element("form"));if(n){this.readyButton("toggle_obsoletes_button",this.toggleObsoletesButton)}CMECF.util.Event.addListener(g,"keydown",this.checkAttachmentKeypress,this,true);CMECF.util.Event.addListener(d.close,"click",this.focusOnInitialField,this,true);CMECF.util.Event.addListener(this.id("attachments_done_button"),"click",d.hide,d,true)}this.showPanel(d)},checkAttachmentKeypress:function(b){var c=(b?b.keyCode:0);if(c===13){CMECF.util.Event.stopEvent(b);var a=this.panelIsOpen("attachments");if(a){a.hide()}}return true},updateMessage:function(a){this.element("message").innerHTML=a},addOption:function(i){var c=this.id(i.id);var a=document.createElement("div");a.id=c;var h=CMECF.util.unencode(i.name);a.appendChild(document.createTextNode(h));var m=this.element(i.listType);if(i.initializing){m.appendChild(a)}else{var g=m.childNodes;var b=g.length-1;var d=0;while(true){if(d>b){m.appendChild(a);break}var l=g[d];if(l.id===c){break}if(l.innerHTML>h){m.insertBefore(a,l);break}d++}}CMECF.util.Dom.addClass(a,"fakeOption");if(this.clickMoves){a.addToList=(i.listType==="granted"?"available":"granted");CMECF.util.Event.addListener(a,"click",this.pickOption,this,true)}else{var k=new CMECF.DialogBoxes.DraggableItem(a,this.itemId)}CMECF.util.Event.addListener(a,"contextmenu",this.showInformation,this,true);if(i.initializing){return}for(var j in this.listItems){if(this.listItems.hasOwnProperty(j)){if(j!==i.listType){var n=this.element(j).childNodes;if(n){var o=n.length;for(var f=o-1;f>=0;f--){var e=n[f];if(e.id===c){e.parentNode.removeChild(e)}}}}}}if(this.accessChanged){this.accessChanged()}},pickedUser:function(b,c){var a=c.panel||this.openPanels[0];a.destroy();this.addOption(c);return false},parseJSON:function(d){var a=d.responseText;if(!a){a=""}try{var c=CMECF.lang.JSON.parse(a);return c}catch(b){if(a.match(/ECF\s*Login/)){if(d&&d.argument&&d.argument.redoRequest){CMECF.util.verifyLoginThenRun(d.argument.redoRequest);return false}return this.showFatalMessage("Your previous session expired. Please refresh this page.")}if(a.match(/yuimenubar/)){return this.showFatalMessage("There was a problem submitting this request.")}return this.showFatalMessage(a||b)}},buildUsersTable:function(g,b){var d,e,c=[];if(!this.userTableNumber){this.userTableNumber=0}this.userTableNumber++;c.push('<table class="data-table"><tr><th width="1%">&nbsp;</th><th>Name</th>');if(g[0].type){c.push("<th>Type</th>")}c.push("<th>Address</th></tr>");for(d=0;d<g.length;d++){var a=g[d];var f=this.id("pick_"+this.userTableNumber+"_"+d);e=(a.type?"</td><td>"+a.type:"");c.push('<tr class="'+this.rowClass(d)+'"><td><input type="button" id="'+f+'" value="Select"></input></td><td>'+a.name+e+"</td><td>"+a.address+"</td></tr>");a.panel=b;a.index=d;a.listType=this.listToWhichNewUserGetsAdded;CMECF.util.Event.on(f,"click",this.pickedUser,a,this)}c.push("</table>");return c.join("")},addNameSuccess:function(d){var e=this.parseJSON(d);if(!e){return}var c=d.argument.replace(/\+/g," ").replace(/\^/g,"'");var b=e.length;if(b===0){this.updateMessage('No users found named "'+c+'"');return false}if(b===1&&typeof e[0]==="string"){this.updateMessage(e[0]);return false}var a=new CMECF.widget.Panel(this.id("possibleNames"+this.openPanels.length),{width:"45em",height:"25em",fixedcenter:true,close:true,visible:false,zIndex:12});a.setHeader("Looking for user "+c);a.setBody(this.buildUsersTable(e,a));a.body.style.height="23em";a.render(document.body);this.showPanel(a);this.element("add_name").value="";this.updateMessage(this.userSearchInstruction)},addNameFailure:function(a){this.updateMessage('Failed to look up "'+a.argument+'"');this.element("add_name").value=""},fixName:function(a){return a.replace(/^ +| +$/g,"").replace(/ +/g,"+").replace(/[\'\"]/g,"^").replace(/\&/g,"%26")},lookupName:function(a){this.updateMessage("Looking up "+a);var b=this.fixName(a);this.request({action:"get_name",item:b,success:this.addNameSuccess,failure:this.addNameFailure,argument:b})},checkAddNameKeypress:function(a){if(a&&a.altKey){return true}var b=(a?a.keyCode:0);var d=this.element("add_name").value;d=d.replace(/^[\t\n ]+/,"");if(this.element("add_name").value!==d){this.element("add_name").value=d}var c=d.match(/[a-zA-Z0-9]/);if(b===13&&c){CMECF.util.Event.stopEvent(a);this.lookupName(d);return true}if(c){this.updateMessage(this.userSubmitInstruction)}else{this.updateMessage(this.userSearchInstruction)}return true},doNotLetEnterSubmit:function(a){var b=(a?a.keyCode:0);if(b===13){CMECF.util.Event.stopEvent(a)}return true},pickOption:function(a){var e=(a.target||a.srcElement);var g=e.addToList;var f=e.id;var c=f.split("_");var d=c[c.length-1];if(this.immobleNames[d]){this.displayAlert("Note",this.immobleNames[d]);return false}var b=e.innerHTML.replace(/&amp;/g,"&");this.addOption({listType:g,id:d,name:b})},initializeList:function(d,b){if(!this.element(d)){return false}this.element(d).innerHTML="";if(b){var a=b.length;for(var c=0;c<a;c++){var e=b[c];e.listType=d;e.initializing=true;this.addOption(e)}}if(!this.clickMove){var f=new CMECF.util.DDTarget(this.id(d),this.itemId)}},initializeSuccess:function(b){this.dialogData=this.parseJSON(b);if(!this.dialogData){return}if(typeof this.dialogData==="string"){this.showFatalMessage(this.dialogData);return false}if(this.dialogData.length===1&&this.dialogData[0].match(/^Error/)){this.showFatalMessage(this.dialogData[0]);return false}if(this.setupAfterInitializationInformationIsReceived){this.setupAfterInitializationInformationIsReceived()}for(var a in this.listItems){if(this.listItems.hasOwnProperty(a)){this.initializeList(a,this.dialogData[a])}}this.readyButton("save_button",this.handleSubmit);this.readyButton("access_button",this.showAccessPanel);this.readyButton("history_button",this.handleHistory);this.readyButton("attachments_button",this.handleAttachments);if(this.iconElement&&navigator.appVersion.indexOf("MSIE")!==-1){this.addNewIconListener()}},initializeFailure:function(a){this.showFatalMessage("Could not look up information for "+this.itemTitle)},informationSuccess:function(b){var e=b.argument;var d=this.parseJSON(b);if(!d){return}var h=[];h.push("<table rules='all' class='data-table'><tr><th>Name</th><th>Type</th><th>Address</th></tr>");var g=d.length;for(var c=0;c<g;c++){var i=d[c];var f=i.name;var a="";if(f.length>32){a=" title='"+f+"'";f=f.substring(0,30)+"..."}h.push("<tr class='"+this.rowClass(c)+"'><td"+a+">"+f+"</td><td>"+i.type+"</td><td>"+i.address+"</td></tr>")}h.push("</table>");if(g<25){e.innerElement.style.height=(g+10)+"em"}e.setBody(h.join(""));e.center()},informationFailure:function(b){var a=b.argument;if(a){a.setBody("<h3>Failed to look up "+a.givenText+"</h3>")}},showInformation:function(c){CMECF.util.Event.stopEvent(c);var a=(c.target||c.srcElement);var d=a.id.match(/_([^_]+)$/);var e=d[1];var f=a.innerHTML;var b=new CMECF.widget.Panel(this.id("itemInformation_"+this.openPanels.length),{width:"50em",height:"29em",fixedcenter:true,close:true,visible:false,zIndex:14});b.setHeader("Looking up "+f);b.setBody("<h3>Looking up "+f+"</h3>");b.body.style.height="27em";this.addCloseButton(b);b.render(document.body);b.givenText=f;b.givenValue=e;this.request({action:"get_group",item:e.replace(/\&/g,"%26"),success:this.informationSuccess,failure:this.informationFailure,argument:b});this.showPanel(b);return false},mainDialogBody:function(){return"Dialog boxes incorrectly setup."},mainDialogFooter:function(){return""},defaultGroupSuccess:function(){this.displayAlert("Default Saved","Access to all future "+this.preferredGroupType+" in all cases will default to this list of users.")},defaultGroupFailure:function(a){this.displayAlert("Error","Could not set default "+this.preferredGroupType+" access. "+a)},setDefaultAccess:function(){if(!this.preferredGroupType){window.console.log("Error: Preferred group type not yet set.");return false}var d=this.element("granted");if(!d){window.console.log("Error: Granted element not found.");return false}if(!d.childNodes){window.console.log("Error: Granted element has no children.");return false}var a=this.groupIdsFrom(d.childNodes);var c=false;for(var b=0;b<a.length;b++){if(this.dialogData.your_group_ids[a[b]]){c=true;break}}if(!c){this.displayAlert("Submit aborted","You must grant yourself access to your future "+this.preferredGroupType+".");return false}this.request({action:"set_preferred_group",postdata:"preferred="+a.join("+"),success:this.defaultGroupSuccess,failure:this.defaultGroupFailure})},includeDefaultAccessButton:function(a){this.preferredGroupType=a;this.accessPanelInstruction+=' <input type="button" id="'+this.id("set_default_access_button")+'" value="Set Default Access" />'},closeButtonHtml:function(){return'<input type="button" id="'+this.id("accessClose")+'" value="Close">'},accessPanelBody:function(){var a='style="width:23em;height:19em" class="fakeSelect"';return(this.accessPanelInstruction+'<table border="0" cellspacing="0" cellpadding="0" style="margin-top:0.5em" id="'+this.id("groups_table")+'"><tr><td>Available to grant access<div '+a+' id="'+this.id("available")+'">Looking up users and groups...</div></td><td>&nbsp;</td><td>Granted access<div '+a+' id="'+this.id("granted")+'">Looking up users and groups...</div></td></tr><tr><td colspan="3"><input type="text" size=30 maxlength=50 id="'+this.id("add_name")+'"><span style="margin-left:5px" class="smallertext" id="'+this.id("message")+'">'+this.userSearchInstruction+'</span><span style="float:right">'+this.closeButtonHtml()+"</span></td></tr></table>")},showAccessPanel:function(b){if(b){CMECF.util.Event.stopEvent(b)}var a=this.panelIsOpen("access_panel");if(!a){a=new CMECF.widget.Panel(this.id("access_panel"),{fixedcenter:true,visible:false,zIndex:8});a.setHeader("Access to "+this.itemTitle);a.setBody(this.accessPanelBody());a.render(document.body);for(var c in this.listItems){if(this.listItems.hasOwnProperty(c)){this.initializeList(c,this.dialogData[c])}}CMECF.util.Event.addListener(this.element("add_name"),"keydown",this.doNotLetEnterSubmit,this,true);CMECF.util.Event.addListener(this.element("add_name"),"keyup",this.checkAddNameKeypress,this,true);CMECF.util.Event.addListener(a.close,"click",this.focusOnInitialField,this,true);CMECF.util.Event.addListener(this.id("accessClose"),"click",a.hide,a,true);var d=this.element("set_default_access_button");if(d){CMECF.util.Event.addListener(d,"click",this.setDefaultAccess,this,true)}}this.showPanel(a)},fixIconListener:function(){this.iconElement=this.iconElement||document.getElementById(this.itemId);if(navigator.appVersion.indexOf("MSIE")===-1){this.addNewIconListener()}},addNewIconListener:function(){if(!this.iconElementListener){this.iconElement.removeAttribute("onClick");this.iconElement.onclick="";this.iconFunction=this.iconFunction||this.displayDialog;CMECF.util.Event.addListener(this.iconElement,"click",this.iconFunction,this,true);this.iconElementListener=true}},displayDialog:function(){this.deleteAllPanels();this.resetProperties();if(!this.element("form")){var b=document.createElement("form");b.id=this.id("form");b.style.margin=0;document.body.appendChild(b)}var a=new CMECF.widget.Panel(this.id("dialog"),{fixedcenter:true,visible:false,zIndex:6});a.setHeader(this.itemTitle.charAt(0).toUpperCase()+this.itemTitle.substring(1));a.setBody(this.mainDialogBody());a.setFooter(this.mainDialogFooter());a.render(this.element("form"));this.readyButton("cancel_button",this.deleteAllPanels);CMECF.util.Event.removeListener(a.close,"click");CMECF.util.Event.addListener(a.close,"click",this.deleteAllPanels,this,true);if(this.getDataOnInitialization){this.request({action:"get_information",success:this.initializeSuccess,failure:this.initializeFailure})}this.showPanel(a);this.focusOnInitialField()},bringToFront:function(b,a){a.bringToTop()}};CMECF.DialogBoxes.DraggableItem=function(c,a,b){CMECF.DialogBoxes.DraggableItem.superclass.constructor.call(this,c,a,b);CMECF.util.Dom.setStyle(this.getDragEl(),"opacity",0.67)};CMECF.lang.extend(CMECF.DialogBoxes.DraggableItem,CMECF.util.DDProxy,{startDrag:function(b,d){var a=this.getDragEl();var c=this.getEl();CMECF.util.Dom.setStyle(c,"display","none");a.innerHTML=c.innerHTML;CMECF.util.Dom.setStyle(a,"color",CMECF.util.Dom.getStyle(c,"color"));CMECF.util.Dom.setStyle(a,"backgroundColor",CMECF.util.Dom.getStyle(c,"backgroundColor"));CMECF.util.Dom.setStyle(a,"border","2px solid gray")},onDragDrop:function(f,b){if(!b){return false}var a;if(typeof b==="string"){a=CMECF.util.DDM.getDDById(b)}else{a=CMECF.util.DDM.getBestMatch(b)}if(!a){window.console.log("Error: target not found for "+b);return false}var c=this.getEl();var d=a.getEl();d.appendChild(c);CMECF.util.Dom.setStyle(c,"display","block")},endDrag:function(a){},onDragOver:function(a,b){},onDrag:function(a){}});
// lib/data/specifications.js v5.8
CMECF.lang.extend=YAHOO.lang.extend;CMECF.DialogBoxes.specifications=function(a){this.specification=a;this.specification.typeTitleCase=this.specification.type.charAt(0).toUpperCase()+this.specification.type.slice(1);CMECF.DialogBoxes.specifications.superclass.constructor.call(this,"spec_"+this.specification.id,this.specification.name+" Control Panel");this.initialize()};CMECF.lang.extend(CMECF.DialogBoxes.specifications,CMECF.DialogBoxes.item,{lookupUrl:"/bin/dialog/specification",clickMoves:false,listToWhichNewUserGetsAdded:"useonly",listItems:{available:true,useonly:true,mayedit:true},initialize:function(){var a=document.getElementById("options_button");if(!a){return 0}CMECF.util.Event.addListener(a,"click",this.displayDialog,this,true)},initializeFailure:function(){},checkValuesBeforeSubmit:function(){if(this.mainSubmissionItems.mayedit.length===0){this.displayAlert("Submit aborted","You must grant at least one person edit access to "+this.itemTitle+".");return false}return this.userHasKeptAccess(this.mainSubmissionItems.mayedit)},mainDialogBody:function(){var e=document.getElementById("may_edit_spec");var d=(e&&e.value);this.getDataOnInitialization=!!d;var c=this;function b(i,h,g){var f;if(h.match(/\//)){f=h+"?item="+c.itemId}else{f="/bin/dialog/specification?do="+h+"&item="+c.itemId}return'<p><input type="button" onClick="location.assign(\''+f+'\')" value="'+i+'"/>'+g+"</p>"}var a="<p>You may "+(d?"edit and ":"")+"run this "+this.specification.type+".  Pick an option:</p>";if(d){a+='<p><button disabled="disabled" id="'+this.id("access_button")+'">Edit Access</button> to change who may run or edit this '+this.specification.type+".</p>"+b("Edit "+this.specification.typeTitleCase,"/bin/edit"," to change the filters, defaults, and results.")}a+=b("Copy "+this.specification.typeTitleCase,"copy"," to make a new "+this.specification.type+" that only you may edit.")+b("Download "+this.specification.typeTitleCase,"download"," to save an XML file with the specification for this "+this.specification.type+".")+b("Upload "+this.specification.typeTitleCase,"upload"," to use an XML file to create a new "+this.specification.type+".");if(d){a+=b("Delete "+this.specification.typeTitleCase,"delete"," to remove the <b>"+this.specification.name+"</b> "+this.specification.type+" entirely.")}return a},accessPanelBody:function(){var a='style="width:15em;height:19em" class="fakeSelect"';CMECF.util.Event.addListener(this.id("save_button"),"click",this.handleSubmit,this,true);CMECF.util.Event.addListener(this.id("cancel_button"),"click",this.deleteAllPanels,this,true);return('Click and drag to move a user or group.  Right click on a user or group for details.<table border="0" cellspacing="0" cellpadding="0" id="'+this.id("groups_table")+'"><tr><td>Available to grant access<div '+a+' id="'+this.id("available")+'">Looking up users and groups...</div></td><td>&nbsp;</td><td>May use report<div '+a+' id="'+this.id("useonly")+'">Looking up users and groups...</div></td><td>&nbsp;</td><td>May use and edit report<div '+a+' id="'+this.id("mayedit")+'">Looking up users and groups...</div></td></tr><tr style="padding-top:1em"><td colspan="4"><input type="text" size=30 maxlength=50 id="'+this.id("add_name")+'"><span style="margin-left:5px" class="smallertext" id="'+this.id("message")+'">Enter a name to search for a user.</span></td><td align="right" style="padding-top:0.2em"><input type="button" id="'+this.id("save_button")+'" value="Save" /> <input type="button" id="'+this.id("cancel_button")+'" value="Cancel" /></td></tr></table>')}});
// lib/data/tasks.js v5.13
CMECF.DialogBoxes.tasks=function(b,c,a){CMECF.DialogBoxes.tasks.superclass.constructor.call(this,b,c);this.initialize(a)};CMECF.lang.extend(CMECF.DialogBoxes.tasks,CMECF.DialogBoxes.item,{lookupUrl:"/bin/dialog/task",submitFields:{description:"The task must have some description.",due:"The task must have some due date.",priority:"The task must have a priority.",designee:"The task must have a designee.",status:"The task must have a status."},allowedStatuses:["assigned","waiting","completed"],allowedPriorities:["high","normal","low"],knownUsers:{},caseId:0,initialize:function(c){this.includeDefaultAccessButton("tasks");var b=this.itemId.match(/^task_newcaseid(\d+)$/);if(b!==null){this.caseId=b[1]}else{var a=document.getElementById(this.itemId);if(a){}}this.fixIconListener();if(c){this.addNewIconListener()}else{this.displayDialog()}},onSuccessfulSubmit:function(q){var p=this.caseId;var d=0;if(p){var j=q.match(/Success(\d+),(\d+)/);if(j!==null){p=j[1];d=j[2]}else{p=false}}if(p){var f=document.getElementById(this.itemId);if(!f){window.console.log("Error: could not find element that should have fired this event.");return 0}f.removeAttribute("onclick");f.onclick="";CMECF.util.Event.removeListener(f,"click",this.displayDialog);var o=f.parentNode.parentNode;var m=o.cloneNode(true);var e=f.id;f.id="task_"+p;f.title="edit task "+d;var a=this.element("number");if(a){a.innerHTML=p;a.id="task_"+p+"_number"}var c=this.element("displayid");if(c){c.innerHTML=d;c.id="task_"+p+"_displayid"}o.parentNode.appendChild(m);if(CMECF.util.Dom.removeClass(o,"data-table-tr-last")){if(CMECF.util.Dom.hasClass(o,"data-table-tr-odd")){CMECF.util.Dom.replaceClass(m,"data-table-tr-odd","data-table-tr-even")}else{CMECF.util.Dom.replaceClass(m,"data-table-tr-even","data-table-tr-odd")}}var b;b=new CMECF.DialogBoxes.tasks("task_"+p,"Task "+d,"no dialog yet");b=new CMECF.DialogBoxes.tasks(e,"Task "+d,"no dialog yet")}var l=this.element("reported_designee");if(l){var n=this.mainSubmissionItems.designee;if(n){var h=this.knownUsers[n];if(h){l.innerHTML=h;if(p){l.id="task_"+p+"_reported_desginee"}}}}var i=this.element("reported_due");if(i){i.innerHTML=this.mainSubmissionItems.due;if(p){i.id="task_"+p+"_reported_due"}}var k=this.element("reported_status");if(k){k.innerHTML=this.mainSubmissionItems.status;if(p){k.id="task_"+p+"_reported_status"}}var g=this.element("reported_priority");if(g){g.innerHTML=this.mainSubmissionItems.priority;if(p){g.id="task_"+p+"_reported_priority"}}var r=this.element("reported_description");if(r){r.innerHTML=this.mainSubmissionItems.description.replace(/\n/g,"<br/>");if(p){r.id="task_"+p+"_reported_description"}}},fixDesignees:function(f,e){if(f.length){var a=this.element("designee");while(a.firstChild){a.removeChild(a.firstChild)}for(var b=0;b<f.length;b++){var c=f[b];if(c.name){var d=document.createElement("option");d.value=c.prid;if(c.prid===e){d.selected=true}d.appendChild(document.createTextNode(c.name.replace(/&quot;/g,'"').replace(/&#039;/g,"'")));a.appendChild(d);this.knownUsers[c.prid]=c.name}}}},gotGroupMembersSuccess:function(b){var a=this.parseJSON(b);if(!a){return}this.fixDesignees(a,this.elementValue("designee"))},setupAfterInitializationInformationIsReceived:function(){var a=this.dialogData.current;this.element("description").value=a.ta_text;this.element("due").value=a.ta_due_date;this.fixDesignees(a.designees,a.designee);var c=this.element("status_"+a.ta_status);if(c){c.selected="selected"}var b=this.element("priority_"+a.ta_priority);if(b){b.selected="selected"}this.calendarButton=CMECF.CalendarButton.item(this.id("due"),null,this.itemTitle.charAt(0).toUpperCase()+this.itemTitle.substring(1)+" due date");this.initialField=this.element("description");this.focusOnInitialField()},accessChanged:function(){var a=this.groupIdsFrom(this.element("granted").childNodes).join(",");if(a){this.request({action:"get_group",item:a,success:this.gotGroupMembersSuccess})}},checkValuesBeforeSubmit:function(){if(!this.calendarButton.validateFunction()){var a=this.calendarButton.invalidFunction();window.alert(a);return false}if(this.mainSubmissionItems.granted.length===0){this.displayAlert("Submit aborted","You must grant at least one person access to this task.");return false}return this.userHasKeptAccess(this.mainSubmissionItems.granted)},mainDialogBody:function(){var f="";for(var e=0;e<this.allowedStatuses.length;e++){var a=this.allowedStatuses[e];f+='<option id="'+this.id("status_"+a)+'" value="'+a+'">'+a+"</option>"}var b="";for(var c=0;c<this.allowedPriorities.length;c++){var d=this.allowedPriorities[c];b+='<option id="'+this.id("priority_"+d)+'" value="'+d+'">'+d+"</option>"}return('<table><tr><td>Due <input type="text" id="'+this.id("due")+'" class="dateTextField" size="10" maxlength="10" required="1" /><input id="'+this.id("due")+'_button" class="calendarButton" tabindex="10000" /><span class="calendarWrapper"><span id="'+this.id("due")+'_calendar_container"></span></span>&nbsp;Status <select id="'+this.id("status")+'">'+f+'</select>&nbsp;Priority <select id="'+this.id("priority")+'">'+b+'</select>&nbsp;Designee <select id="'+this.id("designee")+'"><option id="'+this.id("designee_option_to_delete")+'">Loading possible designees.</option></select>&nbsp;</td></tr><tr><td><textarea rows="10" cols="98" id="'+this.id("description")+'">Initializing task....</textarea></td></tr><tr><td align="right"><input type="button" disabled="disabled" id="'+this.id("save_button")+'" value="Save" /> <input type="button" disabled="disabled" id="'+this.id("cancel_button")+'" value="Cancel" /> '+(this.itemTitle.match(/new/)?"":'<input type="button" disabled="disabled" id="'+this.id("history_button")+'" value="History" /> ')+'<input type="button" disabled="disabled" id="'+this.id("attachments_button")+'" value="Attachments" /> <input type="button" disabled="disabled" id="'+this.id("access_button")+'" value="Access" /></td></tr></table>')}});
// lib/data/notes.js v5.15
CMECF.DialogBoxes.notes=function(b,a){CMECF.DialogBoxes.notes.superclass.constructor.call(this,b,a);this.initialize()};CMECF.lang.extend(CMECF.DialogBoxes.notes,CMECF.DialogBoxes.item,{submitFields:{text:"There must be some text in the note.",mail_changes:"",spread_access:""},initialize:function(){this.lookupUrl="/bin/dialog/"+this.itemId.replace(/^([^_]+)_.*/,"$1")+"notes";this.includeDefaultAccessButton("notes");if(this.itemId.match(/case/)){this.accessPanelInstruction+='<br /><input type="checkbox" id="'+this.id("spread_access")+'" /> Apply this access to all the entry notes in this case.'}this.fixIconListener();this.displayDialog()},setNoteOwner:function(c){var a=this.parseJSON(c);if(!a||!a.name){return}var b=this.element("owner_span");b.innerHTML=b.innerHTML.replace(/add.*(entry|case).*note/,a.name)},onSuccessfulSubmit:function(){var a=((this.dialogData.attachments||this.hadNewAttachment)?"/graphics/notes-with-attachment.gif":"/graphics/notes-with-text.gif");if(!this.iconElement.src.match(a)){this.iconElement.src=a}var b=this.element("span");if(b&&this.mainSubmissionItems.text){b.innerHTML=this.mainSubmissionItems.text.replace(/\n/g,"<br/>")}var c=this.element("owner_span");if(c||c.innerHTML.match(/add.*(entry|case).*note/)){this.request({action:"get_user",success:this.setNoteOwner})}},setupAfterInitializationInformationIsReceived:function(){var c=this.dialogData.current;if(this.dialogData.history){var d=this.dialogData.history[this.dialogData.history.length-1]}var b=this.element("lastedit");if(b){b.innerHTML=(d?(c?"Last changed by "+d.user+" at "+d.date:"New note."):"")}var a=this.element("text");if(a){a.value=(c?c.text:"");this.initialField=a}if(!c||!d){var e=this.element("history_button");if(e){e.style.display="none"}}},mainDialogBody:function(){return('<table><tr><td colspan="3"><textarea rows="19" cols="130" id="'+this.id("text")+'">Initializing notes....</textarea></td></tr><tr><td id="'+this.id("lastedit")+'" class="smallertext">Initializing notes...</td><td align="right"><input type="checkbox" id="'+this.id("mail_changes")+'" checked><label for="'+this.id("mail_changes")+'" class="smallertext">Email changes</label> <input type="button" disabled="disabled" id="'+this.id("save_button")+'" value="Save" /> <input type="button" disabled="disabled" id="'+this.id("cancel_button")+'" value="Cancel" /> <input type="button" disabled="disabled" id="'+this.id("history_button")+'" value="History" /> <input type="button" disabled="disabled" id="'+this.id("attachments_button")+'" value="Attachments" /> <input type="button" disabled="disabled" id="'+this.id("access_button")+'" value="Access" /></td></tr></table>')}});
// lib/data/padlock.js v5.18
CMECF.DialogBoxes.padlock=function(b,a){CMECF.DialogBoxes.padlock.superclass.constructor.call(this,b,a);this.initialize()};CMECF.lang.extend(CMECF.DialogBoxes.padlock,CMECF.DialogBoxes.item,{restrictionTypesFor:{"case":["unrestricted","sealed"],entry:["unrestricted","sealed","private","ex parte","restricted"],document:["unrestricted","sealed","ex parte","a transcript","restricted"],claimdocument:["unrestricted","restricted"]},submitFields:{restriction:"A restriction level must be selected"},lastKnownRestrictionValue:"unknown",previousRestrictionValue:"unknown",initialize:function(){this.dataType=this.itemId.replace(/^padlock_([a-z]+)_.*$/,"$1");this.restrictionTypes=this.restrictionTypesFor[this.dataType];if(this.itemId.match(/_claim$/)){this.restrictionTypes=this.restrictionTypesFor.claimdocument}this.lookupUrl="/bin/dialog/"+this.dataType+"restrictions";this.fixIconListener();this.displayDialog()},fixAccessTableVisibility:function(){var a=this.element("access_area");if(a){a.style.visibility=(this.isRestricted()?"visible":"hidden")}},currentRestriction:function(){return this.elementValue("restriction").replace(/ /g,"_")},setDefaultAccess:function(){this.previousRestrictionValue=this.lastKnownRestrictionValue;this.fixAccessTableVisibility();var d=this.currentRestriction();if(d===this.previousRestrictionValue){return}if(!this.isRestricted()){return}var a=this.dialogData.current["default_"+d+"_groups"];var i={};var c=a.length;for(var f=0;f<c;f++){i[a[f].id]=true}var g=[];var h=this.initialAvailableGroups.length;for(var e=0;e<h;e++){if(!i[this.initialAvailableGroups[e].id]){g.push(this.initialAvailableGroups[e])}}this.dialogData.granted=a;this.dialogData.available=g.sort(function(k,j){if(k.name===j.name){return 0}return k.name<j.name?-1:1});for(var b in this.listItems){if(this.listItems.hasOwnProperty(b)){this.initializeList(b,this.dialogData[b])}}this.fixImmobleGroups()},fixImmobleGroups:function(){if(this.currentRestriction()==="transcript"){this.immobleNames[8]="Cannot revoke transcript access from court users.";this.immobleNames[9]="Cannot revoke transcript access from public terminals."}else{this.immobleNames={}}},lastKnownRestriction:function(){var a=this.currentRestriction();if(a){this.lastKnownRestrictionValue=a}return this.lastKnownRestrictionValue},isRestricted:function(){return(this.lastKnownRestriction()!=="unrestricted")},checkValuesBeforeSubmit:function(){if(this.isRestricted()&&this.mainSubmissionItems.granted.length===0){this.displayAlert("Submit aborted","You must grant at least one person access to "+this.itemTitle+".");return false}if(!this.userHasKeptAccess(this.mainSubmissionItems.granted)){return false}this.mainPageSubmitButton=document.forms[0].button1;if(this.mainPageSubmitButton){this.mainPageSubmitButton.disabled=true}return true},onSuccessfulSubmit:function(){this.fixIcon();var a=this.element("span");if(a){a.innerHTML=this.lastKnownRestriction()}if(this.mainPageSubmitButton){this.mainPageSubmitButton.disabled=false}},fixIcon:function(){if(this.isRestricted()){if(this.iconElement.src.match(/padlock-unlocked/)){this.iconElement.src="/graphics/padlock-locked.gif"}}else{if(this.iconElement.src.match(/padlock-locked/)){this.iconElement.src="/graphics/padlock-unlocked.gif"}}},setupAfterInitializationInformationIsReceived:function(){this.initialAvailableGroups=this.dialogData.available.concat(this.dialogData.granted);var b=this.dialogData.current.restriction.replace(/ /,"_");var g=this.element("restriction");if(g){g.removeChild(g.firstChild);var a=this.restrictionTypes.length;for(var d=0;d<a;d++){var f=this.restrictionTypes[d];var c=f.replace(/ /,"_").replace(/^a_/,"");var e=document.createElement("option");e.value=c;e.appendChild(document.createTextNode(f));if(c===b){e.selected=true}g.appendChild(e)}}CMECF.util.Event.addListener(this.id("restriction"),"change",this.setDefaultAccess,this,true);CMECF.util.Event.addListener(this.id("restriction"),"keyup",this.setDefaultAccess,this,true);CMECF.util.Event.addListener(this.element("add_name"),"keydown",this.doNotLetEnterSubmit,this,true);CMECF.util.Event.addListener(this.element("add_name"),"keyup",this.checkAddNameKeypress,this,true);this.fixAccessTableVisibility();this.fixIcon();this.fixImmobleGroups()},mainDialogBody:function(){return("<p>This "+this.dataType+' is <select id="'+this.id("restriction")+'"><option>Looking up...</option></select></p><div id="'+this.id("access_area")+'">'+this.accessPanelBody().replace(this.closeButtonHtml(),"")+'</div><div style="margin-top:-1.4em;padding-left:34em"><input type="button" disabled="disabled" id="'+this.id("save_button")+'" value="Save" /> <input type="button" disabled="disabled" id="'+this.id("cancel_button")+'" value="Cancel" /> <input type="button" disabled="disabled" id="'+this.id("history_button")+'" value="History" /></div>')}});
// lib/data/quality_control.js v5.6
CMECF.namespace("QualityControl");CMECF.lang.extend=YAHOO.lang.extend;CMECF.QualityControl.markChecked=function(a){CMECF.QualityControl.markChecked.superclass.constructor.call(this,a);this.initialize()};CMECF.lang.extend(CMECF.QualityControl.markChecked,CMECF.DialogBoxes.item,{iconElement:false,markCheckedOnce:false,lookupUrl:"/bin/dialog/qualitycontrol",markCheckedSuccess:function(c){var a;if(c&&c.responseText){a=c.responseText}else{a=""}if(a.match(/CM\/ECF Login/)){if(c&&c.argument&&c.argument.redoRequest){CMECF.util.verifyLoginThenRun(c.argument.redoRequest);return false}this.iconElement.src="/graphics/qc_needed.gif";return this.showFatalMessage("Your previous session has expired.  Please refresh this screen.")}if(!a.match(/^\d+\/\d+\/\d+$/)){this.iconElement.src="/graphics/qc_needed.gif";return this.showFatalMessage("Failed to mark this entry as checked.  Please refresh this screen.")}var b=document.getElementById(this.itemId.replace(/mark_checked/,"qc_date"));if(b){b.innerHTML=a}},markCheckedFailure:function(){this.displayAlert("Mark failed","Failed to mark this docket entry as checked.")},markChecked:function(){if(!this.markCheckedOnce){this.markCheckedOnce=true;if(this.iconElement.src.match(/qc_needed/)){this.iconElement.src="/graphics/qc_done.gif"}this.request({action:"mark_checked",success:this.markCheckedSuccess,failure:this.markCheckedFailure,postdata:"checked=true"})}},initialize:function(){this.iconElement=document.getElementById(this.itemId);if(this.iconElement){this.iconElement.removeAttribute("onClick")}this.markChecked()}});CMECF.QualityControl.changeStatus=function(a){this.constructor.superclass.constructor.call(this,a);this.initialize()};CMECF.lang.extend(CMECF.QualityControl.changeStatus,CMECF.DialogBoxes.item,{iconElement:false,lookupUrl:"/bin/dialog/qualitycontrol",changeStatusSuccess:function(e){var a;if(e&&e.responseText){a=e.responseText}else{a=""}if(a.match(/CM\/ECF Login/)){if(e&&e.argument&&e.argument.redoRequest){CMECF.util.verifyLoginThenRun(e.argument.redoRequest);return false}return this.showFatalMessage("Your previous session has expired.  Please refresh this screen.")}if(a.match(/Success/)){return}if(a.match(/^\d+\/\d+\/\d+$/)){var c=this.itemId.replace(/qc_status/,"");var b=document.getElementById(c+"mark_checked");if(b){b.src="/graphics/qc_done.gif"}var d=document.getElementById(c+"qc_date");if(d){d.innerHTML=a}return}return this.showFatalMessage("Failed to change the status of this entry.  Please refresh this screen.")},changeStatusFailure:function(){this.displayAlert("Change status failed","Failed to change this docket entry's QC status.")},changeStatus:function(){this.request({action:"change_status",success:this.changeStatusSuccess,failure:this.changeStatusFailure,postdata:"status="+this.itemElement.value})},initialize:function(){this.itemElement=document.getElementById(this.itemId);this.changeStatus()}});CMECF.QualityControl.getEntryLog=function(b,a){this.constructor.superclass.constructor.call(this,b,a);this.initialize()};CMECF.lang.extend(CMECF.QualityControl.getEntryLog,CMECF.DialogBoxes.item,{lookupUrl:"/bin/dialog/qualitycontrol",historyFailure:function(){this.displayAlert("Error","Could not get the history of this docket entry.")},formatHistory:function(h){var f=this.openPanels[0];if(!f){return}var e=this.parseJSON(h);if(!e){return}var g="<table rules='all' class='data-table'><tr><th>User</th><th>Date</th><th>Type</th><th>Change</th></tr>";var b=e.length;for(var d=0;d<b;d++){var a=e[d];var c="data-table-tr-even";if(d%2===1){c="data-table-tr-odd"}if(d+1===b){c+=" data-table-tr-last"}g+="<tr class='"+c+"'><td style='white-space:nowrap;padding:0 2px'>"+a.user+"</td><td style='white-space:nowrap;padding:0 2px'>"+a.date+"</td><td style='padding:0 2px'>"+a.type+"</td><td style='padding:0 2px'>"+a.text+"</td></tr>"}g+="</table>";if(e.length===0){g="<p>No changes have been recorded for this docket entry.</p>"}f.setBody(g);f.body.style.height="28em"},displayHistory:function(){this.deleteAllPanels();this.resetProperties();var a=new CMECF.widget.Panel(this.itemId+"_history_panel",{width:"50em",height:"30em",fixedcenter:true,close:true,visible:false,zIndex:18});a.setHeader("History of entry "+this.itemTitle);a.setBody("Loading....");this.request({action:"get_history",success:this.formatHistory,failure:this.historyFailure});a.render(document.body);CMECF.util.Event.removeListener(a.close,"click");CMECF.util.Event.addListener(a.close,"click",this.deleteAllPanels,this,true);this.showPanel(a)},initialize:function(){this.displayHistory()}});
// lib/ajax.js v6.9
CMECF.namespace("ajax");CMECF.namespace("lang");CMECF.util.Connect.asyncRequest=YAHOO.util.Connect.asyncRequest;CMECF.lang=YAHOO.lang;CMECF.ajax.item=function(b,a){this.initialize(b,a)};CMECF.ajax.item.prototype={lookupUrl:"/bin/not_correctly_set",lookupAction:"not_correctly_set",method:"GET",genericError:"There was a problem completing your request. Please go back and try again.",outputType:"JSON",onSuccess:function(b,a,c){a=this.addOutputToMessage(a,c);if(a){this.showMessage(a)}},onFailure:function(a,b){a=this.addOutputToMessage(a,b);if(a){this.showMessage(a)}},onInitialize:function(){},onClick:function(){this.request()},showMessage:function(a){window.alert(a)},itemId:null,args:{},requestData:null,SUCCESS:true,ERROR:false,NOT_LOGGED_IN_MESSAGE:"Your session has expired. Please go back or refresh the page and try again.",setRequestData:function(c){var a="";for(var b in c){if(a){a+="&"}a+=b+"="+c[b]}this.requestData=a},addOutputToMessage:function(a,b){a=(a||"");if(a){a+="\n\n"}a+=this.removeHTML(b);return a},removeHTML:function(a){if(!a){return""}a=a.replace(/<(br|div|p|h\d)[^>]*>/ig,"\n");a=a.replace(/<(span|html|head|title|body)[^>]*>/ig,"");a=a.replace(/<\/[^>]+>/ig,"");a=a.replace("&nbsp;"," ");a=a.replace(/<hr[^>]*>/ig,"\n--------------------------\n");return a},initialize:function(b,a){this.itemId=b;this.args=a;this.fixListener();this.onInitialize();this.onClick()},onSuccessWrapper:function(a){if(a.responseText.match(/ECF\s*Login/)){if(a&&a.argument&&a.argument.redoRequest){CMECF.util.verifyLoginThenRun(a.argument.redoRequest);return false}}if(this.triggerElement&&CMECF.isIE()){this.addNewListener()}this.parseResponse(a);if(a.status===this.ERROR){this.onFailure(a.statusMessage||this.genericError,a.outputBeforeStatus);return}this.onSuccess(a.data,a.statusMessage,a.outputBeforeStatus)},onFailureWrapper:function(a){this.parseResponse(a);this.onFailure(this.removeHTML(a.statusMessage)||this.genericError)},request:function(i){if(!i){i={}}if(!i.argument){i.argument={}}var a=i.method||this.method;var c=i.url||this.lookupUrl;var e=i.action||this.lookupAction;var l=i.item||this.itemId;var k=i.success||this.onSuccessWrapper;var d=i.failure||this.onFailureWrapper;var g=(i.data||this.requestData||("do="+e+"&item="+l));g+="&ajax_module_version=2";a=a.toUpperCase();var h=(a==="POST"?g:null);var b=(a==="GET"?"?"+g:"");var j={success:k,upload:k,failure:d,argument:i.argument,scope:this,cache:false};function f(){CMECF.util.Connect.asyncRequest(a,c+b,j,h)}i.argument.redoRequest=f;f()},parseResponse:function(h){var d=h.responseText;var b=this.SUCCESS;var g="";var c="";var a=d.indexOf("EcfAjaxStatus:");var i="";if(!d){b=this.ERROR}else{if(d.match(/ECF\s*Login/)){b=this.ERROR;g=this.NOT_LOGGED_IN_MESSAGE}else{if(d.match(/yuimenubar/)){b=this.ERROR}else{if(a!==-1){if(a>0){i=d.substring(0,a);d=d.substring(a);b=this.ERROR}d=d.substring(14);if(d.indexOf("Error:")===0){b=this.ERROR;g=d.substring(6)}else{if(d.indexOf("Success:")===0){b=this.SUCCESS;g=d.substring(8)}}}else{c=d}}}}if(c){if(this.outputType==="JSON"){try{c=CMECF.lang.JSON.parse(c)}catch(f){b=this.ERROR;g=(c||f)}}}h.status=b;h.statusMessage=g;h.data=c;h.outputBeforeStatus=i},id:function(a){return(a?this.itemId+"_"+a:this.itemId)},element:function(a){return document.getElementById(this.id(a))},elementValue:function(b){var a=this.element(b);if(a&&a.value){if(a.type==="checkbox"&&!a.checked){return""}return a.value}return""},fixListener:function(){this.triggerElement=this.triggerElement||this.element();if(!CMECF.isIE()){this.addNewListener()}},addNewListener:function(){if(!this.triggerElementListener){this.triggerElement.removeAttribute("onClick");this.triggerElement.onclick="";CMECF.util.Event.addListener(this.triggerElement,"click",this.onClick,this,true);this.triggerElementListener=true}}};CMECF.ajax.extend=function(a){var b=function(d,c){b.superclass.constructor.call(this,d,c)};CMECF.lang.extend(b,CMECF.ajax.item,a);return b};